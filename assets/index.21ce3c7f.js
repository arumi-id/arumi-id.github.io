(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Hl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const be={},Ts=[],Ot=()=>{},Ey=()=>!1,by=/^on[^a-z]/,mo=t=>by.test(t),ql=t=>t.startsWith("onUpdate:"),Le=Object.assign,zl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_y=Object.prototype.hasOwnProperty,se=(t,e)=>_y.call(t,e),K=Array.isArray,Cs=t=>yo(t)==="[object Map]",Xf=t=>yo(t)==="[object Set]",Z=t=>typeof t=="function",Fe=t=>typeof t=="string",Kl=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Jf=t=>Te(t)&&Z(t.then)&&Z(t.catch),Zf=Object.prototype.toString,yo=t=>Zf.call(t),Iy=t=>yo(t).slice(8,-1),ed=t=>yo(t)==="[object Object]",Gl=t=>Fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ki=Hl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ty=/-(\w)/g,Ns=vo(t=>t.replace(Ty,(e,n)=>n?n.toUpperCase():"")),Cy=/\B([A-Z])/g,Ks=vo(t=>t.replace(Cy,"-$1").toLowerCase()),td=vo(t=>t.charAt(0).toUpperCase()+t.slice(1)),oa=vo(t=>t?`on${td(t)}`:""),Sr=(t,e)=>!Object.is(t,e),Di=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ui=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ja=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Sy=t=>{const e=Fe(t)?Number(t):NaN;return isNaN(e)?t:e};let Iu;const Ha=()=>Iu||(Iu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wl(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Fe(s)?Dy(s):Wl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Fe(t))return t;if(Te(t))return t}}const Ay=/;(?![^(]*\))/g,xy=/:([^]+)/,ky=new RegExp("\\/\\*.*?\\*\\/","gs");function Dy(t){const e={};return t.replace(ky,"").split(Ay).forEach(n=>{if(n){const s=n.split(xy);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function bn(t){let e="";if(Fe(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const s=bn(t[n]);s&&(e+=s+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ry="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ny=Hl(Ry);function nd(t){return!!t||t===""}const zn=t=>Fe(t)?t:t==null?"":K(t)||Te(t)&&(t.toString===Zf||!Z(t.toString))?JSON.stringify(t,sd,2):String(t),sd=(t,e)=>e&&e.__v_isRef?sd(t,e.value):Cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Xf(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!K(e)&&!ed(e)?String(e):e;let Dt;class rd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Dt;try{return Dt=this,e()}finally{Dt=n}}}on(){Dt=this}off(){Dt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Py(t){return new rd(t)}function Oy(t,e=Dt){e&&e.active&&e.effects.push(t)}function My(){return Dt}const Ql=t=>{const e=new Set(t);return e.w=0,e.n=0,e},id=t=>(t.w&Dn)>0,od=t=>(t.n&Dn)>0,Ly=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Dn},Fy=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];id(r)&&!od(r)?r.delete(t):e[n++]=r,r.w&=~Dn,r.n&=~Dn}e.length=n}},qa=new WeakMap;let lr=0,Dn=1;const za=30;let Rt;const es=Symbol(""),Ka=Symbol("");class Yl{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Oy(this,s)}run(){if(!this.active)return this.fn();let e=Rt,n=In;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Rt,Rt=this,In=!0,Dn=1<<++lr,lr<=za?Ly(this):Tu(this),this.fn()}finally{lr<=za&&Fy(this),Dn=1<<--lr,Rt=this.parent,In=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Tu(this),this.onStop&&this.onStop(),this.active=!1)}}function Tu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let In=!0;const ad=[];function Gs(){ad.push(In),In=!1}function Ws(){const t=ad.pop();In=t===void 0?!0:t}function mt(t,e,n){if(In&&Rt){let s=qa.get(t);s||qa.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Ql()),ld(r)}}function ld(t,e){let n=!1;lr<=za?od(t)||(t.n|=Dn,n=!id(t)):n=!t.has(Rt),n&&(t.add(Rt),Rt.deps.push(t))}function sn(t,e,n,s,r,i){const o=qa.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&K(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":K(t)?Gl(n)&&a.push(o.get("length")):(a.push(o.get(es)),Cs(t)&&a.push(o.get(Ka)));break;case"delete":K(t)||(a.push(o.get(es)),Cs(t)&&a.push(o.get(Ka)));break;case"set":Cs(t)&&a.push(o.get(es));break}if(a.length===1)a[0]&&Ga(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Ga(Ql(l))}}function Ga(t,e){const n=K(t)?t:[...t];for(const s of n)s.computed&&Cu(s);for(const s of n)s.computed||Cu(s)}function Cu(t,e){(t!==Rt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const $y=Hl("__proto__,__v_isRef,__isVue"),cd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Kl)),By=Xl(),Uy=Xl(!1,!0),Vy=Xl(!0),Su=jy();function jy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=re(this);for(let i=0,o=this.length;i<o;i++)mt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(re)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gs();const s=re(this)[e].apply(this,n);return Ws(),s}}),t}function Hy(t){const e=re(this);return mt(e,"has",t),e.hasOwnProperty(t)}function Xl(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?iv:pd:e?dd:fd).get(s))return s;const o=K(s);if(!t){if(o&&se(Su,r))return Reflect.get(Su,r,i);if(r==="hasOwnProperty")return Hy}const a=Reflect.get(s,r,i);return(Kl(r)?cd.has(r):$y(r))||(t||mt(s,"get",r),e)?a:rt(a)?o&&Gl(r)?a:a.value:Te(a)?t?gd(a):Kr(a):a}}const qy=ud(),zy=ud(!0);function ud(t=!1){return function(n,s,r,i){let o=n[s];if(Ps(o)&&rt(o)&&!rt(r))return!1;if(!t&&(!Vi(r)&&!Ps(r)&&(o=re(o),r=re(r)),!K(n)&&rt(o)&&!rt(r)))return o.value=r,!0;const a=K(n)&&Gl(s)?Number(s)<n.length:se(n,s),l=Reflect.set(n,s,r,i);return n===re(i)&&(a?Sr(r,o)&&sn(n,"set",s,r):sn(n,"add",s,r)),l}}function Ky(t,e){const n=se(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&sn(t,"delete",e,void 0),s}function Gy(t,e){const n=Reflect.has(t,e);return(!Kl(e)||!cd.has(e))&&mt(t,"has",e),n}function Wy(t){return mt(t,"iterate",K(t)?"length":es),Reflect.ownKeys(t)}const hd={get:By,set:qy,deleteProperty:Ky,has:Gy,ownKeys:Wy},Qy={get:Vy,set(t,e){return!0},deleteProperty(t,e){return!0}},Yy=Le({},hd,{get:Uy,set:zy}),Jl=t=>t,wo=t=>Reflect.getPrototypeOf(t);function di(t,e,n=!1,s=!1){t=t.__v_raw;const r=re(t),i=re(e);n||(e!==i&&mt(r,"get",e),mt(r,"get",i));const{has:o}=wo(r),a=s?Jl:n?nc:Ar;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function pi(t,e=!1){const n=this.__v_raw,s=re(n),r=re(t);return e||(t!==r&&mt(s,"has",t),mt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function gi(t,e=!1){return t=t.__v_raw,!e&&mt(re(t),"iterate",es),Reflect.get(t,"size",t)}function Au(t){t=re(t);const e=re(this);return wo(e).has.call(e,t)||(e.add(t),sn(e,"add",t,t)),this}function xu(t,e){e=re(e);const n=re(this),{has:s,get:r}=wo(n);let i=s.call(n,t);i||(t=re(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Sr(e,o)&&sn(n,"set",t,e):sn(n,"add",t,e),this}function ku(t){const e=re(this),{has:n,get:s}=wo(e);let r=n.call(e,t);r||(t=re(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&sn(e,"delete",t,void 0),i}function Du(){const t=re(this),e=t.size!==0,n=t.clear();return e&&sn(t,"clear",void 0,void 0),n}function mi(t,e){return function(s,r){const i=this,o=i.__v_raw,a=re(o),l=e?Jl:t?nc:Ar;return!t&&mt(a,"iterate",es),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function yi(t,e,n){return function(...s){const r=this.__v_raw,i=re(r),o=Cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Jl:e?nc:Ar;return!e&&mt(i,"iterate",l?Ka:es),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function gn(t){return function(...e){return t==="delete"?!1:this}}function Xy(){const t={get(i){return di(this,i)},get size(){return gi(this)},has:pi,add:Au,set:xu,delete:ku,clear:Du,forEach:mi(!1,!1)},e={get(i){return di(this,i,!1,!0)},get size(){return gi(this)},has:pi,add:Au,set:xu,delete:ku,clear:Du,forEach:mi(!1,!0)},n={get(i){return di(this,i,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:mi(!0,!1)},s={get(i){return di(this,i,!0,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=yi(i,!1,!1),n[i]=yi(i,!0,!1),e[i]=yi(i,!1,!0),s[i]=yi(i,!0,!0)}),[t,n,e,s]}const[Jy,Zy,ev,tv]=Xy();function Zl(t,e){const n=e?t?tv:ev:t?Zy:Jy;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(se(n,r)&&r in s?n:s,r,i)}const nv={get:Zl(!1,!1)},sv={get:Zl(!1,!0)},rv={get:Zl(!0,!1)},fd=new WeakMap,dd=new WeakMap,pd=new WeakMap,iv=new WeakMap;function ov(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function av(t){return t.__v_skip||!Object.isExtensible(t)?0:ov(Iy(t))}function Kr(t){return Ps(t)?t:ec(t,!1,hd,nv,fd)}function lv(t){return ec(t,!1,Yy,sv,dd)}function gd(t){return ec(t,!0,Qy,rv,pd)}function ec(t,e,n,s,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=av(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Ss(t){return Ps(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function Ps(t){return!!(t&&t.__v_isReadonly)}function Vi(t){return!!(t&&t.__v_isShallow)}function md(t){return Ss(t)||Ps(t)}function re(t){const e=t&&t.__v_raw;return e?re(e):t}function tc(t){return Ui(t,"__v_skip",!0),t}const Ar=t=>Te(t)?Kr(t):t,nc=t=>Te(t)?gd(t):t;function yd(t){In&&Rt&&(t=re(t),ld(t.dep||(t.dep=Ql())))}function vd(t,e){t=re(t);const n=t.dep;n&&Ga(n)}function rt(t){return!!(t&&t.__v_isRef===!0)}function ve(t){return wd(t,!1)}function cv(t){return wd(t,!0)}function wd(t,e){return rt(t)?t:new uv(t,e)}class uv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:re(e),this._value=n?e:Ar(e)}get value(){return yd(this),this._value}set value(e){const n=this.__v_isShallow||Vi(e)||Ps(e);e=n?e:re(e),Sr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ar(e),vd(this))}}function Ne(t){return rt(t)?t.value:t}const hv={get:(t,e,n)=>Ne(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return rt(r)&&!rt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ed(t){return Ss(t)?t:new Proxy(t,hv)}class fv{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Yl(e,()=>{this._dirty||(this._dirty=!0,vd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=re(this);return yd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function dv(t,e,n=!1){let s,r;const i=Z(t);return i?(s=t,r=Ot):(s=t.get,r=t.set),new fv(s,r,i||!r,n)}function Tn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Eo(i,e,n)}return r}function At(t,e,n,s){if(Z(t)){const i=Tn(t,e,n,s);return i&&Jf(i)&&i.catch(o=>{Eo(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(At(t[i],e,n,s));return r}function Eo(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Tn(l,null,10,[t,o,a]);return}}pv(t,n,r,s)}function pv(t,e,n,s=!0){console.error(t)}let xr=!1,Wa=!1;const nt=[];let jt=0;const As=[];let Jt=null,Kn=0;const bd=Promise.resolve();let sc=null;function tn(t){const e=sc||bd;return t?e.then(this?t.bind(this):t):e}function gv(t){let e=jt+1,n=nt.length;for(;e<n;){const s=e+n>>>1;kr(nt[s])<t?e=s+1:n=s}return e}function rc(t){(!nt.length||!nt.includes(t,xr&&t.allowRecurse?jt+1:jt))&&(t.id==null?nt.push(t):nt.splice(gv(t.id),0,t),_d())}function _d(){!xr&&!Wa&&(Wa=!0,sc=bd.then(Td))}function mv(t){const e=nt.indexOf(t);e>jt&&nt.splice(e,1)}function yv(t){K(t)?As.push(...t):(!Jt||!Jt.includes(t,t.allowRecurse?Kn+1:Kn))&&As.push(t),_d()}function Ru(t,e=xr?jt+1:0){for(;e<nt.length;e++){const n=nt[e];n&&n.pre&&(nt.splice(e,1),e--,n())}}function Id(t){if(As.length){const e=[...new Set(As)];if(As.length=0,Jt){Jt.push(...e);return}for(Jt=e,Jt.sort((n,s)=>kr(n)-kr(s)),Kn=0;Kn<Jt.length;Kn++)Jt[Kn]();Jt=null,Kn=0}}const kr=t=>t.id==null?1/0:t.id,vv=(t,e)=>{const n=kr(t)-kr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Td(t){Wa=!1,xr=!0,nt.sort(vv);const e=Ot;try{for(jt=0;jt<nt.length;jt++){const n=nt[jt];n&&n.active!==!1&&Tn(n,null,14)}}finally{jt=0,nt.length=0,Id(),xr=!1,sc=null,(nt.length||As.length)&&Td()}}function wv(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||be;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||be;f&&(r=n.map(p=>Fe(p)?p.trim():p)),h&&(r=n.map(ja))}let a,l=s[a=oa(e)]||s[a=oa(Ns(e))];!l&&i&&(l=s[a=oa(Ks(e))]),l&&At(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,At(c,t,6,r)}}function Cd(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Cd(c,e,!0);u&&(a=!0,Le(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Te(t)&&s.set(t,null),null):(K(i)?i.forEach(l=>o[l]=null):Le(o,i),Te(t)&&s.set(t,o),o)}function bo(t,e){return!t||!mo(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,Ks(e))||se(t,e))}let St=null,Sd=null;function ji(t){const e=St;return St=t,Sd=t&&t.type.__scopeId||null,e}function It(t,e=St,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ju(-1);const i=ji(e);let o;try{o=t(...r)}finally{ji(i),s._d&&ju(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function aa(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:v}=t;let b,A;const R=ji(t);try{if(n.shapeFlag&4){const M=r||s;b=Vt(u.call(M,M,h,i,p,f,m)),A=l}else{const M=e;b=Vt(M.length>1?M(i,{attrs:l,slots:a,emit:c}):M(i,null)),A=e.props?l:Ev(l)}}catch(M){mr.length=0,Eo(M,t,1),b=me(Mt)}let V=b;if(A&&v!==!1){const M=Object.keys(A),{shapeFlag:ie}=V;M.length&&ie&7&&(o&&M.some(ql)&&(A=bv(A,o)),V=rn(V,A))}return n.dirs&&(V=rn(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),b=V,ji(R),b}const Ev=t=>{let e;for(const n in t)(n==="class"||n==="style"||mo(n))&&((e||(e={}))[n]=t[n]);return e},bv=(t,e)=>{const n={};for(const s in t)(!ql(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function _v(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Nu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!bo(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Nu(s,o,c):!0:!!o;return!1}function Nu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!bo(n,i))return!0}return!1}function Iv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Tv=t=>t.__isSuspense;function Cv(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):yv(t)}function Gr(t,e){return ic(t,null,e)}const vi={};function Ri(t,e,n){return ic(t,e,n)}function ic(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=be){var a;const l=My()===((a=Qe)==null?void 0:a.scope)?Qe:null;let c,u=!1,h=!1;if(rt(t)?(c=()=>t.value,u=Vi(t)):Ss(t)?(c=()=>t,s=!0):K(t)?(h=!0,u=t.some(M=>Ss(M)||Vi(M)),c=()=>t.map(M=>{if(rt(M))return M.value;if(Ss(M))return Qn(M);if(Z(M))return Tn(M,l,2)})):Z(t)?e?c=()=>Tn(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),At(t,l,3,[p])}:c=Ot,e&&s){const M=c;c=()=>Qn(M())}let f,p=M=>{f=R.onStop=()=>{Tn(M,l,4)}},m;if(Rr)if(p=Ot,e?n&&At(e,l,3,[c(),h?[]:void 0,p]):c(),r==="sync"){const M=w0();m=M.__watcherHandles||(M.__watcherHandles=[])}else return Ot;let v=h?new Array(t.length).fill(vi):vi;const b=()=>{if(!!R.active)if(e){const M=R.run();(s||u||(h?M.some((ie,Ce)=>Sr(ie,v[Ce])):Sr(M,v)))&&(f&&f(),At(e,l,3,[M,v===vi?void 0:h&&v[0]===vi?[]:v,p]),v=M)}else R.run()};b.allowRecurse=!!e;let A;r==="sync"?A=b:r==="post"?A=()=>dt(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),A=()=>rc(b));const R=new Yl(c,A);e?n?b():v=R.run():r==="post"?dt(R.run.bind(R),l&&l.suspense):R.run();const V=()=>{R.stop(),l&&l.scope&&zl(l.scope.effects,R)};return m&&m.push(V),V}function Sv(t,e,n){const s=this.proxy,r=Fe(t)?t.includes(".")?Ad(s,t):()=>s[t]:t.bind(s,s);let i;Z(e)?i=e:(i=e.handler,n=e);const o=Qe;Os(this);const a=ic(r,i.bind(s),n);return o?Os(o):ts(),a}function Ad(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Qn(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rt(t))Qn(t.value,e);else if(K(t))for(let n=0;n<t.length;n++)Qn(t[n],e);else if(Xf(t)||Cs(t))t.forEach(n=>{Qn(n,e)});else if(ed(t))for(const n in t)Qn(t[n],e);return t}function nr(t,e){const n=St;if(n===null)return t;const s=So(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=be]=e[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Qn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Un(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Gs(),At(l,n,8,[t.el,a,t,e]),Ws())}}function Av(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rn(()=>{t.isMounted=!0}),Nd(()=>{t.isUnmounting=!0}),t}const _t=[Function,Array],xd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_t,onEnter:_t,onAfterEnter:_t,onEnterCancelled:_t,onBeforeLeave:_t,onLeave:_t,onAfterLeave:_t,onLeaveCancelled:_t,onBeforeAppear:_t,onAppear:_t,onAfterAppear:_t,onAppearCancelled:_t},xv={name:"BaseTransition",props:xd,setup(t,{slots:e}){const n=f0(),s=Av();let r;return()=>{const i=e.default&&Dd(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const v of i)if(v.type!==Mt){o=v;break}}const a=re(t),{mode:l}=a;if(s.isLeaving)return la(o);const c=Pu(o);if(!c)return la(o);const u=Qa(c,a,s,n);Ya(c,u);const h=n.subTree,f=h&&Pu(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const v=m();r===void 0?r=v:v!==r&&(r=v,p=!0)}if(f&&f.type!==Mt&&(!Gn(c,f)||p)){const v=Qa(f,a,s,n);if(Ya(f,v),l==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},la(o);l==="in-out"&&c.type!==Mt&&(v.delayLeave=(b,A,R)=>{const V=kd(s,f);V[String(f.key)]=f,b._leaveCb=()=>{A(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=R})}return o}}},kv=xv;function kd(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Qa(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:A,onAppearCancelled:R}=e,V=String(t.key),M=kd(n,t),ie=(X,de)=>{X&&At(X,s,9,de)},Ce=(X,de)=>{const pe=de[1];ie(X,de),K(X)?X.every(Be=>Be.length<=1)&&pe():X.length<=1&&pe()},$e={mode:i,persisted:o,beforeEnter(X){let de=a;if(!n.isMounted)if(r)de=v||a;else return;X._leaveCb&&X._leaveCb(!0);const pe=M[V];pe&&Gn(t,pe)&&pe.el._leaveCb&&pe.el._leaveCb(),ie(de,[X])},enter(X){let de=l,pe=c,Be=u;if(!n.isMounted)if(r)de=b||l,pe=A||c,Be=R||u;else return;let B=!1;const ue=X._enterCb=ct=>{B||(B=!0,ct?ie(Be,[X]):ie(pe,[X]),$e.delayedLeave&&$e.delayedLeave(),X._enterCb=void 0)};de?Ce(de,[X,ue]):ue()},leave(X,de){const pe=String(t.key);if(X._enterCb&&X._enterCb(!0),n.isUnmounting)return de();ie(h,[X]);let Be=!1;const B=X._leaveCb=ue=>{Be||(Be=!0,de(),ue?ie(m,[X]):ie(p,[X]),X._leaveCb=void 0,M[pe]===t&&delete M[pe])};M[pe]=t,f?Ce(f,[X,B]):B()},clone(X){return Qa(X,e,n,s)}};return $e}function la(t){if(_o(t))return t=rn(t),t.children=null,t}function Pu(t){return _o(t)?t.children?t.children[0]:void 0:t}function Ya(t,e){t.shapeFlag&6&&t.component?Ya(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Dd(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===et?(o.patchFlag&128&&r++,s=s.concat(Dd(o.children,e,a))):(e||o.type!==Mt)&&s.push(a!=null?rn(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function fn(t,e){return Z(t)?(()=>Le({name:t.name},e,{setup:t}))():t}const Ni=t=>!!t.type.__asyncLoader,_o=t=>t.type.__isKeepAlive;function Dv(t,e){Rd(t,"a",e)}function Rv(t,e){Rd(t,"da",e)}function Rd(t,e,n=Qe){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Io(e,s,n),n){let r=n.parent;for(;r&&r.parent;)_o(r.parent.vnode)&&Nv(s,e,n,r),r=r.parent}}function Nv(t,e,n,s){const r=Io(e,t,s,!0);Wr(()=>{zl(s[e],r)},n)}function Io(t,e,n=Qe,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Gs(),Os(n);const a=At(e,n,t,o);return ts(),Ws(),a});return s?r.unshift(i):r.push(i),i}}const dn=t=>(e,n=Qe)=>(!Rr||t==="sp")&&Io(t,(...s)=>e(...s),n),Pv=dn("bm"),Rn=dn("m"),Ov=dn("bu"),Mv=dn("u"),Nd=dn("bum"),Wr=dn("um"),Lv=dn("sp"),Fv=dn("rtg"),$v=dn("rtc");function Bv(t,e=Qe){Io("ec",t,e)}const Uv=Symbol.for("v-ndc");function Xa(t,e,n,s){let r;const i=n&&n[s];if(K(t)||Fe(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Ja=t=>t?zd(t)?So(t)||t.proxy:Ja(t.parent):null,gr=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ja(t.parent),$root:t=>Ja(t.root),$emit:t=>t.emit,$options:t=>oc(t),$forceUpdate:t=>t.f||(t.f=()=>rc(t.update)),$nextTick:t=>t.n||(t.n=tn.bind(t.proxy)),$watch:t=>Sv.bind(t)}),ca=(t,e)=>t!==be&&!t.__isScriptSetup&&se(t,e),Vv={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ca(s,e))return o[e]=1,s[e];if(r!==be&&se(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&se(c,e))return o[e]=3,i[e];if(n!==be&&se(n,e))return o[e]=4,n[e];Za&&(o[e]=0)}}const u=gr[e];let h,f;if(u)return e==="$attrs"&&mt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&se(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,se(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ca(r,e)?(r[e]=n,!0):s!==be&&se(s,e)?(s[e]=n,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==be&&se(t,o)||ca(e,o)||(a=i[0])&&se(a,o)||se(s,o)||se(gr,o)||se(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ou(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Za=!0;function jv(t){const e=oc(t),n=t.proxy,s=t.ctx;Za=!1,e.beforeCreate&&Mu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:v,deactivated:b,beforeDestroy:A,beforeUnmount:R,destroyed:V,unmounted:M,render:ie,renderTracked:Ce,renderTriggered:$e,errorCaptured:X,serverPrefetch:de,expose:pe,inheritAttrs:Be,components:B,directives:ue,filters:ct}=e;if(c&&Hv(c,s,null),o)for(const ye in o){const ae=o[ye];Z(ae)&&(s[ye]=ae.bind(n))}if(r){const ye=r.call(n,n);Te(ye)&&(t.data=Kr(ye))}if(Za=!0,i)for(const ye in i){const ae=i[ye],Yt=Z(ae)?ae.bind(n,n):Z(ae.get)?ae.get.bind(n,n):Ot,pn=!Z(ae)&&Z(ae.set)?ae.set.bind(n):Ot,$t=_e({get:Yt,set:pn});Object.defineProperty(s,ye,{enumerable:!0,configurable:!0,get:()=>$t.value,set:ft=>$t.value=ft})}if(a)for(const ye in a)Pd(a[ye],s,n,ye);if(l){const ye=Z(l)?l.call(n):l;Reflect.ownKeys(ye).forEach(ae=>{Cn(ae,ye[ae])})}u&&Mu(u,t,"c");function Re(ye,ae){K(ae)?ae.forEach(Yt=>ye(Yt.bind(n))):ae&&ye(ae.bind(n))}if(Re(Pv,h),Re(Rn,f),Re(Ov,p),Re(Mv,m),Re(Dv,v),Re(Rv,b),Re(Bv,X),Re($v,Ce),Re(Fv,$e),Re(Nd,R),Re(Wr,M),Re(Lv,de),K(pe))if(pe.length){const ye=t.exposed||(t.exposed={});pe.forEach(ae=>{Object.defineProperty(ye,ae,{get:()=>n[ae],set:Yt=>n[ae]=Yt})})}else t.exposed||(t.exposed={});ie&&t.render===Ot&&(t.render=ie),Be!=null&&(t.inheritAttrs=Be),B&&(t.components=B),ue&&(t.directives=ue)}function Hv(t,e,n=Ot){K(t)&&(t=el(t));for(const s in t){const r=t[s];let i;Te(r)?"default"in r?i=wt(r.from||s,r.default,!0):i=wt(r.from||s):i=wt(r),rt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Mu(t,e,n){At(K(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pd(t,e,n,s){const r=s.includes(".")?Ad(n,s):()=>n[s];if(Fe(t)){const i=e[t];Z(i)&&Ri(r,i)}else if(Z(t))Ri(r,t.bind(n));else if(Te(t))if(K(t))t.forEach(i=>Pd(i,e,n,s));else{const i=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(i)&&Ri(r,i,t)}}function oc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Hi(l,c,o,!0)),Hi(l,e,o)),Te(e)&&i.set(e,l),l}function Hi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Hi(t,i,n,!0),r&&r.forEach(o=>Hi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=qv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qv={data:Lu,props:Fu,emits:Fu,methods:cr,computed:cr,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:cr,directives:cr,watch:Kv,provide:Lu,inject:zv};function Lu(t,e){return e?t?function(){return Le(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function zv(t,e){return cr(el(t),el(e))}function el(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ut(t,e){return t?[...new Set([].concat(t,e))]:e}function cr(t,e){return t?Le(Object.create(null),t,e):e}function Fu(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:Le(Object.create(null),Ou(t),Ou(e!=null?e:{})):e}function Kv(t,e){if(!t)return e;if(!e)return t;const n=Le(Object.create(null),t);for(const s in e)n[s]=ut(t[s],e[s]);return n}function Od(){return{app:null,config:{isNativeTag:Ey,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gv=0;function Wv(t,e){return function(s,r=null){Z(s)||(s=Le({},s)),r!=null&&!Te(r)&&(r=null);const i=Od(),o=new Set;let a=!1;const l=i.app={_uid:Gv++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:E0,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=me(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,So(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){qi=l;try{return c()}finally{qi=null}}};return l}}let qi=null;function Cn(t,e){if(Qe){let n=Qe.provides;const s=Qe.parent&&Qe.parent.provides;s===n&&(n=Qe.provides=Object.create(s)),n[t]=e}}function wt(t,e,n=!1){const s=Qe||St;if(s||qi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:qi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Z(e)?e.call(s&&s.proxy):e}}function Qv(t,e,n,s=!1){const r={},i={};Ui(i,Co,1),t.propsDefaults=Object.create(null),Md(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:lv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Yv(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=re(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(bo(t.emitsOptions,f))continue;const p=e[f];if(l)if(se(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const m=Ns(f);r[m]=tl(l,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{Md(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=Ks(h))===h||!se(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=tl(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!se(e,h)&&!0)&&(delete i[h],c=!0)}c&&sn(t,"set","$attrs")}function Md(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ki(l))continue;const c=e[l];let u;r&&se(r,u=Ns(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:bo(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=re(n),c=a||be;for(let u=0;u<i.length;u++){const h=i[u];n[h]=tl(r,l,h,c[h],t,!se(c,h))}}return o}function tl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Os(r),s=c[n]=l.call(null,e),ts())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ks(n))&&(s=!0))}return s}function Ld(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=h=>{l=!0;const[f,p]=Ld(h,e,!0);Le(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Te(t)&&s.set(t,Ts),Ts;if(K(i))for(let u=0;u<i.length;u++){const h=Ns(i[u]);$u(h)&&(o[h]=be)}else if(i)for(const u in i){const h=Ns(u);if($u(h)){const f=i[u],p=o[h]=K(f)||Z(f)?{type:f}:Le({},f);if(p){const m=Vu(Boolean,p.type),v=Vu(String,p.type);p[0]=m>-1,p[1]=v<0||m<v,(m>-1||se(p,"default"))&&a.push(h)}}}const c=[o,a];return Te(t)&&s.set(t,c),c}function $u(t){return t[0]!=="$"}function Bu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Uu(t,e){return Bu(t)===Bu(e)}function Vu(t,e){return K(e)?e.findIndex(n=>Uu(n,t)):Z(e)&&Uu(e,t)?0:-1}const Fd=t=>t[0]==="_"||t==="$stable",ac=t=>K(t)?t.map(Vt):[Vt(t)],Xv=(t,e,n)=>{if(e._n)return e;const s=It((...r)=>ac(e(...r)),n);return s._c=!1,s},$d=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Fd(r))continue;const i=t[r];if(Z(i))e[r]=Xv(r,i,s);else if(i!=null){const o=ac(i);e[r]=()=>o}}},Bd=(t,e)=>{const n=ac(e);t.slots.default=()=>n},Jv=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=re(e),Ui(e,"_",n)):$d(e,t.slots={})}else t.slots={},e&&Bd(t,e);Ui(t.slots,Co,1)},Zv=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=be;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Le(r,e),!n&&a===1&&delete r._):(i=!e.$stable,$d(e,r)),o=e}else e&&(Bd(t,e),o={default:1});if(i)for(const a in r)!Fd(a)&&!(a in o)&&delete r[a]};function nl(t,e,n,s,r=!1){if(K(t)){t.forEach((f,p)=>nl(f,e&&(K(e)?e[p]:e),n,s,r));return}if(Ni(s)&&!r)return;const i=s.shapeFlag&4?So(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===be?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Fe(c)?(u[c]=null,se(h,c)&&(h[c]=null)):rt(c)&&(c.value=null)),Z(l))Tn(l,a,12,[o,u]);else{const f=Fe(l),p=rt(l);if(f||p){const m=()=>{if(t.f){const v=f?se(h,l)?h[l]:u[l]:l.value;r?K(v)&&zl(v,i):K(v)?v.includes(i)||v.push(i):f?(u[l]=[i],se(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,se(h,l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,dt(m,n)):m()}}}const dt=Cv;function e0(t){return t0(t)}function t0(t,e){const n=Ha();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Ot,insertStaticContent:m}=t,v=(d,g,y,w=null,_=null,I=null,P=!1,x=null,k=!!g.dynamicChildren)=>{if(d===g)return;d&&!Gn(d,g)&&(w=E(d),ft(d,_,I,!0),d=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:C,ref:j,shapeFlag:F}=g;switch(C){case To:b(d,g,y,w);break;case Mt:A(d,g,y,w);break;case Pi:d==null&&R(g,y,w,P);break;case et:B(d,g,y,w,_,I,P,x,k);break;default:F&1?ie(d,g,y,w,_,I,P,x,k):F&6?ue(d,g,y,w,_,I,P,x,k):(F&64||F&128)&&C.process(d,g,y,w,_,I,P,x,k,D)}j!=null&&_&&nl(j,d&&d.ref,I,g||d,!g)},b=(d,g,y,w)=>{if(d==null)s(g.el=a(g.children),y,w);else{const _=g.el=d.el;g.children!==d.children&&c(_,g.children)}},A=(d,g,y,w)=>{d==null?s(g.el=l(g.children||""),y,w):g.el=d.el},R=(d,g,y,w)=>{[d.el,d.anchor]=m(d.children,g,y,w,d.el,d.anchor)},V=({el:d,anchor:g},y,w)=>{let _;for(;d&&d!==g;)_=f(d),s(d,y,w),d=_;s(g,y,w)},M=({el:d,anchor:g})=>{let y;for(;d&&d!==g;)y=f(d),r(d),d=y;r(g)},ie=(d,g,y,w,_,I,P,x,k)=>{P=P||g.type==="svg",d==null?Ce(g,y,w,_,I,P,x,k):de(d,g,_,I,P,x,k)},Ce=(d,g,y,w,_,I,P,x)=>{let k,C;const{type:j,props:F,shapeFlag:H,transition:Q,dirs:ee}=d;if(k=d.el=o(d.type,I,F&&F.is,F),H&8?u(k,d.children):H&16&&X(d.children,k,null,w,_,I&&j!=="foreignObject",P,x),ee&&Un(d,null,w,"created"),$e(k,d,d.scopeId,P,w),F){for(const ge in F)ge!=="value"&&!ki(ge)&&i(k,ge,null,F[ge],I,d.children,w,_,Xe);"value"in F&&i(k,"value",null,F.value),(C=F.onVnodeBeforeMount)&&Ut(C,w,d)}ee&&Un(d,null,w,"beforeMount");const Ee=(!_||_&&!_.pendingBranch)&&Q&&!Q.persisted;Ee&&Q.beforeEnter(k),s(k,g,y),((C=F&&F.onVnodeMounted)||Ee||ee)&&dt(()=>{C&&Ut(C,w,d),Ee&&Q.enter(k),ee&&Un(d,null,w,"mounted")},_)},$e=(d,g,y,w,_)=>{if(y&&p(d,y),w)for(let I=0;I<w.length;I++)p(d,w[I]);if(_){let I=_.subTree;if(g===I){const P=_.vnode;$e(d,P,P.scopeId,P.slotScopeIds,_.parent)}}},X=(d,g,y,w,_,I,P,x,k=0)=>{for(let C=k;C<d.length;C++){const j=d[C]=x?wn(d[C]):Vt(d[C]);v(null,j,g,y,w,_,I,P,x)}},de=(d,g,y,w,_,I,P)=>{const x=g.el=d.el;let{patchFlag:k,dynamicChildren:C,dirs:j}=g;k|=d.patchFlag&16;const F=d.props||be,H=g.props||be;let Q;y&&Vn(y,!1),(Q=H.onVnodeBeforeUpdate)&&Ut(Q,y,g,d),j&&Un(g,d,y,"beforeUpdate"),y&&Vn(y,!0);const ee=_&&g.type!=="foreignObject";if(C?pe(d.dynamicChildren,C,x,y,w,ee,I):P||ae(d,g,x,null,y,w,ee,I,!1),k>0){if(k&16)Be(x,g,F,H,y,w,_);else if(k&2&&F.class!==H.class&&i(x,"class",null,H.class,_),k&4&&i(x,"style",F.style,H.style,_),k&8){const Ee=g.dynamicProps;for(let ge=0;ge<Ee.length;ge++){const Pe=Ee[ge],kt=F[Pe],ms=H[Pe];(ms!==kt||Pe==="value")&&i(x,Pe,kt,ms,_,d.children,y,w,Xe)}}k&1&&d.children!==g.children&&u(x,g.children)}else!P&&C==null&&Be(x,g,F,H,y,w,_);((Q=H.onVnodeUpdated)||j)&&dt(()=>{Q&&Ut(Q,y,g,d),j&&Un(g,d,y,"updated")},w)},pe=(d,g,y,w,_,I,P)=>{for(let x=0;x<g.length;x++){const k=d[x],C=g[x],j=k.el&&(k.type===et||!Gn(k,C)||k.shapeFlag&70)?h(k.el):y;v(k,C,j,null,w,_,I,P,!0)}},Be=(d,g,y,w,_,I,P)=>{if(y!==w){if(y!==be)for(const x in y)!ki(x)&&!(x in w)&&i(d,x,y[x],null,P,g.children,_,I,Xe);for(const x in w){if(ki(x))continue;const k=w[x],C=y[x];k!==C&&x!=="value"&&i(d,x,C,k,P,g.children,_,I,Xe)}"value"in w&&i(d,"value",y.value,w.value)}},B=(d,g,y,w,_,I,P,x,k)=>{const C=g.el=d?d.el:a(""),j=g.anchor=d?d.anchor:a("");let{patchFlag:F,dynamicChildren:H,slotScopeIds:Q}=g;Q&&(x=x?x.concat(Q):Q),d==null?(s(C,y,w),s(j,y,w),X(g.children,y,j,_,I,P,x,k)):F>0&&F&64&&H&&d.dynamicChildren?(pe(d.dynamicChildren,H,y,_,I,P,x),(g.key!=null||_&&g===_.subTree)&&Ud(d,g,!0)):ae(d,g,y,j,_,I,P,x,k)},ue=(d,g,y,w,_,I,P,x,k)=>{g.slotScopeIds=x,d==null?g.shapeFlag&512?_.ctx.activate(g,y,w,P,k):ct(g,y,w,_,I,P,k):Qt(d,g,k)},ct=(d,g,y,w,_,I,P)=>{const x=d.component=h0(d,w,_);if(_o(d)&&(x.ctx.renderer=D),d0(x),x.asyncDep){if(_&&_.registerDep(x,Re),!d.el){const k=x.subTree=me(Mt);A(null,k,g,y)}return}Re(x,d,g,y,_,I,P)},Qt=(d,g,y)=>{const w=g.component=d.component;if(_v(d,g,y))if(w.asyncDep&&!w.asyncResolved){ye(w,g,y);return}else w.next=g,mv(w.update),w.update();else g.el=d.el,w.vnode=g},Re=(d,g,y,w,_,I,P)=>{const x=()=>{if(d.isMounted){let{next:j,bu:F,u:H,parent:Q,vnode:ee}=d,Ee=j,ge;Vn(d,!1),j?(j.el=ee.el,ye(d,j,P)):j=ee,F&&Di(F),(ge=j.props&&j.props.onVnodeBeforeUpdate)&&Ut(ge,Q,j,ee),Vn(d,!0);const Pe=aa(d),kt=d.subTree;d.subTree=Pe,v(kt,Pe,h(kt.el),E(kt),d,_,I),j.el=Pe.el,Ee===null&&Iv(d,Pe.el),H&&dt(H,_),(ge=j.props&&j.props.onVnodeUpdated)&&dt(()=>Ut(ge,Q,j,ee),_)}else{let j;const{el:F,props:H}=g,{bm:Q,m:ee,parent:Ee}=d,ge=Ni(g);if(Vn(d,!1),Q&&Di(Q),!ge&&(j=H&&H.onVnodeBeforeMount)&&Ut(j,Ee,g),Vn(d,!0),F&&le){const Pe=()=>{d.subTree=aa(d),le(F,d.subTree,d,_,null)};ge?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Pe()):Pe()}else{const Pe=d.subTree=aa(d);v(null,Pe,y,w,d,_,I),g.el=Pe.el}if(ee&&dt(ee,_),!ge&&(j=H&&H.onVnodeMounted)){const Pe=g;dt(()=>Ut(j,Ee,Pe),_)}(g.shapeFlag&256||Ee&&Ni(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&d.a&&dt(d.a,_),d.isMounted=!0,g=y=w=null}},k=d.effect=new Yl(x,()=>rc(C),d.scope),C=d.update=()=>k.run();C.id=d.uid,Vn(d,!0),C()},ye=(d,g,y)=>{g.component=d;const w=d.vnode.props;d.vnode=g,d.next=null,Yv(d,g.props,w,y),Zv(d,g.children,y),Gs(),Ru(),Ws()},ae=(d,g,y,w,_,I,P,x,k=!1)=>{const C=d&&d.children,j=d?d.shapeFlag:0,F=g.children,{patchFlag:H,shapeFlag:Q}=g;if(H>0){if(H&128){pn(C,F,y,w,_,I,P,x,k);return}else if(H&256){Yt(C,F,y,w,_,I,P,x,k);return}}Q&8?(j&16&&Xe(C,_,I),F!==C&&u(y,F)):j&16?Q&16?pn(C,F,y,w,_,I,P,x,k):Xe(C,_,I,!0):(j&8&&u(y,""),Q&16&&X(F,y,w,_,I,P,x,k))},Yt=(d,g,y,w,_,I,P,x,k)=>{d=d||Ts,g=g||Ts;const C=d.length,j=g.length,F=Math.min(C,j);let H;for(H=0;H<F;H++){const Q=g[H]=k?wn(g[H]):Vt(g[H]);v(d[H],Q,y,null,_,I,P,x,k)}C>j?Xe(d,_,I,!0,!1,F):X(g,y,w,_,I,P,x,k,F)},pn=(d,g,y,w,_,I,P,x,k)=>{let C=0;const j=g.length;let F=d.length-1,H=j-1;for(;C<=F&&C<=H;){const Q=d[C],ee=g[C]=k?wn(g[C]):Vt(g[C]);if(Gn(Q,ee))v(Q,ee,y,null,_,I,P,x,k);else break;C++}for(;C<=F&&C<=H;){const Q=d[F],ee=g[H]=k?wn(g[H]):Vt(g[H]);if(Gn(Q,ee))v(Q,ee,y,null,_,I,P,x,k);else break;F--,H--}if(C>F){if(C<=H){const Q=H+1,ee=Q<j?g[Q].el:w;for(;C<=H;)v(null,g[C]=k?wn(g[C]):Vt(g[C]),y,ee,_,I,P,x,k),C++}}else if(C>H)for(;C<=F;)ft(d[C],_,I,!0),C++;else{const Q=C,ee=C,Ee=new Map;for(C=ee;C<=H;C++){const yt=g[C]=k?wn(g[C]):Vt(g[C]);yt.key!=null&&Ee.set(yt.key,C)}let ge,Pe=0;const kt=H-ee+1;let ms=!1,Eu=0;const tr=new Array(kt);for(C=0;C<kt;C++)tr[C]=0;for(C=Q;C<=F;C++){const yt=d[C];if(Pe>=kt){ft(yt,_,I,!0);continue}let Bt;if(yt.key!=null)Bt=Ee.get(yt.key);else for(ge=ee;ge<=H;ge++)if(tr[ge-ee]===0&&Gn(yt,g[ge])){Bt=ge;break}Bt===void 0?ft(yt,_,I,!0):(tr[Bt-ee]=C+1,Bt>=Eu?Eu=Bt:ms=!0,v(yt,g[Bt],y,null,_,I,P,x,k),Pe++)}const bu=ms?n0(tr):Ts;for(ge=bu.length-1,C=kt-1;C>=0;C--){const yt=ee+C,Bt=g[yt],_u=yt+1<j?g[yt+1].el:w;tr[C]===0?v(null,Bt,y,_u,_,I,P,x,k):ms&&(ge<0||C!==bu[ge]?$t(Bt,y,_u,2):ge--)}}},$t=(d,g,y,w,_=null)=>{const{el:I,type:P,transition:x,children:k,shapeFlag:C}=d;if(C&6){$t(d.component.subTree,g,y,w);return}if(C&128){d.suspense.move(g,y,w);return}if(C&64){P.move(d,g,y,D);return}if(P===et){s(I,g,y);for(let F=0;F<k.length;F++)$t(k[F],g,y,w);s(d.anchor,g,y);return}if(P===Pi){V(d,g,y);return}if(w!==2&&C&1&&x)if(w===0)x.beforeEnter(I),s(I,g,y),dt(()=>x.enter(I),_);else{const{leave:F,delayLeave:H,afterLeave:Q}=x,ee=()=>s(I,g,y),Ee=()=>{F(I,()=>{ee(),Q&&Q()})};H?H(I,ee,Ee):Ee()}else s(I,g,y)},ft=(d,g,y,w=!1,_=!1)=>{const{type:I,props:P,ref:x,children:k,dynamicChildren:C,shapeFlag:j,patchFlag:F,dirs:H}=d;if(x!=null&&nl(x,null,y,d,!0),j&256){g.ctx.deactivate(d);return}const Q=j&1&&H,ee=!Ni(d);let Ee;if(ee&&(Ee=P&&P.onVnodeBeforeUnmount)&&Ut(Ee,g,d),j&6)fi(d.component,y,w);else{if(j&128){d.suspense.unmount(y,w);return}Q&&Un(d,null,g,"beforeUnmount"),j&64?d.type.remove(d,g,y,_,D,w):C&&(I!==et||F>0&&F&64)?Xe(C,g,y,!1,!0):(I===et&&F&384||!_&&j&16)&&Xe(k,g,y),w&&ps(d)}(ee&&(Ee=P&&P.onVnodeUnmounted)||Q)&&dt(()=>{Ee&&Ut(Ee,g,d),Q&&Un(d,null,g,"unmounted")},y)},ps=d=>{const{type:g,el:y,anchor:w,transition:_}=d;if(g===et){gs(y,w);return}if(g===Pi){M(d);return}const I=()=>{r(y),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:P,delayLeave:x}=_,k=()=>P(y,I);x?x(d.el,I,k):k()}else I()},gs=(d,g)=>{let y;for(;d!==g;)y=f(d),r(d),d=y;r(g)},fi=(d,g,y)=>{const{bum:w,scope:_,update:I,subTree:P,um:x}=d;w&&Di(w),_.stop(),I&&(I.active=!1,ft(P,d,g,y)),x&&dt(x,g),dt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Xe=(d,g,y,w=!1,_=!1,I=0)=>{for(let P=I;P<d.length;P++)ft(d[P],g,y,w,_)},E=d=>d.shapeFlag&6?E(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),L=(d,g,y)=>{d==null?g._vnode&&ft(g._vnode,null,null,!0):v(g._vnode||null,d,g,null,null,null,y),Ru(),Id(),g._vnode=d},D={p:v,um:ft,m:$t,r:ps,mt:ct,mc:X,pc:ae,pbc:pe,n:E,o:t};let U,le;return e&&([U,le]=e(D)),{render:L,hydrate:U,createApp:Wv(L,U)}}function Vn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ud(t,e,n=!1){const s=t.children,r=e.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=wn(r[i]),a.el=o.el),n||Ud(o,a)),a.type===To&&(a.el=o.el)}}function n0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const s0=t=>t.__isTeleport,et=Symbol.for("v-fgt"),To=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Pi=Symbol.for("v-stc"),mr=[];let Nt=null;function He(t=!1){mr.push(Nt=t?null:[])}function r0(){mr.pop(),Nt=mr[mr.length-1]||null}let Dr=1;function ju(t){Dr+=t}function Vd(t){return t.dynamicChildren=Dr>0?Nt||Ts:null,r0(),Dr>0&&Nt&&Nt.push(t),t}function pt(t,e,n,s,r,i){return Vd(O(t,e,n,s,r,i,!0))}function Oi(t,e,n,s,r){return Vd(me(t,e,n,s,r,!0))}function sl(t){return t?t.__v_isVNode===!0:!1}function Gn(t,e){return t.type===e.type&&t.key===e.key}const Co="__vInternal",jd=({key:t})=>t!=null?t:null,Mi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Fe(t)||rt(t)||Z(t)?{i:St,r:t,k:e,f:!!n}:t:null);function O(t,e=null,n=null,s=0,r=null,i=t===et?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jd(e),ref:e&&Mi(e),scopeId:Sd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:St};return a?(lc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Fe(n)?8:16),Dr>0&&!o&&Nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Nt.push(l),l}const me=i0;function i0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Uv)&&(t=Mt),sl(t)){const a=rn(t,e,!0);return n&&lc(a,n),Dr>0&&!i&&Nt&&(a.shapeFlag&6?Nt[Nt.indexOf(t)]=a:Nt.push(a)),a.patchFlag|=-2,a}if(y0(t)&&(t=t.__vccOpts),e){e=o0(e);let{class:a,style:l}=e;a&&!Fe(a)&&(e.class=bn(a)),Te(l)&&(md(l)&&!K(l)&&(l=Le({},l)),e.style=Wl(l))}const o=Fe(t)?1:Tv(t)?128:s0(t)?64:Te(t)?4:Z(t)?2:0;return O(t,e,n,s,r,o,i,!0)}function o0(t){return t?md(t)||Co in t?Le({},t):t:null}function rn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?l0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&jd(a),ref:e&&e.ref?n&&r?K(r)?r.concat(Mi(e)):[r,Mi(e)]:Mi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==et?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rn(t.ssContent),ssFallback:t.ssFallback&&rn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Hd(t=" ",e=0){return me(To,null,t,e)}function qd(t,e){const n=me(Pi,null,t);return n.staticCount=e,n}function a0(t="",e=!1){return e?(He(),Oi(Mt,null,t)):me(Mt,null,t)}function Vt(t){return t==null||typeof t=="boolean"?me(Mt):K(t)?me(et,null,t.slice()):typeof t=="object"?wn(t):me(To,null,String(t))}function wn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rn(t)}function lc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),lc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Co in e)?e._ctx=St:r===3&&St&&(St.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:St},n=32):(e=String(e),s&64?(n=16,e=[Hd(e)]):n=8);t.children=e,t.shapeFlag|=n}function l0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=bn([e.class,s.class]));else if(r==="style")e.style=Wl([e.style,s.style]);else if(mo(r)){const i=e[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ut(t,e,n,s=null){At(t,e,7,[n,s])}const c0=Od();let u0=0;function h0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||c0,i={uid:u0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new rd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ld(s,r),emitsOptions:Cd(s,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:s.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=wv.bind(null,i),t.ce&&t.ce(i),i}let Qe=null;const f0=()=>Qe||St;let cc,ys,Hu="__VUE_INSTANCE_SETTERS__";(ys=Ha()[Hu])||(ys=Ha()[Hu]=[]),ys.push(t=>Qe=t),cc=t=>{ys.length>1?ys.forEach(e=>e(t)):ys[0](t)};const Os=t=>{cc(t),t.scope.on()},ts=()=>{Qe&&Qe.scope.off(),cc(null)};function zd(t){return t.vnode.shapeFlag&4}let Rr=!1;function d0(t,e=!1){Rr=e;const{props:n,children:s}=t.vnode,r=zd(t);Qv(t,n,r,e),Jv(t,s);const i=r?p0(t,e):void 0;return Rr=!1,i}function p0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=tc(new Proxy(t.ctx,Vv));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?m0(t):null;Os(t),Gs();const i=Tn(s,t,0,[t.props,r]);if(Ws(),ts(),Jf(i)){if(i.then(ts,ts),e)return i.then(o=>{qu(t,o,e)}).catch(o=>{Eo(o,t,0)});t.asyncDep=i}else qu(t,i,e)}else Kd(t,e)}function qu(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=Ed(e)),Kd(t,n)}let zu;function Kd(t,e,n){const s=t.type;if(!t.render){if(!e&&zu&&!s.render){const r=s.template||oc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Le(Le({isCustomElement:i,delimiters:a},o),l);s.render=zu(r,c)}}t.render=s.render||Ot}Os(t),Gs(),jv(t),Ws(),ts()}function g0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mt(t,"get","$attrs"),e[n]}}))}function m0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return g0(t)},slots:t.slots,emit:t.emit,expose:e}}function So(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ed(tc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gr)return gr[n](t)},has(e,n){return n in e||n in gr}}))}function y0(t){return Z(t)&&"__vccOpts"in t}const _e=(t,e)=>dv(t,e,Rr);function Ao(t,e,n){const s=arguments.length;return s===2?Te(e)&&!K(e)?sl(e)?me(t,null,[e]):me(t,e):me(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&sl(n)&&(n=[n]),me(t,e,n))}const v0=Symbol.for("v-scx"),w0=()=>wt(v0),E0="3.3.2",b0="http://www.w3.org/2000/svg",Wn=typeof document<"u"?document:null,Ku=Wn&&Wn.createElement("template"),_0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Wn.createElementNS(b0,t):Wn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Ku.innerHTML=s?`<svg>${t}</svg>`:t;const a=Ku.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function I0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function T0(t,e,n){const s=t.style,r=Fe(n);if(n&&!r){if(e&&!Fe(e))for(const i in e)n[i]==null&&rl(s,i,"");for(const i in n)rl(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Gu=/\s*!important$/;function rl(t,e,n){if(K(n))n.forEach(s=>rl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=C0(t,e);Gu.test(n)?t.setProperty(Ks(s),n.replace(Gu,""),"important"):t[s]=n}}const Wu=["Webkit","Moz","ms"],ua={};function C0(t,e){const n=ua[e];if(n)return n;let s=Ns(e);if(s!=="filter"&&s in t)return ua[e]=s;s=td(s);for(let r=0;r<Wu.length;r++){const i=Wu[r]+s;if(i in t)return ua[e]=i}return e}const Qu="http://www.w3.org/1999/xlink";function S0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Qu,e.slice(6,e.length)):t.setAttributeNS(Qu,e,n);else{const i=Ny(e);n==null||i&&!nd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function A0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=nd(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ws(t,e,n,s){t.addEventListener(e,n,s)}function x0(t,e,n,s){t.removeEventListener(e,n,s)}function k0(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=D0(e);if(s){const c=i[e]=P0(s,r);ws(t,a,c,l)}else o&&(x0(t,a,o,l),i[e]=void 0)}}const Yu=/(?:Once|Passive|Capture)$/;function D0(t){let e;if(Yu.test(t)){e={};let s;for(;s=t.match(Yu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let ha=0;const R0=Promise.resolve(),N0=()=>ha||(R0.then(()=>ha=0),ha=Date.now());function P0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;At(O0(s,n.value),e,5,[s])};return n.value=t,n.attached=N0(),n}function O0(t,e){if(K(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Xu=/^on[a-z]/,M0=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?I0(t,s,r):e==="style"?T0(t,n,s):mo(e)?ql(e)||k0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L0(t,e,s,r))?A0(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),S0(t,e,s,r))};function L0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Xu.test(e)&&Z(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Xu.test(e)&&Fe(n)?!1:e in t}const mn="transition",sr="animation",uc=(t,{slots:e})=>Ao(kv,F0(t),e);uc.displayName="Transition";const Gd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};uc.props=Le({},xd,Gd);const jn=(t,e=[])=>{K(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ju=t=>t?K(t)?t.some(e=>e.length>1):t.length>1:!1;function F0(t){const e={};for(const B in t)B in Gd||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=$0(r),v=m&&m[0],b=m&&m[1],{onBeforeEnter:A,onEnter:R,onEnterCancelled:V,onLeave:M,onLeaveCancelled:ie,onBeforeAppear:Ce=A,onAppear:$e=R,onAppearCancelled:X=V}=e,de=(B,ue,ct)=>{Hn(B,ue?u:a),Hn(B,ue?c:o),ct&&ct()},pe=(B,ue)=>{B._isLeaving=!1,Hn(B,h),Hn(B,p),Hn(B,f),ue&&ue()},Be=B=>(ue,ct)=>{const Qt=B?$e:R,Re=()=>de(ue,B,ct);jn(Qt,[ue,Re]),Zu(()=>{Hn(ue,B?l:i),yn(ue,B?u:a),Ju(Qt)||eh(ue,s,v,Re)})};return Le(e,{onBeforeEnter(B){jn(A,[B]),yn(B,i),yn(B,o)},onBeforeAppear(B){jn(Ce,[B]),yn(B,l),yn(B,c)},onEnter:Be(!1),onAppear:Be(!0),onLeave(B,ue){B._isLeaving=!0;const ct=()=>pe(B,ue);yn(B,h),V0(),yn(B,f),Zu(()=>{!B._isLeaving||(Hn(B,h),yn(B,p),Ju(M)||eh(B,s,b,ct))}),jn(M,[B,ct])},onEnterCancelled(B){de(B,!1),jn(V,[B])},onAppearCancelled(B){de(B,!0),jn(X,[B])},onLeaveCancelled(B){pe(B),jn(ie,[B])}})}function $0(t){if(t==null)return null;if(Te(t))return[fa(t.enter),fa(t.leave)];{const e=fa(t);return[e,e]}}function fa(t){return Sy(t)}function yn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Hn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Zu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let B0=0;function eh(t,e,n,s){const r=t._endId=++B0,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=U0(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=p=>{p.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function U0(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${mn}Delay`),i=s(`${mn}Duration`),o=th(r,i),a=s(`${sr}Delay`),l=s(`${sr}Duration`),c=th(a,l);let u=null,h=0,f=0;e===mn?o>0&&(u=mn,h=o,f=i.length):e===sr?c>0&&(u=sr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?mn:sr:null,f=u?u===mn?i.length:l.length:0);const p=u===mn&&/\b(transform|all)(,|$)/.test(s(`${mn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function th(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>nh(n)+nh(t[s])))}function nh(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function V0(){return document.body.offsetHeight}const sh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?n=>Di(e,n):e};function j0(t){t.target.composing=!0}function rh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rr={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=sh(r);const i=s||r.props&&r.props.type==="number";ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ja(a)),t._assign(a)}),n&&ws(t,"change",()=>{t.value=t.value.trim()}),e||(ws(t,"compositionstart",j0),ws(t,"compositionend",rh),ws(t,"change",rh))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=sh(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&ja(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},H0=["ctrl","shift","alt","meta"],q0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>H0.some(n=>t[`${n}Key`]&&!e.includes(n))},z0=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=q0[e[r]];if(i&&i(n,e))return}return t(n,...s)},K0=Le({patchProp:M0},_0);let ih;function G0(){return ih||(ih=e0(K0))}const W0=(...t)=>{const e=G0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Q0(s);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Q0(t){return Fe(t)?document.querySelector(t):t}var Y0=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const X0=Symbol();var oh;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(oh||(oh={}));function J0(){const t=Py(!0),e=t.run(()=>ve({}));let n=[],s=[];const r=tc({install(i){r._a=i,i.provide(X0,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!Y0?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof window<"u";function Z0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const he=Object.assign;function da(t,e){const n={};for(const s in e){const r=e[s];n[s]=Lt(r)?r.map(t):t(r)}return n}const yr=()=>{},Lt=Array.isArray,ew=/\/$/,tw=t=>t.replace(ew,"");function pa(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=iw(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function nw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ah(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sw(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Ms(e.matched[s],n.matched[r])&&Wd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ms(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!rw(t[n],e[n]))return!1;return!0}function rw(t,e){return Lt(t)?lh(t,e):Lt(e)?lh(e,t):t===e}function lh(t,e){return Lt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function iw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Nr;(function(t){t.pop="pop",t.push="push"})(Nr||(Nr={}));var vr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vr||(vr={}));function ow(t){if(!t)if(Es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),tw(t)}const aw=/^[^#]+#/;function lw(t,e){return t.replace(aw,"#")+e}function cw(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const xo=()=>({left:window.pageXOffset,top:window.pageYOffset});function uw(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=cw(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ch(t,e){return(history.state?history.state.position-e:-1)+t}const il=new Map;function hw(t,e){il.set(t,e)}function fw(t){const e=il.get(t);return il.delete(t),e}let dw=()=>location.protocol+"//"+location.host;function Qd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),ah(l,"")}return ah(n,t)+s+r}function pw(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=Qd(t,location),m=n.value,v=e.value;let b=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}b=v?f.position-v.position:0}else s(p);r.forEach(A=>{A(n.value,m,{delta:b,type:Nr.pop,direction:b?b>0?vr.forward:vr.back:vr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(he({},f.state,{scroll:xo()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function uh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?xo():null}}function gw(t){const{history:e,location:n}=window,s={value:Qd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:dw()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(l,c){const u=he({},e.state,uh(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=he({},r.value,e.state,{forward:l,scroll:xo()});i(u.current,u,!0);const h=he({},uh(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function mw(t){t=ow(t);const e=gw(t),n=pw(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=he({location:"",base:t,go:s,createHref:lw.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function yw(t){return typeof t=="string"||t&&typeof t=="object"}function Yd(t){return typeof t=="string"||typeof t=="symbol"}const vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Xd=Symbol("");var hh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(hh||(hh={}));function Ls(t,e){return he(new Error,{type:t,[Xd]:!0},e)}function Xt(t,e){return t instanceof Error&&Xd in t&&(e==null||!!(t.type&e))}const fh="[^/]+?",vw={sensitive:!1,strict:!1,start:!0,end:!0},ww=/[.+*?^${}()[\]/\\]/g;function Ew(t,e){const n=he({},vw,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(ww,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:v,optional:b,regexp:A}=f;i.push({name:m,repeatable:v,optional:b});const R=A||fh;if(R!==fh){p+=10;try{new RegExp(`(${R})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${m}" (${R}): `+M.message)}}let V=v?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(V=b&&c.length<2?`(?:/${V})`:"/"+V),b&&(V+="?"),r+=V,p+=20,b&&(p+=-8),v&&(p+=-20),R===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:v,optional:b}=p,A=m in c?c[m]:"";if(Lt(A)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const R=Lt(A)?A.join("/"):A;if(!R)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=R}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function bw(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function _w(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=bw(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(dh(s))return 1;if(dh(r))return-1}return r.length-s.length}function dh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Iw={type:0,value:""},Tw=/[a-zA-Z0-9_]/;function Cw(t){if(!t)return[[]];if(t==="/")return[[Iw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Tw.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Sw(t,e,n){const s=Ew(Cw(t.path),n),r=he(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Aw(t,e){const n=[],s=new Map;e=mh({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=xw(u);m.aliasOf=f&&f.record;const v=mh(e,u),b=[m];if("alias"in u){const V=typeof u.alias=="string"?[u.alias]:u.alias;for(const M of V)b.push(he({},m,{components:f?f.record.components:m.components,path:M,aliasOf:f?f.record:m}))}let A,R;for(const V of b){const{path:M}=V;if(h&&M[0]!=="/"){const ie=h.record.path,Ce=ie[ie.length-1]==="/"?"":"/";V.path=h.record.path+(M&&Ce+M)}if(A=Sw(V,h,v),f?f.alias.push(A):(R=R||A,R!==A&&R.alias.push(A),p&&u.name&&!gh(A)&&o(u.name)),m.children){const ie=m.children;for(let Ce=0;Ce<ie.length;Ce++)i(ie[Ce],A,f&&f.children[Ce])}f=f||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return R?()=>{o(R)}:yr}function o(u){if(Yd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&_w(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Jd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!gh(u)&&s.set(u.record.name,u)}function c(u,h){let f,p={},m,v;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Ls(1,{location:u});v=f.record.name,p=he(ph(h.params,f.keys.filter(R=>!R.optional).map(R=>R.name)),u.params&&ph(u.params,f.keys.map(R=>R.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(R=>R.re.test(m)),f&&(p=f.parse(m),v=f.record.name);else{if(f=h.name?s.get(h.name):n.find(R=>R.re.test(h.path)),!f)throw Ls(1,{location:u,currentLocation:h});v=f.record.name,p=he({},h.params,u.params),m=f.stringify(p)}const b=[];let A=f;for(;A;)b.unshift(A.record),A=A.parent;return{name:v,path:m,params:p,matched:b,meta:Dw(b)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function ph(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function xw(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:kw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function kw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function gh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Dw(t){return t.reduce((e,n)=>he(e,n.meta),{})}function mh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Jd(t,e){return e.children.some(n=>n===t||Jd(t,n))}const Zd=/#/g,Rw=/&/g,Nw=/\//g,Pw=/=/g,Ow=/\?/g,ep=/\+/g,Mw=/%5B/g,Lw=/%5D/g,tp=/%5E/g,Fw=/%60/g,np=/%7B/g,$w=/%7C/g,sp=/%7D/g,Bw=/%20/g;function hc(t){return encodeURI(""+t).replace($w,"|").replace(Mw,"[").replace(Lw,"]")}function Uw(t){return hc(t).replace(np,"{").replace(sp,"}").replace(tp,"^")}function ol(t){return hc(t).replace(ep,"%2B").replace(Bw,"+").replace(Zd,"%23").replace(Rw,"%26").replace(Fw,"`").replace(np,"{").replace(sp,"}").replace(tp,"^")}function Vw(t){return ol(t).replace(Pw,"%3D")}function jw(t){return hc(t).replace(Zd,"%23").replace(Ow,"%3F")}function Hw(t){return t==null?"":jw(t).replace(Nw,"%2F")}function zi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function qw(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(ep," "),o=i.indexOf("="),a=zi(o<0?i:i.slice(0,o)),l=o<0?null:zi(i.slice(o+1));if(a in e){let c=e[a];Lt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function yh(t){let e="";for(let n in t){const s=t[n];if(n=Vw(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Lt(s)?s.map(i=>i&&ol(i)):[s&&ol(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function zw(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Lt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Kw=Symbol(""),vh=Symbol(""),fc=Symbol(""),rp=Symbol(""),al=Symbol("");function ir(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function En(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ls(4,{from:n,to:e})):h instanceof Error?a(h):yw(h)?a(Ls(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function ga(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(Gw(a)){const c=(a.__vccOpts||a)[e];c&&r.push(En(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Z0(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&En(f,n,s,i,o)()}))}}return r}function Gw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wh(t){const e=wt(fc),n=wt(rp),s=_e(()=>e.resolve(Ne(t.to))),r=_e(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ms.bind(null,u));if(f>-1)return f;const p=Eh(l[c-2]);return c>1&&Eh(u)===p&&h[h.length-1].path!==p?h.findIndex(Ms.bind(null,l[c-2])):f}),i=_e(()=>r.value>-1&&Xw(n.params,s.value.params)),o=_e(()=>r.value>-1&&r.value===n.matched.length-1&&Wd(n.params,s.value.params));function a(l={}){return Yw(l)?e[Ne(t.replace)?"replace":"push"](Ne(t.to)).catch(yr):Promise.resolve()}return{route:s,href:_e(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const Ww=fn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wh,setup(t,{slots:e}){const n=Kr(wh(t)),{options:s}=wt(fc),r=_e(()=>({[bh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[bh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ao("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Qw=Ww;function Yw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xw(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Lt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Eh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bh=(t,e,n)=>t!=null?t:e!=null?e:n,Jw=fn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=wt(al),r=_e(()=>t.route||s.value),i=wt(vh,0),o=_e(()=>{let c=Ne(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=_e(()=>r.value.matched[o.value]);Cn(vh,_e(()=>o.value+1)),Cn(Kw,a),Cn(al,r);const l=ve();return Ri(()=>[l.value,a.value,t.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Ms(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return _h(n.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=Ao(f,he({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return _h(n.default,{Component:b,route:c})||b}}});function _h(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ip=Jw;function Zw(t){const e=Aw(t.routes,t),n=t.parseQuery||qw,s=t.stringifyQuery||yh,r=t.history,i=ir(),o=ir(),a=ir(),l=cv(vn);let c=vn;Es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=da.bind(null,E=>""+E),h=da.bind(null,Hw),f=da.bind(null,zi);function p(E,L){let D,U;return Yd(E)?(D=e.getRecordMatcher(E),U=L):U=E,e.addRoute(U,D)}function m(E){const L=e.getRecordMatcher(E);L&&e.removeRoute(L)}function v(){return e.getRoutes().map(E=>E.record)}function b(E){return!!e.getRecordMatcher(E)}function A(E,L){if(L=he({},L||l.value),typeof E=="string"){const y=pa(n,E,L.path),w=e.resolve({path:y.path},L),_=r.createHref(y.fullPath);return he(y,w,{params:f(w.params),hash:zi(y.hash),redirectedFrom:void 0,href:_})}let D;if("path"in E)D=he({},E,{path:pa(n,E.path,L.path).path});else{const y=he({},E.params);for(const w in y)y[w]==null&&delete y[w];D=he({},E,{params:h(y)}),L.params=h(L.params)}const U=e.resolve(D,L),le=E.hash||"";U.params=u(f(U.params));const d=nw(s,he({},E,{hash:Uw(le),path:U.path})),g=r.createHref(d);return he({fullPath:d,hash:le,query:s===yh?zw(E.query):E.query||{}},U,{redirectedFrom:void 0,href:g})}function R(E){return typeof E=="string"?pa(n,E,l.value.path):he({},E)}function V(E,L){if(c!==E)return Ls(8,{from:L,to:E})}function M(E){return $e(E)}function ie(E){return M(he(R(E),{replace:!0}))}function Ce(E){const L=E.matched[E.matched.length-1];if(L&&L.redirect){const{redirect:D}=L;let U=typeof D=="function"?D(E):D;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=R(U):{path:U},U.params={}),he({query:E.query,hash:E.hash,params:"path"in U?{}:E.params},U)}}function $e(E,L){const D=c=A(E),U=l.value,le=E.state,d=E.force,g=E.replace===!0,y=Ce(D);if(y)return $e(he(R(y),{state:typeof y=="object"?he({},le,y.state):le,force:d,replace:g}),L||D);const w=D;w.redirectedFrom=L;let _;return!d&&sw(s,U,D)&&(_=Ls(16,{to:w,from:U}),$t(U,U,!0,!1)),(_?Promise.resolve(_):pe(w,U)).catch(I=>Xt(I)?Xt(I,2)?I:pn(I):ae(I,w,U)).then(I=>{if(I){if(Xt(I,2))return $e(he({replace:g},R(I.to),{state:typeof I.to=="object"?he({},le,I.to.state):le,force:d}),L||w)}else I=B(w,U,!0,g,le);return Be(w,U,I),I})}function X(E,L){const D=V(E,L);return D?Promise.reject(D):Promise.resolve()}function de(E){const L=gs.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(E):E()}function pe(E,L){let D;const[U,le,d]=e1(E,L);D=ga(U.reverse(),"beforeRouteLeave",E,L);for(const y of U)y.leaveGuards.forEach(w=>{D.push(En(w,E,L))});const g=X.bind(null,E,L);return D.push(g),Xe(D).then(()=>{D=[];for(const y of i.list())D.push(En(y,E,L));return D.push(g),Xe(D)}).then(()=>{D=ga(le,"beforeRouteUpdate",E,L);for(const y of le)y.updateGuards.forEach(w=>{D.push(En(w,E,L))});return D.push(g),Xe(D)}).then(()=>{D=[];for(const y of E.matched)if(y.beforeEnter&&!L.matched.includes(y))if(Lt(y.beforeEnter))for(const w of y.beforeEnter)D.push(En(w,E,L));else D.push(En(y.beforeEnter,E,L));return D.push(g),Xe(D)}).then(()=>(E.matched.forEach(y=>y.enterCallbacks={}),D=ga(d,"beforeRouteEnter",E,L),D.push(g),Xe(D))).then(()=>{D=[];for(const y of o.list())D.push(En(y,E,L));return D.push(g),Xe(D)}).catch(y=>Xt(y,8)?y:Promise.reject(y))}function Be(E,L,D){for(const U of a.list())de(()=>U(E,L,D))}function B(E,L,D,U,le){const d=V(E,L);if(d)return d;const g=L===vn,y=Es?history.state:{};D&&(U||g?r.replace(E.fullPath,he({scroll:g&&y&&y.scroll},le)):r.push(E.fullPath,le)),l.value=E,$t(E,L,D,g),pn()}let ue;function ct(){ue||(ue=r.listen((E,L,D)=>{if(!fi.listening)return;const U=A(E),le=Ce(U);if(le){$e(he(le,{replace:!0}),U).catch(yr);return}c=U;const d=l.value;Es&&hw(ch(d.fullPath,D.delta),xo()),pe(U,d).catch(g=>Xt(g,12)?g:Xt(g,2)?($e(g.to,U).then(y=>{Xt(y,20)&&!D.delta&&D.type===Nr.pop&&r.go(-1,!1)}).catch(yr),Promise.reject()):(D.delta&&r.go(-D.delta,!1),ae(g,U,d))).then(g=>{g=g||B(U,d,!1),g&&(D.delta&&!Xt(g,8)?r.go(-D.delta,!1):D.type===Nr.pop&&Xt(g,20)&&r.go(-1,!1)),Be(U,d,g)}).catch(yr)}))}let Qt=ir(),Re=ir(),ye;function ae(E,L,D){pn(E);const U=Re.list();return U.length?U.forEach(le=>le(E,L,D)):console.error(E),Promise.reject(E)}function Yt(){return ye&&l.value!==vn?Promise.resolve():new Promise((E,L)=>{Qt.add([E,L])})}function pn(E){return ye||(ye=!E,ct(),Qt.list().forEach(([L,D])=>E?D(E):L()),Qt.reset()),E}function $t(E,L,D,U){const{scrollBehavior:le}=t;if(!Es||!le)return Promise.resolve();const d=!D&&fw(ch(E.fullPath,0))||(U||!D)&&history.state&&history.state.scroll||null;return tn().then(()=>le(E,L,d)).then(g=>g&&uw(g)).catch(g=>ae(g,E,L))}const ft=E=>r.go(E);let ps;const gs=new Set,fi={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:b,getRoutes:v,resolve:A,options:t,push:M,replace:ie,go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Re.add,isReady:Yt,install(E){const L=this;E.component("RouterLink",Qw),E.component("RouterView",ip),E.config.globalProperties.$router=L,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(l)}),Es&&!ps&&l.value===vn&&(ps=!0,M(r.location).catch(le=>{}));const D={};for(const le in vn)D[le]=_e(()=>l.value[le]);E.provide(fc,L),E.provide(rp,Kr(D)),E.provide(al,l);const U=E.unmount;gs.add(E),E.unmount=function(){gs.delete(E),gs.size<1&&(c=vn,ue&&ue(),ue=null,l.value=vn,ps=!1,ye=!1),U()}}};function Xe(E){return E.reduce((L,D)=>L.then(()=>de(D)),Promise.resolve())}return fi}function e1(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ms(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ms(c,l))||r.push(l))}return[n,s,r]}function Fs(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Fs),s}var Pr=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Pr||{}),t1=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(t1||{});function us({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=ap(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return ma(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return Fs(l,{[0](){return null},[1](){return ma({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return ma(a)}function ma({props:t,attrs:e,slots:n,slot:s,name:r}){var i,o;let{as:a,...l}=n1(t,["unmount","static"]),c=(i=n.default)==null?void 0:i.call(n,s),u={};if(s){let h=!1,f=[];for(let[p,m]of Object.entries(s))typeof m=="boolean"&&(h=!0),m===!0&&f.push(p);h&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=op(c!=null?c:[]),Object.keys(l).length>0||Object.keys(e).length>0){let[h,...f]=c!=null?c:[];if(!s1(h)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(v=>v.trim()).filter((v,b,A)=>A.indexOf(v)===b).sort((v,b)=>v.localeCompare(b)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let p=ap((o=h.props)!=null?o:{},l),m=rn(h,p);for(let v in p)v.startsWith("on")&&(m.props||(m.props={}),m.props[v]=p[v]);return m}return Array.isArray(c)&&c.length===1?c[0]:c}return Ao(a,Object.assign({},l,u),{default:()=>c})}function op(t){return t.flatMap(e=>e.type===et?op(e.children):[e])}function ap(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function n1(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function s1(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let r1=0;function i1(){return++r1}function Qr(){return i1()}var ke=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ke||{});function o1(t){throw new Error("Unexpected object: "+t)}var vt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(vt||{});function a1(t,e){let n=e.resolveItems();if(n.length<=0)return null;let s=e.resolveActiveIndex(),r=s!=null?s:-1,i=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,c)=>r!==-1&&c.length-l-1>=r?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=r?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:o1(t)}})();return i===-1?s:i}function we(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let lp=Symbol("Context");var on=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(on||{});function cp(){return wt(lp,null)}function up(t){Cn(lp,t)}function Ih(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function hp(t,e){let n=ve(Ih(t.value.type,t.value.as));return Rn(()=>{n.value=Ih(t.value.type,t.value.as)}),Gr(()=>{var s;n.value||we(e)&&we(e)instanceof HTMLButtonElement&&!((s=we(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var l1=Object.defineProperty,c1=(t,e,n)=>e in t?l1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Th=(t,e,n)=>(c1(t,typeof e!="symbol"?e+"":e,n),n);class u1{constructor(){Th(this,"current",this.detect()),Th(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let fp=new u1;function dc(t){if(fp.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=we(t);if(e)return e.ownerDocument}return document}function h1({container:t,accept:e,walk:n,enabled:s}){Gr(()=>{let r=t.value;if(!r||s!==void 0&&!s.value)return;let i=dc(t);if(!i)return;let o=Object.assign(l=>e(l),{acceptNode:e}),a=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}let ll=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var cl=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(cl||{}),f1=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(f1||{}),d1=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(d1||{});function dp(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ll)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var pc=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(pc||{});function gc(t,e=0){var n;return t===((n=dc(t))==null?void 0:n.body)?!1:Fs(e,{[0](){return t.matches(ll)},[1](){let s=t;for(;s!==null;){if(s.matches(ll))return!0;s=s.parentElement}return!1}})}function pp(t){let e=dc(t);tn(()=>{e&&!gc(e.activeElement,0)&&g1(t)})}var p1=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(p1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function g1(t){t==null||t.focus({preventScroll:!0})}let m1=["textarea","input"].join(",");function y1(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,m1))!=null?n:!1}function gp(t,e=n=>n){return t.slice().sort((n,s)=>{let r=e(n),i=e(s);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function v1(t,e){return w1(dp(),e,{relativeTo:t})}function w1(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?n?gp(t):t:dp(t);r.length>0&&a.length>1&&(a=a.filter(m=>!r.includes(m))),s=s!=null?s:o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,f=a.length,p;do{if(h>=f||h+f<=0)return 0;let m=c+h;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=a[m],p==null||p.focus(u),h+=l}while(p!==o.activeElement);return e&6&&y1(p)&&p.select(),2}function ya(t,e,n){fp.isServer||Gr(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function E1(t,e,n=_e(()=>!0)){function s(i,o){if(!n.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:we(c);if(u!=null&&u.contains(a)||i.composed&&i.composedPath().includes(u))return}return!gc(a,pc.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let r=ve(null);ya("mousedown",i=>{var o,a;n.value&&(r.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),ya("click",i=>{r.value&&(s(i,()=>r.value),r.value=null)},!0),ya("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ch(t){return[t.screenX,t.screenY]}function b1(){let t=ve([-1,-1]);return{wasMoved(e){let n=Ch(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=Ch(e)}}}var _1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(_1||{});let mp=Symbol("DisclosureContext");function mc(t){let e=wt(mp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mc),n}return e}let yp=Symbol("DisclosurePanelContext");function I1(){return wt(yp,null)}let T1=fn({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=ve(t.defaultOpen?0:1),r=ve(null),i=ve(null),o={buttonId:ve(null),panelId:ve(null),disclosureState:s,panel:r,button:i,toggleDisclosure(){s.value=Fs(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let l=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?we(a):we(o.button):we(o.button))();l==null||l.focus()}};return Cn(mp,o),up(_e(()=>Fs(s.value,{[0]:on.Open,[1]:on.Closed}))),()=>{let{defaultOpen:a,...l}=t,c={open:s.value===0,close:o.close};return us({theirProps:l,ourProps:{},slot:c,slots:e,attrs:n,name:"Disclosure"})}}}),Sh=fn({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=mc("DisclosureButton");Rn(()=>{r.buttonId.value=t.id}),Wr(()=>{r.buttonId.value=null});let i=I1(),o=_e(()=>i===null?!1:i.value===r.panelId.value),a=ve(null);s({el:a,$el:a}),o.value||Gr(()=>{r.button.value=a.value});let l=hp(_e(()=>({as:t.as,type:e.type})),a);function c(){var f;t.disabled||(o.value?(r.toggleDisclosure(),(f=we(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var p;if(!t.disabled)if(o.value)switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(p=we(r.button))==null||p.focus();break}else switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case ke.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},{id:p,...m}=t,v=o.value?{ref:a,type:l.value,onClick:c,onKeydown:u}:{id:p,ref:a,type:l.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":we(r.panel)?r.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:u,onKeyup:h};return us({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),C1=fn({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=mc("DisclosurePanel");Rn(()=>{r.panelId.value=t.id}),Wr(()=>{r.panelId.value=null}),s({el:r.panel,$el:r.panel}),Cn(yp,r.panelId);let i=cp(),o=_e(()=>i!==null?(i.value&on.Open)===on.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},{id:l,...c}=t,u={id:l,ref:r.panel};return us({ourProps:u,theirProps:c,slot:a,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:o.value,name:"DisclosurePanel"})}}});var S1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(S1||{}),A1=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(A1||{});function x1(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let vp=Symbol("MenuContext");function ko(t){let e=wt(vp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ko),n}return e}let k1=fn({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:n}){let s=ve(1),r=ve(null),i=ve(null),o=ve([]),a=ve(""),l=ve(null),c=ve(1);function u(f=p=>p){let p=l.value!==null?o.value[l.value]:null,m=gp(f(o.value.slice()),b=>we(b.dataRef.domRef)),v=p?m.indexOf(p):null;return v===-1&&(v=null),{items:m,activeItemIndex:v}}let h={menuState:s,buttonRef:r,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:c,closeMenu:()=>{s.value=1,l.value=null},openMenu:()=>s.value=0,goToItem(f,p,m){let v=u(),b=a1(f===vt.Specific?{focus:vt.Specific,id:p}:{focus:f},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});a.value="",l.value=b,c.value=m!=null?m:1,o.value=v.items},search(f){let p=a.value!==""?0:1;a.value+=f.toLowerCase();let m=(l.value!==null?o.value.slice(l.value+p).concat(o.value.slice(0,l.value+p)):o.value).find(b=>b.dataRef.textValue.startsWith(a.value)&&!b.dataRef.disabled),v=m?o.value.indexOf(m):-1;v===-1||v===l.value||(l.value=v,c.value=1)},clearSearch(){a.value=""},registerItem(f,p){let m=u(v=>[...v,{id:f,dataRef:p}]);o.value=m.items,l.value=m.activeItemIndex,c.value=1},unregisterItem(f){let p=u(m=>{let v=m.findIndex(b=>b.id===f);return v!==-1&&m.splice(v,1),m});o.value=p.items,l.value=p.activeItemIndex,c.value=1}};return E1([r,i],(f,p)=>{var m;h.closeMenu(),gc(p,pc.Loose)||(f.preventDefault(),(m=we(r))==null||m.focus())},_e(()=>s.value===0)),Cn(vp,h),up(_e(()=>Fs(s.value,{[0]:on.Open,[1]:on.Closed}))),()=>{let f={open:s.value===0,close:h.closeMenu};return us({ourProps:{},theirProps:t,slot:f,slots:e,attrs:n,name:"Menu"})}}}),D1=fn({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=ko("MenuButton");s({el:r.buttonRef,$el:r.buttonRef});function i(c){switch(c.key){case ke.Space:case ke.Enter:case ke.ArrowDown:c.preventDefault(),c.stopPropagation(),r.openMenu(),tn(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(vt.First)});break;case ke.ArrowUp:c.preventDefault(),c.stopPropagation(),r.openMenu(),tn(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(vt.Last)});break}}function o(c){switch(c.key){case ke.Space:c.preventDefault();break}}function a(c){t.disabled||(r.menuState.value===0?(r.closeMenu(),tn(()=>{var u;return(u=we(r.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(c.preventDefault(),r.openMenu(),x1(()=>{var u;return(u=we(r.itemsRef))==null?void 0:u.focus({preventScroll:!0})})))}let l=hp(_e(()=>({as:t.as,type:e.type})),r.buttonRef);return()=>{var c;let u={open:r.menuState.value===0},{id:h,...f}=t,p={ref:r.buttonRef,id:h,type:l.value,"aria-haspopup":"menu","aria-controls":(c=we(r.itemsRef))==null?void 0:c.id,"aria-expanded":t.disabled?void 0:r.menuState.value===0,onKeydown:i,onKeyup:o,onClick:a};return us({ourProps:p,theirProps:f,slot:u,attrs:e,slots:n,name:"MenuButton"})}}}),R1=fn({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=ko("MenuItems"),i=ve(null);s({el:r.itemsRef,$el:r.itemsRef}),h1({container:_e(()=>we(r.itemsRef)),enabled:_e(()=>r.menuState.value===0),accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function o(u){var h;switch(i.value&&clearTimeout(i.value),u.key){case ke.Space:if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case ke.Enter:if(u.preventDefault(),u.stopPropagation(),r.activeItemIndex.value!==null){let f=r.items.value[r.activeItemIndex.value];(h=we(f.dataRef.domRef))==null||h.click()}r.closeMenu(),pp(we(r.buttonRef));break;case ke.ArrowDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Next);case ke.ArrowUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Previous);case ke.Home:case ke.PageUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.First);case ke.End:case ke.PageDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Last);case ke.Escape:u.preventDefault(),u.stopPropagation(),r.closeMenu(),tn(()=>{var f;return(f=we(r.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case ke.Tab:u.preventDefault(),u.stopPropagation(),r.closeMenu(),tn(()=>v1(we(r.buttonRef),u.shiftKey?cl.Previous:cl.Next));break;default:u.key.length===1&&(r.search(u.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}function a(u){switch(u.key){case ke.Space:u.preventDefault();break}}let l=cp(),c=_e(()=>l!==null?(l.value&on.Open)===on.Open:r.menuState.value===0);return()=>{var u,h;let f={open:r.menuState.value===0},{id:p,...m}=t,v={"aria-activedescendant":r.activeItemIndex.value===null||(u=r.items.value[r.activeItemIndex.value])==null?void 0:u.id,"aria-labelledby":(h=we(r.buttonRef))==null?void 0:h.id,id:p,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:r.itemsRef};return us({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:c.value,name:"MenuItems"})}}}),va=fn({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Qr()}`}},setup(t,{slots:e,attrs:n,expose:s}){let r=ko("MenuItem"),i=ve(null);s({el:i,$el:i});let o=_e(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===t.id:!1),a=_e(()=>({disabled:t.disabled,textValue:"",domRef:i}));Rn(()=>{var m,v;let b=(v=(m=we(i))==null?void 0:m.textContent)==null?void 0:v.toLowerCase().trim();b!==void 0&&(a.value.textValue=b)}),Rn(()=>r.registerItem(t.id,a)),Wr(()=>r.unregisterItem(t.id)),Gr(()=>{r.menuState.value===0&&o.value&&r.activationTrigger.value!==0&&tn(()=>{var m,v;return(v=(m=we(i))==null?void 0:m.scrollIntoView)==null?void 0:v.call(m,{block:"nearest"})})});function l(m){if(t.disabled)return m.preventDefault();r.closeMenu(),pp(we(r.buttonRef))}function c(){if(t.disabled)return r.goToItem(vt.Nothing);r.goToItem(vt.Specific,t.id)}let u=b1();function h(m){u.update(m)}function f(m){u.wasMoved(m)&&(t.disabled||o.value||r.goToItem(vt.Specific,t.id,0))}function p(m){u.wasMoved(m)&&(t.disabled||o.value&&r.goToItem(vt.Nothing))}return()=>{let{disabled:m}=t,v={active:o.value,disabled:m,close:r.closeMenu},{id:b,...A}=t;return us({ourProps:{id:b,ref:i,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:c,onPointerenter:h,onMouseenter:h,onPointermove:f,onMousemove:f,onPointerleave:p,onMouseleave:p},theirProps:{...n,...A},slot:v,attrs:n,slots:e,name:"MenuItem"})}}});function N1(t,e){return He(),pt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function P1(t,e){return He(),pt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])}function O1(t,e){return He(),pt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const M1={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},L1={class:"relative flex h-16 items-center justify-between"},F1={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},$1=O("span",{class:"sr-only"},"Open main menu",-1),B1={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},U1=O("div",{class:"flex flex-shrink-0 items-center"},[O("img",{class:"block h-8 w-auto lg:hidden",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"}),O("img",{class:"hidden h-8 w-auto lg:block",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"})],-1),V1={class:"hidden sm:ml-6 sm:block"},j1={class:"flex space-x-4"},H1=["href","aria-current"],q1={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},z1={type:"button",class:"rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},K1=O("span",{class:"sr-only"},"View notifications",-1),G1=O("span",{class:"sr-only"},"Open user menu",-1),W1=O("img",{class:"h-8 w-8 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""},null,-1),Q1={class:"space-y-1 px-2 pb-3 pt-2"},Y1={__name:"HeaderLayout",setup(t){const e=[{name:"Dashboard",href:"#",current:!0},{name:"Team",href:"#",current:!1},{name:"Projects",href:"#",current:!1},{name:"Calendar",href:"#",current:!1}];return(n,s)=>(He(),Oi(Ne(T1),{as:"nav",class:"bg-gray-800"},{default:It(({open:r})=>[O("div",M1,[O("div",L1,[O("div",F1,[me(Ne(Sh),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:It(()=>[$1,r?(He(),Oi(Ne(O1),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(He(),Oi(Ne(N1),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),O("div",B1,[U1,O("div",V1,[O("div",j1,[(He(),pt(et,null,Xa(e,i=>O("a",{key:i.name,href:i.href,class:bn([i.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":i.current?"page":void 0},zn(i.name),11,H1)),64))])])]),O("div",q1,[O("button",z1,[K1,me(Ne(P1),{class:"h-6 w-6","aria-hidden":"true"})]),me(Ne(k1),{as:"div",class:"relative ml-3"},{default:It(()=>[O("div",null,[me(Ne(D1),{class:"flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:It(()=>[G1,W1]),_:1})]),me(uc,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:It(()=>[me(Ne(R1),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:It(()=>[me(Ne(va),null,{default:It(({active:i})=>[O("a",{href:"#",class:bn([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profile",2)]),_:1}),me(Ne(va),null,{default:It(({active:i})=>[O("a",{href:"#",class:bn([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),me(Ne(va),null,{default:It(({active:i})=>[O("a",{href:"#",class:bn([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1})]),_:1})]),_:1})]),_:1})])])]),me(Ne(C1),{class:"sm:hidden"},{default:It(()=>[O("div",Q1,[(He(),pt(et,null,Xa(e,i=>me(Ne(Sh),{key:i.name,as:"a",href:i.href,class:bn([i.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":i.current?"page":void 0},{default:It(()=>[Hd(zn(i.name),1)]),_:2},1032,["href","class","aria-current"])),64))])]),_:1})]),_:1}))}};const wp=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},X1={name:"Footer"},J1={id:"footer",class:"bg-neutral-200 text-center text-white dark:bg-neutral-600"},Z1=qd('<div class="pt-9"><div class="mb-12 flex justify-center"><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path></svg></a><a href="#!" class="text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></div><div class="bg-neutral-300 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://tailwind-elements.com/">Tailwind Elements</a></div>',2),eE=[Z1];function tE(t,e,n,s,r,i){return He(),pt("div",J1,eE)}const nE=wp(X1,[["render",tE]]);const sE={__name:"App",setup(t){return(e,n)=>(He(),pt(et,null,[me(Y1),me(Ne(ip),{class:"pb-40 mb-5"}),me(nE)],64))}},rE="modulepreload",iE=function(t){return"/"+t},Ah={},oE=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=iE(i),i in Ah)return;Ah[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":rE,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},aE={},lE=qd('<table class="table" style="margin-bottom:10px;"><thead><tr><th><abbr title="Position">Pos</abbr></th><th>Team</th><th><abbr title="Played">Pld</abbr></th><th><abbr title="Won">W</abbr></th><th><abbr title="Drawn">D</abbr></th><th><abbr title="Lost">L</abbr></th><th><abbr title="Goals for">GF</abbr></th><th><abbr title="Goals against">GA</abbr></th><th><abbr title="Goal difference">GD</abbr></th><th><abbr title="Points">Pts</abbr></th><th>Qualification or relegation</th></tr></thead><tfoot><tr><th><abbr title="Position">Pos</abbr></th><th>Team</th><th><abbr title="Played">Pld</abbr></th><th><abbr title="Won">W</abbr></th><th><abbr title="Drawn">D</abbr></th><th><abbr title="Lost">L</abbr></th><th><abbr title="Goals for">GF</abbr></th><th><abbr title="Goals against">GA</abbr></th><th><abbr title="Goal difference">GD</abbr></th><th><abbr title="Points">Pts</abbr></th><th>Qualification or relegation</th></tr></tfoot><tbody><tr><th>1</th><td><a href="https://en.wikipedia.org/wiki/Leicester_City_F.C." title="Leicester City F.C.">Leicester City</a> <strong>(C)</strong></td><td>38</td><td>23</td><td>12</td><td>3</td><td>68</td><td>36</td><td>+32</td><td>81</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr><th>2</th><td><a href="https://en.wikipedia.org/wiki/Arsenal_F.C." title="Arsenal F.C.">Arsenal</a></td><td>38</td><td>20</td><td>11</td><td>7</td><td>65</td><td>36</td><td>+29</td><td>71</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr><th>3</th><td><a href="https://en.wikipedia.org/wiki/Tottenham_Hotspur_F.C." title="Tottenham Hotspur F.C.">Tottenham Hotspur</a></td><td>38</td><td>19</td><td>13</td><td>6</td><td>69</td><td>35</td><td>+34</td><td>70</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr class="is-selected"><th>4</th><td><a href="https://en.wikipedia.org/wiki/Manchester_City_F.C." title="Manchester City F.C.">Manchester City</a></td><td>38</td><td>19</td><td>9</td><td>10</td><td>71</td><td>41</td><td>+30</td><td>66</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Play-off_round" title="2016\u201317 UEFA Champions League">Champions League play-off round</a></td></tr><tr><th>5</th><td><a href="https://en.wikipedia.org/wiki/Manchester_United_F.C." title="Manchester United F.C.">Manchester United</a></td><td>38</td><td>19</td><td>9</td><td>10</td><td>49</td><td>35</td><td>+14</td><td>66</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Group_stage" title="2016\u201317 UEFA Europa League">Europa League group stage</a></td></tr><tr><th>6</th><td><a href="https://en.wikipedia.org/wiki/Southampton_F.C." title="Southampton F.C.">Southampton</a></td><td>38</td><td>18</td><td>9</td><td>11</td><td>59</td><td>41</td><td>+18</td><td>63</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Group_stage" title="2016\u201317 UEFA Europa League">Europa League group stage</a></td></tr><tr><th>7</th><td><a href="https://en.wikipedia.org/wiki/West_Ham_United_F.C." title="West Ham United F.C.">West Ham United</a></td><td>38</td><td>16</td><td>14</td><td>8</td><td>65</td><td>51</td><td>+14</td><td>62</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Third_qualifying_round" title="2016\u201317 UEFA Europa League">Europa League third qualifying round</a></td></tr><tr><th>8</th><td><a href="https://en.wikipedia.org/wiki/Liverpool_F.C." title="Liverpool F.C.">Liverpool</a></td><td>38</td><td>16</td><td>12</td><td>10</td><td>63</td><td>50</td><td>+13</td><td>60</td><td></td></tr><tr><th>9</th><td><a href="https://en.wikipedia.org/wiki/Stoke_City_F.C." title="Stoke City F.C.">Stoke City</a></td><td>38</td><td>14</td><td>9</td><td>15</td><td>41</td><td>55</td><td>\u221214</td><td>51</td><td></td></tr><tr><th>10</th><td><a href="https://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a></td><td>38</td><td>12</td><td>14</td><td>12</td><td>59</td><td>53</td><td>+6</td><td>50</td><td></td></tr><tr><th>11</th><td><a href="https://en.wikipedia.org/wiki/Everton_F.C." title="Everton F.C.">Everton</a></td><td>38</td><td>11</td><td>14</td><td>13</td><td>59</td><td>55</td><td>+4</td><td>47</td><td></td></tr><tr><th>12</th><td><a href="https://en.wikipedia.org/wiki/Swansea_City_A.F.C." title="Swansea City A.F.C.">Swansea City</a></td><td>38</td><td>12</td><td>11</td><td>15</td><td>42</td><td>52</td><td>\u221210</td><td>47</td><td></td></tr><tr><th>13</th><td><a href="https://en.wikipedia.org/wiki/Watford_F.C." title="Watford F.C.">Watford</a></td><td>38</td><td>12</td><td>9</td><td>17</td><td>40</td><td>50</td><td>\u221210</td><td>45</td><td></td></tr><tr><th>14</th><td><a href="https://en.wikipedia.org/wiki/West_Bromwich_Albion_F.C." title="West Bromwich Albion F.C.">West Bromwich Albion</a></td><td>38</td><td>10</td><td>13</td><td>15</td><td>34</td><td>48</td><td>\u221214</td><td>43</td><td></td></tr><tr><th>15</th><td><a href="https://en.wikipedia.org/wiki/Crystal_Palace_F.C." title="Crystal Palace F.C.">Crystal Palace</a></td><td>38</td><td>11</td><td>9</td><td>18</td><td>39</td><td>51</td><td>\u221212</td><td>42</td><td></td></tr><tr><th>16</th><td><a href="https://en.wikipedia.org/wiki/A.F.C._Bournemouth" title="A.F.C. Bournemouth">AFC Bournemouth</a></td><td>38</td><td>11</td><td>9</td><td>18</td><td>45</td><td>67</td><td>\u221222</td><td>42</td><td></td></tr><tr><th>17</th><td><a href="https://en.wikipedia.org/wiki/Sunderland_A.F.C." title="Sunderland A.F.C.">Sunderland</a></td><td>38</td><td>9</td><td>12</td><td>17</td><td>48</td><td>62</td><td>\u221214</td><td>39</td><td></td></tr><tr><th>18</th><td><a href="https://en.wikipedia.org/wiki/Newcastle_United_F.C." title="Newcastle United F.C.">Newcastle United</a> <strong>(R)</strong></td><td>38</td><td>9</td><td>10</td><td>19</td><td>44</td><td>65</td><td>\u221221</td><td>37</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr><tr><th>19</th><td><a href="https://en.wikipedia.org/wiki/Norwich_City_F.C." title="Norwich City F.C.">Norwich City</a> <strong>(R)</strong></td><td>38</td><td>9</td><td>7</td><td>22</td><td>39</td><td>67</td><td>\u221228</td><td>34</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr><tr><th>20</th><td><a href="https://en.wikipedia.org/wiki/Aston_Villa_F.C." title="Aston Villa F.C.">Aston Villa</a> <strong>(R)</strong></td><td>38</td><td>3</td><td>8</td><td>27</td><td>27</td><td>76</td><td>\u221249</td><td>17</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr></tbody></table>',1),cE=[lE];function uE(t,e){return He(),pt("div",null,cE)}const hE=wp(aE,[["render",uE]]);let wi;const fE=new Uint8Array(16);function dE(){if(!wi&&(wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wi(fE)}const Ke=[];for(let t=0;t<256;++t)Ke.push((t+256).toString(16).slice(1));function pE(t,e=0){return(Ke[t[e+0]]+Ke[t[e+1]]+Ke[t[e+2]]+Ke[t[e+3]]+"-"+Ke[t[e+4]]+Ke[t[e+5]]+"-"+Ke[t[e+6]]+Ke[t[e+7]]+"-"+Ke[t[e+8]]+Ke[t[e+9]]+"-"+Ke[t[e+10]]+Ke[t[e+11]]+Ke[t[e+12]]+Ke[t[e+13]]+Ke[t[e+14]]+Ke[t[e+15]]).toLowerCase()}const gE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xh={randomUUID:gE};function kh(t,e,n){if(xh.randomUUID&&!e&&!t)return xh.randomUUID();t=t||{};const s=t.random||(t.rng||dE)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=s[r];return e}return pE(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},mE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ep(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new yE;const f=i<<2|a>>4;if(s.push(f),c!==64){const p=a<<4&240|c>>2;if(s.push(p),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vE=function(t){const e=Ep(t);return bp.encodeByteArray(e,!0)},Ki=function(t){return vE(t).replace(/\./g,"")},wE=function(t){try{return bp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=()=>EE().__FIREBASE_DEFAULTS__,_E=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wE(t[1]);return e&&JSON.parse(e)},_p=()=>{try{return bE()||_E()||IE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TE=t=>{var e,n;return(n=(e=_p())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CE=t=>{const e=TE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ip=()=>{var t;return(t=_p())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ki(JSON.stringify(n)),Ki(JSON.stringify(o)),a].join(".")}function xE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tp(){try{return typeof indexedDB=="object"}catch{return!1}}function Cp(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function kE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="FirebaseError";class Fn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DE,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?RE(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Fn(r,a,s)}}function RE(t,e){return t.replace(NE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const NE=/\{\$([^}]+)}/g;function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Dh(i)&&Dh(o)){if(!Gi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Dh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=1e3,OE=2,ME=4*60*60*1e3,LE=.5;function Rh(t,e=PE,n=OE){const s=e*Math.pow(n,t),r=Math.round(LE*s*(Math.random()-.5)*2);return Math.min(ME,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BE(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qn){return this.instances.has(e)}getOptions(e=qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$E(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qn){return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $E(t){return t===qn?void 0:t}function BE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const VE={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},jE=ce.INFO,HE={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},qE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=HE[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yc{constructor(e){this.name=e,this._logLevel=jE,this._logHandler=qE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const zE=(t,e)=>e.some(n=>t instanceof n);let Nh,Ph;function KE(){return Nh||(Nh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GE(){return Ph||(Ph=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sp=new WeakMap,ul=new WeakMap,Ap=new WeakMap,wa=new WeakMap,vc=new WeakMap;function WE(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Sn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sp.set(n,t)}).catch(()=>{}),vc.set(e,t),e}function QE(t){if(ul.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ul.set(t,e)}let hl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YE(t){hl=t(hl)}function XE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ea(this),e,...n);return Ap.set(s,e.sort?e.sort():[e]),Sn(s)}:GE().includes(t)?function(...e){return t.apply(Ea(this),e),Sn(Sp.get(this))}:function(...e){return Sn(t.apply(Ea(this),e))}}function JE(t){return typeof t=="function"?XE(t):(t instanceof IDBTransaction&&QE(t),zE(t,KE())?new Proxy(t,hl):t)}function Sn(t){if(t instanceof IDBRequest)return WE(t);if(wa.has(t))return wa.get(t);const e=JE(t);return e!==t&&(wa.set(t,e),vc.set(e,t)),e}const Ea=t=>vc.get(t);function ZE(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Sn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Sn(o.result),l.oldVersion,l.newVersion,Sn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eb=["get","getKey","getAll","getAllKeys","count"],tb=["put","add","delete","clear"],ba=new Map;function Oh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ba.get(e))return ba.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=tb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||eb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ba.set(e,i),i}YE(t=>({...t,get:(e,n,s)=>Oh(e,n)||t.get(e,n,s),has:(e,n)=>!!Oh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function sb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fl="@firebase/app",Mh="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new yc("@firebase/app"),rb="@firebase/app-compat",ib="@firebase/analytics-compat",ob="@firebase/analytics",ab="@firebase/app-check-compat",lb="@firebase/app-check",cb="@firebase/auth",ub="@firebase/auth-compat",hb="@firebase/database",fb="@firebase/database-compat",db="@firebase/functions",pb="@firebase/functions-compat",gb="@firebase/installations",mb="@firebase/installations-compat",yb="@firebase/messaging",vb="@firebase/messaging-compat",wb="@firebase/performance",Eb="@firebase/performance-compat",bb="@firebase/remote-config",_b="@firebase/remote-config-compat",Ib="@firebase/storage",Tb="@firebase/storage-compat",Cb="@firebase/firestore",Sb="@firebase/firestore-compat",Ab="firebase",xb="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]",kb={[fl]:"fire-core",[rb]:"fire-core-compat",[ob]:"fire-analytics",[ib]:"fire-analytics-compat",[lb]:"fire-app-check",[ab]:"fire-app-check-compat",[cb]:"fire-auth",[ub]:"fire-auth-compat",[hb]:"fire-rtdb",[fb]:"fire-rtdb-compat",[db]:"fire-fn",[pb]:"fire-fn-compat",[gb]:"fire-iid",[mb]:"fire-iid-compat",[yb]:"fire-fcm",[vb]:"fire-fcm-compat",[wb]:"fire-perf",[Eb]:"fire-perf-compat",[bb]:"fire-rc",[_b]:"fire-rc-compat",[Ib]:"fire-gcs",[Tb]:"fire-gcs-compat",[Cb]:"fire-fst",[Sb]:"fire-fst-compat","fire-js":"fire-js",[Ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Map,pl=new Map;function Db(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pn(t){const e=t.name;if(pl.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;pl.set(e,t);for(const n of Wi.values())Db(n,t);return!0}function Yr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},An=new Do("app","Firebase",Rb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=xb;function xp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw An.create("bad-app-name",{appName:String(r)});if(n||(n=Ip()),!n)throw An.create("no-options");const i=Wi.get(r);if(i){if(Gi(n,i.options)&&Gi(s,i.config))return i;throw An.create("duplicate-app",{appName:r})}const o=new UE(r);for(const l of pl.values())o.addComponent(l);const a=new Nb(n,s,o);return Wi.set(r,a),a}function kp(t=dl){const e=Wi.get(t);if(!e&&t===dl&&Ip())return xp();if(!e)throw An.create("no-app",{appName:t});return e}function zt(t,e,n){var s;let r=(s=kb[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}Pn(new an(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebase-heartbeat-database",Mb=1,Or="firebase-heartbeat-store";let _a=null;function Dp(){return _a||(_a=ZE(Ob,Mb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Or)}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),_a}async function Lb(t){try{return await(await Dp()).transaction(Or).objectStore(Or).get(Rp(t))}catch(e){if(e instanceof Fn)rs.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function Lh(t,e){try{const s=(await Dp()).transaction(Or,"readwrite");await s.objectStore(Or).put(e,Rp(t)),await s.done}catch(n){if(n instanceof Fn)rs.warn(n.message);else{const s=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(s.message)}}}function Rp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=1024,$b=30*24*60*60*1e3;class Bb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=$b}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fh(),{heartbeatsToSend:n,unsentEntries:s}=Ub(this._heartbeatsCache.heartbeats),r=Ki(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Fh(){return new Date().toISOString().substring(0,10)}function Ub(t,e=Fb){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),$h(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$h(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tp()?Cp().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Lb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Lh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $h(t){return Ki(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){Pn(new an("platform-logger",e=>new nb(e),"PRIVATE")),Pn(new an("heartbeat",e=>new Bb(e),"PRIVATE")),zt(fl,Mh,t),zt(fl,Mh,"esm2017"),zt("fire-js","")}jb("");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,wc=wc||{},W=Hb||self;function Qi(){}function Ro(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qb(t){return Object.prototype.hasOwnProperty.call(t,Ia)&&t[Ia]||(t[Ia]=++zb)}var Ia="closure_uid_"+(1e9*Math.random()>>>0),zb=0;function Kb(t,e,n){return t.call.apply(t.bind,arguments)}function Gb(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function it(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?it=Kb:it=Gb,it.apply(null,arguments)}function Ei(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function $n(){this.s=this.s,this.o=this.o}var Wb=0;$n.prototype.s=!1;$n.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),Wb!=0)&&qb(this)};$n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Np=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ec(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Bh(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ro(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Qb=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",Qi,e),W.removeEventListener("test",Qi,e)}catch{}return t}();function Yi(t){return/^[\s\xa0]*$/.test(t)}var Uh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ta(t,e){return t<e?-1:t>e?1:0}function No(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function Ht(t){return No().indexOf(t)!=-1}function bc(t){return bc[" "](t),t}bc[" "]=Qi;function Pp(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var Yb=Ht("Opera"),$s=Ht("Trident")||Ht("MSIE"),Op=Ht("Edge"),gl=Op||$s,Mp=Ht("Gecko")&&!(No().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),Xb=No().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge");function Lp(){var t=W.document;return t?t.documentMode:void 0}var Xi;e:{var Ca="",Sa=function(){var t=No();if(Mp)return/rv:([^\);]+)(\)|;)/.exec(t);if(Op)return/Edge\/([\d\.]+)/.exec(t);if($s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Xb)return/WebKit\/(\S+)/.exec(t);if(Yb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Sa&&(Ca=Sa?Sa[1]:""),$s){var Aa=Lp();if(Aa!=null&&Aa>parseFloat(Ca)){Xi=String(Aa);break e}}Xi=Ca}var Jb={};function Zb(){return Pp(Jb,9,function(){let t=0;const e=Uh(String(Xi)).split("."),n=Uh("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=Ta(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||Ta(r[2].length==0,i[2].length==0)||Ta(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var ml;if(W.document&&$s){var Vh=Lp();ml=Vh||parseInt(Xi,10)||void 0}else ml=void 0;var e_=ml;function Mr(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Mp){e:{try{bc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:t_[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mr.$.h.call(this)}}ze(Mr,ot);var t_={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jr="closure_listenable_"+(1e6*Math.random()|0),n_=0;function s_(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++n_,this.fa=this.ia=!1}function Po(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _c(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Fp(t){const e={};for(const n in t)e[n]=t[n];return e}const jh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $p(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<jh.length;i++)n=jh[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Oo(t){this.src=t,this.g={},this.h=0}Oo.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=vl(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new s_(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function yl(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Np(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Po(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vl(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Ic="closure_lm_"+(1e6*Math.random()|0),xa={};function Bp(t,e,n,s,r){if(s&&s.once)return Vp(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Bp(t,e[i],n,s,r);return null}return n=Sc(n),t&&t[Jr]?t.O(e,n,Xr(s)?!!s.capture:!!s,r):Up(t,e,n,!1,s,r)}function Up(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Xr(r)?!!r.capture:!!r,a=Cc(t);if(a||(t[Ic]=a=new Oo(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=r_(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Qb||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Hp(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r_(){function t(n){return e.call(t.src,t.listener,n)}const e=i_;return t}function Vp(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Vp(t,e[i],n,s,r);return null}return n=Sc(n),t&&t[Jr]?t.P(e,n,Xr(s)?!!s.capture:!!s,r):Up(t,e,n,!0,s,r)}function jp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)jp(t,e[i],n,s,r);else s=Xr(s)?!!s.capture:!!s,n=Sc(n),t&&t[Jr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=vl(i,n,s,r),-1<n&&(Po(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vl(e,n,s,r)),(n=-1<t?e[t]:null)&&Tc(n))}function Tc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jr])yl(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Hp(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Cc(e))?(yl(n,t),n.h==0&&(n.src=null,e[Ic]=null)):Po(t)}}}function Hp(t){return t in xa?xa[t]:xa[t]="on"+t}function i_(t,e){if(t.fa)t=!0;else{e=new Mr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Tc(t),t=n.call(s,e)}return t}function Cc(t){return t=t[Ic],t instanceof Oo?t:null}var ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sc(t){return typeof t=="function"?t:(t[ka]||(t[ka]=function(e){return t.handleEvent(e)}),t[ka])}function qe(){$n.call(this),this.i=new Oo(this),this.S=this,this.J=null}ze(qe,$n);qe.prototype[Jr]=!0;qe.prototype.removeEventListener=function(t,e,n,s){jp(this,t,e,n,s)};function Ye(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var r=e;e=new ot(s,t),$p(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=bi(o,s,!0,e)&&r}if(o=e.g=t,r=bi(o,s,!0,e)&&r,r=bi(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=bi(o,s,!1,e)&&r}qe.prototype.N=function(){if(qe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Po(n[s]);delete t.g[e],t.h--}}this.J=null};qe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};qe.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function bi(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&yl(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Ac=W.JSON.stringify;function o_(){var t=Kp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class a_{constructor(){this.h=this.g=null}add(e,n){const s=qp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var qp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new l_,t=>t.reset());class l_{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function c_(t){W.setTimeout(()=>{throw t},0)}function zp(t,e){wl||u_(),El||(wl(),El=!0),Kp.add(t,e)}var wl;function u_(){var t=W.Promise.resolve(void 0);wl=function(){t.then(h_)}}var El=!1,Kp=new a_;function h_(){for(var t;t=o_();){try{t.h.call(t.g)}catch(n){c_(n)}var e=qp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}El=!1}function Mo(t,e){qe.call(this),this.h=t||1,this.g=e||W,this.j=it(this.qb,this),this.l=Date.now()}ze(Mo,qe);N=Mo.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(xc(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Mo.$.N.call(this),xc(this),delete this.g};function kc(t,e,n){if(typeof t=="function")n&&(t=it(t,n));else if(t&&typeof t.handleEvent=="function")t=it(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function Gp(t){t.g=kc(()=>{t.g=null,t.i&&(t.i=!1,Gp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class f_ extends $n{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gp(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(t){$n.call(this),this.h=t,this.g={}}ze(Lr,$n);var Hh=[];function Wp(t,e,n,s){Array.isArray(n)||(n&&(Hh[0]=n.toString()),n=Hh);for(var r=0;r<n.length;r++){var i=Bp(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Qp(t){_c(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tc(e)},t),t.g={}}Lr.prototype.N=function(){Lr.$.N.call(this),Qp(this)};Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lo(){this.g=!0}Lo.prototype.Ea=function(){this.g=!1};function d_(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function p_(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Is(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+m_(t,n)+(s?" "+s:"")})}function g_(t,e){t.info(function(){return"TIMEOUT: "+e})}Lo.prototype.info=function(){};function m_(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Ac(n)}catch{return e}}var hs={},qh=null;function Fo(){return qh=qh||new qe}hs.Ta="serverreachability";function Yp(t){ot.call(this,hs.Ta,t)}ze(Yp,ot);function Fr(t){const e=Fo();Ye(e,new Yp(e))}hs.STAT_EVENT="statevent";function Xp(t,e){ot.call(this,hs.STAT_EVENT,t),this.stat=e}ze(Xp,ot);function ht(t){const e=Fo();Ye(e,new Xp(e,t))}hs.Ua="timingevent";function Jp(t,e){ot.call(this,hs.Ua,t),this.size=e}ze(Jp,ot);function Zr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var $o={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dc(){}Dc.prototype.h=null;function zh(t){return t.h||(t.h=t.i())}function eg(){}var ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rc(){ot.call(this,"d")}ze(Rc,ot);function Nc(){ot.call(this,"c")}ze(Nc,ot);var bl;function Bo(){}ze(Bo,Dc);Bo.prototype.g=function(){return new XMLHttpRequest};Bo.prototype.i=function(){return{}};bl=new Bo;function ti(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Lr(this),this.P=y_,t=gl?125:void 0,this.V=new Mo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}var y_=45e3,_l={},Ji={};N=ti.prototype;N.setTimeout=function(t){this.P=t};function Il(t,e,n){t.L=1,t.v=Vo(ln(e)),t.s=n,t.S=!0,ng(t,null)}function ng(t,e){t.G=Date.now(),ni(t),t.A=ln(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),ug(n.i,"t",s),t.C=0,n=t.l.I,t.h=new tg,t.g=Rg(t.l,n?e:null,!t.s),0<t.O&&(t.M=new f_(it(t.Pa,t,t.g),t.O)),Wp(t.U,t.g,"readystatechange",t.nb),e=t.I?Fp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fr(),d_(t.j,t.u,t.A,t.m,t.W,t.s)}N.nb=function(t){t=t.target;const e=this.M;e&&Zt(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const u=Zt(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||gl||this.g&&(this.h.h||this.g.ja()||Qh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Fr(3):Fr(2)),Uo(this);var n=this.g.da();this.aa=n;t:if(sg(this)){var s=Qh(this.g);t="";var r=s.length,i=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),wr(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,p_(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yi(a)){var c=a;break t}}c=null}if(n=c)Is(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tl(this,n);else{this.i=!1,this.o=3,ht(12),Yn(this),wr(this);break e}}this.S?(rg(this,u,o),gl&&this.i&&u==3&&(Wp(this.U,this.V,"tick",this.mb),this.V.start())):(Is(this.j,this.m,o,null),Tl(this,o)),u==4&&Yn(this),this.i&&!this.J&&(u==4?Ag(this.l,this):(this.i=!1,ni(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ht(12)):(this.o=0,ht(13)),Yn(this),wr(this)}}}catch{}finally{}};function sg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function rg(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=v_(t,n),r==Ji){e==4&&(t.o=4,ht(14),s=!1),Is(t.j,t.m,null,"[Incomplete Response]");break}else if(r==_l){t.o=4,ht(15),Is(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Is(t.j,t.m,r,null),Tl(t,r);sg(t)&&r!=Ji&&r!=_l&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ht(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bc(e),e.L=!0,ht(11))):(Is(t.j,t.m,n,"[Invalid Chunked Response]"),Yn(t),wr(t))}N.mb=function(){if(this.g){var t=Zt(this.g),e=this.g.ja();this.C<e.length&&(Uo(this),rg(this,t,e),this.i&&t!=4&&ni(this))}};function v_(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ji:(n=Number(e.substring(n,s)),isNaN(n)?_l:(s+=1,s+n>e.length?Ji:(e=e.substr(s,n),t.C=s+n,e)))}N.cancel=function(){this.J=!0,Yn(this)};function ni(t){t.Y=Date.now()+t.P,ig(t,t.P)}function ig(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zr(it(t.lb,t),e)}function Uo(t){t.B&&(W.clearTimeout(t.B),t.B=null)}N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(g_(this.j,this.A),this.L!=2&&(Fr(),ht(17)),Yn(this),this.o=2,wr(this)):ig(this,this.Y-t)};function wr(t){t.l.H==0||t.J||Ag(t.l,t)}function Yn(t){Uo(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,xc(t.V),Qp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Tl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cl(n.h,t))){if(!t.K&&Cl(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)to(n),qo(n);else break e;$c(n),ht(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=Zr(it(n.ib,n),6e3));if(1>=dg(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Xn(n,11)}else if((t.K||n.g==t)&&to(n),!Yi(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const u=c[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const h=c[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Pc(i,i.h),i.h=null))}if(s.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(s.Da=v,Se(s.G,s.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Dg(s,s.I?s.oa:null,s.Y),o.K){pg(s.h,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(Uo(a),ni(a)),s.g=o}else Cg(s);0<n.i.length&&zo(n)}else c[0]!="stop"&&c[0]!="close"||Xn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xn(n,7):Fc(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Fr(4)}catch{}}function w_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ro(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function E_(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ro(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function og(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ro(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=E_(t),s=w_(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var ag=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ns(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ns){this.h=e!==void 0?e:t.h,Zi(this,t.j),this.s=t.s,this.g=t.g,eo(this,t.m),this.l=t.l,e=t.i;var n=new $r;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Kh(this,n),this.o=t.o}else t&&(n=String(t).match(ag))?(this.h=!!e,Zi(this,n[1]||"",!0),this.s=ur(n[2]||""),this.g=ur(n[3]||"",!0),eo(this,n[4]),this.l=ur(n[5]||"",!0),Kh(this,n[6]||"",!0),this.o=ur(n[7]||"")):(this.h=!!e,this.i=new $r(null,this.h))}ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hr(e,Gh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hr(e,Gh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hr(n,n.charAt(0)=="/"?T_:I_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hr(n,S_)),t.join("")};function ln(t){return new ns(t)}function Zi(t,e,n){t.j=n?ur(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Kh(t,e,n){e instanceof $r?(t.i=e,A_(t.i,t.h)):(n||(e=hr(e,C_)),t.i=new $r(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Vo(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ur(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,__),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function __(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Gh=/[#\/\?@]/g,I_=/[#\?:]/g,T_=/[#\?]/g,C_=/[#\?@]/g,S_=/#/g;function $r(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bn(t){t.g||(t.g=new Map,t.h=0,t.i&&b_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=$r.prototype;N.add=function(t,e){Bn(this),this.i=null,t=Qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lg(t,e){Bn(t),e=Qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cg(t,e){return Bn(t),e=Qs(t,e),t.g.has(e)}N.forEach=function(t,e){Bn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};N.sa=function(){Bn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};N.Z=function(t){Bn(this);let e=[];if(typeof t=="string")cg(this,t)&&(e=e.concat(this.g.get(Qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Bn(this),this.i=null,t=Qs(this,t),cg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ug(t,e,n){lg(t,e),0<n.length&&(t.i=null,t.g.set(Qs(t,e),Ec(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function A_(t,e){e&&!t.j&&(Bn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(lg(this,s),ug(this,r,n))},t)),t.j=e}var x_=class{constructor(t,e){this.h=t,this.g=e}};function hg(t){this.l=t||k_,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var k_=10;function fg(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dg(t){return t.h?1:t.g?t.g.size:0}function Cl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pc(t,e){t.g?t.g.add(e):t.h=e}function pg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function gg(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ec(t.i)}function Oc(){}Oc.prototype.stringify=function(t){return W.JSON.stringify(t,void 0)};Oc.prototype.parse=function(t){return W.JSON.parse(t,void 0)};function D_(){this.g=new Oc}function R_(t,e,n){const s=n||"";try{og(t,function(r,i){let o=r;Xr(r)&&(o=Ac(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function N_(t,e){const n=new Lo;if(W.Image){const s=new Image;s.onload=Ei(_i,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ei(_i,n,s,"TestLoadImage: error",!1,e),s.onabort=Ei(_i,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ei(_i,n,s,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function _i(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function si(t){this.l=t.fc||null,this.j=t.ob||!1}ze(si,Dc);si.prototype.g=function(){return new jo(this.l,this.j)};si.prototype.i=function(t){return function(){return t}}({});function jo(t,e){qe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Mc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ze(jo,qe);var Mc=0;N=jo.prototype;N.open=function(t,e){if(this.readyState!=Mc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Br(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=Mc};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mg(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mg(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ri(this):Br(this),this.readyState==3&&mg(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,ri(this))};N.Ya=function(t){this.g&&(this.response=t,ri(this))};N.ka=function(){this.g&&ri(this)};function ri(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Br(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Br(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var P_=W.JSON.parse;function De(t){qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yg,this.L=this.M=!1}ze(De,qe);var yg="",O_=/^https?$/i,M_=["POST","PUT"];N=De.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bl.g(),this.C=this.u?zh(this.u):zh(bl),this.g.onreadystatechange=it(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Wh(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=W.FormData&&t instanceof W.FormData,!(0<=Np(M_,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Eg(this),0<this.B&&((this.L=L_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.ua,this)):this.A=kc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Wh(this,i)}};function L_(t){return $s&&Zb()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof wc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function Wh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vg(t),Ho(t)}function vg(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),Ho(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ho(this,!0)),De.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?wg(this):this.kb())};N.kb=function(){wg(this)};function wg(t){if(t.h&&typeof wc<"u"&&(!t.C[1]||Zt(t)!=4||t.da()!=2)){if(t.v&&Zt(t)==4)kc(t.La,0,t);else if(Ye(t,"readystatechange"),Zt(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.I).match(ag)[1]||null;if(!r&&W.self&&W.self.location){var i=W.self.location.protocol;r=i.substr(0,i.length-1)}s=!O_.test(r?r.toLowerCase():"")}n=s}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var o=2<Zt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",vg(t)}}finally{Ho(t)}}}}function Ho(t,e){if(t.g){Eg(t);const n=t.g,s=t.C[0]?Qi:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=s}catch{}}}function Eg(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function Zt(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),P_(e)}};function Qh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bg(t){let e="";return _c(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Lc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=bg(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _g(t){this.Ga=0,this.i=[],this.j=new Lo,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=or("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=or("baseRetryDelayMs",5e3,t),this.hb=or("retryDelaySeedMs",1e4,t),this.eb=or("forwardChannelMaxRetries",2,t),this.xa=or("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new hg(t&&t.concurrentRequestLimit),this.Ja=new D_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}N=_g.prototype;N.qa=8;N.H=1;function Fc(t){if(Ig(t),t.H==3){var e=t.W++,n=ln(t.G);Se(n,"SID",t.J),Se(n,"RID",e),Se(n,"TYPE","terminate"),ii(t,n),e=new ti(t,t.j,e,void 0),e.L=2,e.v=Vo(ln(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&(new Image().src=e.v,n=!0),n||(e.g=Rg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ni(e)}kg(t)}function qo(t){t.g&&(Bc(t),t.g.cancel(),t.g=null)}function Ig(t){qo(t),t.u&&(W.clearTimeout(t.u),t.u=null),to(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function zo(t){fg(t.h)||t.m||(t.m=!0,zp(t.Na,t),t.C=0)}function F_(t,e){return dg(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zr(it(t.Na,t,e),xg(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ti(this,this.j,t,void 0);let i=this.s;if(this.U&&(i?(i=Fp(i),$p(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Tg(this,r,e),n=ln(this.G),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),ii(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(bg(i)))+"&"+e:this.o&&Lc(n,this.o,i)),Pc(this.h,r),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),r.ba=!0,Il(r,n,null)):Il(r,n,e),this.H=2}}else this.H==3&&(t?Yh(this,t):this.i.length==0||fg(this.h)||Yh(this))};function Yh(t,e){var n;e?n=e.m:n=t.W++;const s=ln(t.G);Se(s,"SID",t.J),Se(s,"RID",n),Se(s,"AID",t.V),ii(t,s),t.o&&t.s&&Lc(s,t.o,t.s),n=new ti(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=Tg(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Pc(t.h,n),Il(n,s,e)}function ii(t,e){t.ma&&_c(t.ma,function(n,s){Se(e,s,n)}),t.l&&og({},function(n,s){Se(e,s,n)})}function Tg(t,e,n){n=Math.min(t.i.length,n);var s=t.l?it(t.l.Va,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{R_(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function Cg(t){t.g||t.u||(t.ba=1,zp(t.Ma,t),t.A=0)}function $c(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zr(it(t.Ma,t),xg(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,Sg(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Zr(it(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ht(10),qo(this),Sg(this))};function Bc(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function Sg(t){t.g=new ti(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ln(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.J),Se(e,"CI",t.M?"0":"1"),Se(e,"AID",t.V),Se(e,"TYPE","xmlhttp"),ii(t,e),t.o&&t.s&&Lc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Vo(ln(e)),n.s=null,n.S=!0,ng(n,t)}N.ib=function(){this.v!=null&&(this.v=null,qo(this),$c(this),ht(19))};function to(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function Ag(t,e){var n=null;if(t.g==e){to(t),Bc(t),t.g=null;var s=2}else if(Cl(t.h,e))n=e.F,pg(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=Fo(),Ye(s,new Jp(s,n)),zo(t)}else Cg(t);else if(r=e.o,r==3||r==0&&0<t.ta||!(s==1&&F_(t,e)||s==2&&$c(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Xn(t,5);break;case 4:Xn(t,10);break;case 3:Xn(t,6);break;default:Xn(t,2)}}}function xg(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Xn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=it(t.pb,t);n||(n=new ns("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||Zi(n,"https"),Vo(n)),N_(n.toString(),s)}else ht(2);t.H=0,t.l&&t.l.za(e),kg(t),Ig(t)}N.pb=function(t){t?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function kg(t){if(t.H=0,t.pa=[],t.l){const e=gg(t.h);(e.length!=0||t.i.length!=0)&&(Bh(t.pa,e),Bh(t.pa,t.i),t.h.i.length=0,Ec(t.i),t.i.length=0),t.l.ya()}}function Dg(t,e,n){var s=n instanceof ns?ln(n):new ns(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),eo(s,s.m);else{var r=W.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new ns(null,void 0);s&&Zi(i,s),e&&(i.g=e),r&&eo(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Se(s,n,e),Se(s,"VER",t.qa),ii(t,s),s}function Rg(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new De(new si({ob:!0})):new De(t.va),e.Oa(t.I),e}function Ng(){}N=Ng.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.Va=function(){};function no(){if($s&&!(10<=Number(e_)))throw Error("Environmental error: no available transport.")}no.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){qe.call(this),this.g=new _g(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ys(this)}ze(bt,qe);bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;ht(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=Dg(t,null,t.Y),zo(t)};bt.prototype.close=function(){Fc(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ac(t),t=n);e.i.push(new x_(e.fb++,t)),e.H==3&&zo(e)};bt.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,bt.$.N.call(this)};function Pg(t){Rc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ze(Pg,Rc);function Og(){Nc.call(this),this.status=1}ze(Og,Nc);function Ys(t){this.g=t}ze(Ys,Ng);Ys.prototype.Ba=function(){Ye(this.g,"a")};Ys.prototype.Aa=function(t){Ye(this.g,new Pg(t))};Ys.prototype.za=function(t){Ye(this.g,new Og)};Ys.prototype.ya=function(){Ye(this.g,"b")};function $_(){this.blockSize=-1}function Ft(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ze(Ft,$_);Ft.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Da(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}Ft.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)Da(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){Da(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){Da(this,s),r=0;break}}this.h=r,this.i+=e};Ft.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function fe(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var B_={};function Uc(t){return-128<=t&&128>t?Pp(B_,t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function qt(t){if(isNaN(t)||!isFinite(t))return xs;if(0>t)return We(qt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Sl;return new fe(e,0)}function Mg(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return We(Mg(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qt(Math.pow(e,8)),s=xs,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=qt(Math.pow(e,i)),s=s.R(i).add(qt(o))):(s=s.R(n),s=s.add(qt(o)))}return s}var Sl=4294967296,xs=Uc(0),Al=Uc(1),Xh=Uc(16777216);N=fe.prototype;N.ea=function(){if(Tt(this))return-We(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Sl+s)*e,e*=Sl}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(en(this))return"0";if(Tt(this))return"-"+We(this).toString(t);for(var e=qt(Math.pow(t,6)),n=this,s="";;){var r=ro(n,e).g;n=so(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,en(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function en(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}N.X=function(t){return t=so(this,t),Tt(t)?-1:en(t)?0:1};function We(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new fe(n,~t.h).add(Al)}N.abs=function(){return Tt(this)?We(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function so(t,e){return t.add(We(e))}N.R=function(t){if(en(this)||en(t))return xs;if(Tt(this))return Tt(t)?We(this).R(We(t)):We(We(this).R(t));if(Tt(t))return We(this.R(We(t)));if(0>this.X(Xh)&&0>t.X(Xh))return qt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*s+2*r]+=o*l,Ii(n,2*s+2*r),n[2*s+2*r+1]+=i*l,Ii(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,Ii(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,Ii(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new fe(n,0)};function Ii(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ar(t,e){this.g=t,this.h=e}function ro(t,e){if(en(e))throw Error("division by zero");if(en(t))return new ar(xs,xs);if(Tt(t))return e=ro(We(t),e),new ar(We(e.g),We(e.h));if(Tt(e))return e=ro(t,We(e)),new ar(We(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Al,s=e;0>=s.X(t);)n=Jh(n),s=Jh(s);var r=vs(n,1),i=vs(s,1);for(s=vs(s,2),n=vs(n,2);!en(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=vs(s,1),n=vs(n,1)}return e=so(t,r.R(e)),new ar(r,e)}for(r=xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=qt(n),o=i.R(e);Tt(o)||0<o.X(t);)n-=s,i=qt(n),o=i.R(e);en(i)&&(i=Al),r=r.add(i),t=so(t,o)}return new ar(r,t)}N.gb=function(t){return ro(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new fe(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new fe(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new fe(n,this.h^t.h)};function Jh(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new fe(n,t.h)}function vs(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new fe(r,t.h)}no.prototype.createWebChannel=no.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;$o.NO_ERROR=0;$o.TIMEOUT=8;$o.HTTP_ERROR=6;Zp.COMPLETE="complete";eg.EventType=ei;ei.OPEN="a";ei.CLOSE="b";ei.ERROR="c";ei.MESSAGE="d";qe.prototype.listen=qe.prototype.O;De.prototype.listenOnce=De.prototype.P;De.prototype.getLastError=De.prototype.Sa;De.prototype.getLastErrorCode=De.prototype.Ia;De.prototype.getStatus=De.prototype.da;De.prototype.getResponseJson=De.prototype.Wa;De.prototype.getResponseText=De.prototype.ja;De.prototype.send=De.prototype.ha;De.prototype.setWithCredentials=De.prototype.Oa;Ft.prototype.digest=Ft.prototype.l;Ft.prototype.reset=Ft.prototype.reset;Ft.prototype.update=Ft.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=qt;fe.fromString=Mg;var U_=function(){return new no},V_=function(){return Fo()},Ra=$o,j_=Zp,H_=hs,Zh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},q_=si,Ti=eg,z_=De,K_=Ft,ks=fe;const ef="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new yc("@firebase/firestore");function tf(){return is.logLevel}function $(t,...e){if(is.logLevel<=ce.DEBUG){const n=e.map(Vc);is.debug(`Firestore (${Xs}): ${t}`,...n)}}function cn(t,...e){if(is.logLevel<=ce.ERROR){const n=e.map(Vc);is.error(`Firestore (${Xs}): ${t}`,...n)}}function Bs(t,...e){if(is.logLevel<=ce.WARN){const n=e.map(Vc);is.warn(`Firestore (${Xs}): ${t}`,...n)}}function Vc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+t;throw cn(e),new Error(e)}function Ie(t,e){t||G()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class W_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Q_{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ss,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string"),new Lg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Ze(e)}}class Y_{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class X_{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new Y_(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.T=n.token,new J_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=eI(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function oe(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ve(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ve(0,0))}static max(){return new Y(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&G(),s===void 0?s=e.length-n:s>e.length-n&&G(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Ur{construct(e,n,s){return new Ae(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new q(T.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Ur{construct(e,n,s){return new st(e,n,s)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new q(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new q(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Ae.fromString(e))}static fromName(e){return new z(Ae.fromString(e).popFirst(5))}static empty(){return new z(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Ae(e.slice()))}}function nI(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(s===1e9?new Ve(n+1,0):new Ve(n,s));return new On(r,z.empty(),e)}function sI(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new On(Y.min(),z.empty(),-1)}static max(){return new On(Y.max(),z.empty(),-1)}}function rI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==iI)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,s)=>{n(e)})}static reject(e){return new S((n,s)=>{s(e)})}static waitFor(e){return new S((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=S.resolve(!1);for(const s of e)n=n.next(r=>r?S.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new S((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new S((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function ai(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}jc.ct=-1;function Ko(t){return t==null}function io(t){return t===0&&1/t==-1/0}function aI(t){return typeof t=="number"&&Number.isInteger(t)&&!io(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $g(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ci(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ci(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ci(this.root,e,this.comparator,!0)}}class Ci{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Ge.RED,this.left=r!=null?r:Ge.EMPTY,this.right=i!=null?i:Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Ge(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sf(this.data.getIterator())}getIteratorFrom(e){return new sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class sf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new at(st.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Bg("Invalid base64 string: "+r):r}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const lI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=lI.exec(t);if(Ie(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qc(t){const e=t.mapValue.fields.__previous_value__;return Hc(e)?qc(e):e}function Vr(t){const e=Mn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,r,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hc(t)?4:uI(t)?9007199254740991:10:G()}function Gt(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vr(t).isEqual(Vr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Mn(s.timestampValue),o=Mn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return os(s.bytesValue).isEqual(os(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Me(s.geoPointValue.latitude)===Me(r.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Me(s.integerValue)===Me(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Me(s.doubleValue),o=Me(r.doubleValue);return i===o?io(i)===io(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],Gt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(nf(i)!==nf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Gt(i[a],o[a])))return!1;return!0}(t,e);default:return G()}}function Hr(t,e){return(t.values||[]).find(n=>Gt(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;const n=as(t),s=as(e);if(n!==s)return oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Me(r.integerValue||r.doubleValue),a=Me(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return rf(t.timestampValue,e.timestampValue);case 4:return rf(Vr(t),Vr(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=os(r),a=os(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=oe(o[l],a[l]);if(c!==0)return c}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=oe(Me(r.latitude),Me(i.latitude));return o!==0?o:oe(Me(r.longitude),Me(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Vs(o[l],a[l]);if(c)return c}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Si.mapValue&&i===Si.mapValue)return 0;if(r===Si.mapValue)return 1;if(i===Si.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=oe(a[u],c[u]);if(h!==0)return h;const f=Vs(o[a[u]],l[c[u]]);if(f!==0)return f}return oe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw G()}}function rf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Mn(t),s=Mn(e),r=oe(n.seconds,s.seconds);return r!==0?r:oe(n.nanos,s.nanos)}function js(t){return xl(t)}function xl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Mn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=xl(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${xl(s.fields[a])}`;return i+"}"}(t.mapValue):G();var e,n}function kl(t){return!!t&&"integerValue"in t}function zc(t){return!!t&&"arrayValue"in t}function of(t){return!!t&&"nullValue"in t}function af(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Li(t){return!!t&&"mapValue"in t}function Er(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Er(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Er(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Li(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Er(n)}setAll(e){let n=st.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Er(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Li(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Li(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Ct(Er(this.value))}}function Ug(t){const e=[];return Js(t.fields,(n,s)=>{const r=new st([n]);if(Li(s)){const i=Ug(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,Y.min(),Y.min(),Y.min(),Ct.empty(),0)}static newFoundDocument(e,n,s,r){return new tt(e,1,n,Y.min(),s,r,0)}static newNoDocument(e,n){return new tt(e,2,n,Y.min(),Y.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,Y.min(),Y.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.position=e,this.inclusive=n}}function lf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=z.comparator(z.fromName(o.referenceValue),n.key):s=Vs(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function cf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n="asc"){this.field=e,this.dir=n}}function hI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{}class Ue extends Vg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dI(e,n,s):n==="array-contains"?new mI(e,s):n==="in"?new yI(e,s):n==="not-in"?new vI(e,s):n==="array-contains-any"?new wI(e,s):new Ue(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pI(e,s):new gI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wt extends Vg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Wt(e,n)}matches(e){return jg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jg(t){return t.op==="and"}function Hg(t){return fI(t)&&jg(t)}function fI(t){for(const e of t.filters)if(e instanceof Wt)return!1;return!0}function Dl(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+js(t.value);if(Hg(t))return t.filters.map(e=>Dl(e)).join(",");{const e=t.filters.map(n=>Dl(n)).join(",");return`${t.op}(${e})`}}function qg(t,e){return t instanceof Ue?function(n,s){return s instanceof Ue&&n.op===s.op&&n.field.isEqual(s.field)&&Gt(n.value,s.value)}(t,e):t instanceof Wt?function(n,s){return s instanceof Wt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&qg(i,s.filters[o]),!0):!1}(t,e):void G()}function zg(t){return t instanceof Ue?function(e){return`${e.field.canonicalString()} ${e.op} ${js(e.value)}`}(t):t instanceof Wt?function(e){return e.op.toString()+" {"+e.getFilters().map(zg).join(" ,")+"}"}(t):"Filter"}class dI extends Ue{constructor(e,n,s){super(e,n,s),this.key=z.fromName(s.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class pI extends Ue{constructor(e,n){super(e,"in",n),this.keys=Kg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gI extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=Kg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>z.fromName(s.referenceValue))}class mI extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zc(n)&&Hr(n.arrayValue,this.value)}}class yI extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hr(this.value.arrayValue,n)}}class vI extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hr(this.value.arrayValue,n)}}class wI extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Hr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function uf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new EI(t,e,n,s,r,i,o)}function Kc(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Dl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Ko(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>js(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>js(s)).join(",")),e.dt=n}return e.dt}function Gc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cf(t.startAt,e.startAt)&&cf(t.endAt,e.endAt)}function Rl(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function bI(t,e,n,s,r,i,o,a){return new Go(t,e,n,s,r,i,o,a)}function Wc(t){return new Go(t)}function hf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _I(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function II(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function TI(t){return t.collectionGroup!==null}function Ds(t){const e=J(t);if(e.wt===null){e.wt=[];const n=II(e),s=_I(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new br(n)),e.wt.push(new br(st.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new br(st.keyField(),i))}}}return e.wt}function un(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=uf(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ds(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new br(i.field,o))}const s=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e._t=uf(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function Nl(t,e,n){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wo(t,e){return Gc(un(t),un(e))&&t.limitType===e.limitType}function Gg(t){return`${Kc(un(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>zg(s)).join(", ")}]`),Ko(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>js(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>js(s)).join(",")),`Target(${n})`}(un(t))}; limitType=${t.limitType})`}function Qo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Ds(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=lf(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ds(n),s)||n.endAt&&!function(r,i,o){const a=lf(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ds(n),s))}(t,e)}function CI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wg(t){return(e,n)=>{let s=!1;for(const r of Ds(t)){const i=SI(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function SI(t,e,n){const s=t.field.isKeyField()?z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Vs(a,l):G()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return $g(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new xe(z.comparator);function hn(){return AI}const Qg=new xe(z.comparator);function fr(...t){let e=Qg;for(const n of t)e=e.insert(n.key,n);return e}function Yg(t){let e=Qg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Jn(){return _r()}function Xg(){return _r()}function _r(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const xI=new xe(z.comparator),kI=new at(z.comparator);function te(...t){let e=kI;for(const n of t)e=e.add(n);return e}const DI=new at(oe);function RI(){return DI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(e)?"-0":e}}function Zg(t){return{integerValue:""+t}}function NI(t,e){return aI(e)?Zg(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this._=void 0}}function PI(t,e,n){return t instanceof ao?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Hc(r)&&(r=qc(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof qr?tm(t,e):t instanceof zr?nm(t,e):function(s,r){const i=em(s,r),o=ff(i)+ff(s.gt);return kl(i)&&kl(s.gt)?Zg(o):Jg(s.serializer,o)}(t,e)}function OI(t,e,n){return t instanceof qr?tm(t,e):t instanceof zr?nm(t,e):n}function em(t,e){return t instanceof lo?kl(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ao extends Yo{}class qr extends Yo{constructor(e){super(),this.elements=e}}function tm(t,e){const n=sm(e);for(const s of t.elements)n.some(r=>Gt(r,s))||n.push(s);return{arrayValue:{values:n}}}class zr extends Yo{constructor(e){super(),this.elements=e}}function nm(t,e){let n=sm(e);for(const s of t.elements)n=n.filter(r=>!Gt(r,s));return{arrayValue:{values:n}}}class lo extends Yo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ff(t){return Me(t.integerValue||t.doubleValue)}function sm(t){return zc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MI(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof qr&&s instanceof qr||n instanceof zr&&s instanceof zr?Us(n.elements,s.elements,Gt):n instanceof lo&&s instanceof lo?Gt(n.gt,s.gt):n instanceof ao&&s instanceof ao}(t.transform,e.transform)}class LI{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xo{}function rm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new om(t.key,nn.none()):new li(t.key,t.data,nn.none());{const n=t.data,s=Ct.empty();let r=new at(st.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new fs(t.key,s,new Pt(r.toArray()),nn.none())}}function FI(t,e,n){t instanceof li?function(s,r,i){const o=s.value.clone(),a=pf(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,r,i){if(!Fi(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=pf(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(im(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ir(t,e,n,s){return t instanceof li?function(r,i,o,a){if(!Fi(r.precondition,i))return o;const l=r.value.clone(),c=gf(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof fs?function(r,i,o,a){if(!Fi(r.precondition,i))return o;const l=gf(r.fieldTransforms,a,i),c=i.data;return c.setAll(im(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Fi(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function $I(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=em(s.transform,r||null);i!=null&&(n===null&&(n=Ct.empty()),n.set(s.field,i))}return n||null}function df(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Us(n,s,(r,i)=>MI(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class li extends Xo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fs extends Xo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function im(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function pf(t,e,n){const s=new Map;Ie(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,OI(o,a,n[r]))}return s}function gf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,PI(i,o,e))}return s}class om extends Xo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends Xo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&FI(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Xg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=rm(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>df(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>df(n,s))}}class Qc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ie(e.mutations.length===s.length);let r=xI;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Qc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ne;function HI(t){switch(t){default:return G();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function am(t){if(t===void 0)return cn("GRPC error has no .code"),T.UNKNOWN;switch(t){case Oe.OK:return T.OK;case Oe.CANCELLED:return T.CANCELLED;case Oe.UNKNOWN:return T.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return T.INTERNAL;case Oe.UNAVAILABLE:return T.UNAVAILABLE;case Oe.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Oe.NOT_FOUND:return T.NOT_FOUND;case Oe.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Oe.ABORTED:return T.ABORTED;case Oe.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Oe.DATA_LOSS:return T.DATA_LOSS;default:return G()}}(ne=Oe||(Oe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ai}static getOrCreateInstance(){return Ai===null&&(Ai=new Yc),Ai}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ai=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new ks([4294967295,4294967295],0);function mf(t){const e=qI().encode(t),n=new K_;return n.update(e),new Uint8Array(n.digest())}function yf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ks([n,s],0),new ks([r,i],0)]}class Xc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dr(`Invalid padding: ${n}`);if(s<0)throw new dr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new dr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ks.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(ks.fromNumber(s)));return r.compare(zI)===1&&(r=new ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=mf(e),[s,r]=yf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xc(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=mf(e),[s,r]=yf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class dr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ci.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jo(Y.min(),r,new xe(oe),hn(),te())}}class ci{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ci(s,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class lm{constructor(e,n){this.targetId=e,this.Vt=n}}class cm{constructor(e,n,s=lt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class vf{constructor(){this.St=0,this.Dt=Ef(),this.Ct=lt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=te(),n=te(),s=te();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:G()}}),new ci(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Ef()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class KI{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=hn(),this.zt=wf(),this.Wt=new xe(oe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(Rl(o))if(r===0){const a=new z(o.path);this.Yt(s,a,tt.newNoDocument(a,Y.min()))}else Ie(r===1);else{const a=this.ie(s);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=Yc.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,p,m,v,b,A;const R={localCacheCount:u,existenceFilterCount:h.count},V=h.unchangedNames;return V&&(R.bloomFilter={applied:c===0,hashCount:(f=V==null?void 0:V.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(m=(p=V==null?void 0:V.bits)===null||p===void 0?void 0:p.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(A=(b=V==null?void 0:V.bits)===null||b===void 0?void 0:b.padding)!==null&&A!==void 0?A:0}),R}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=os(i).toUint8Array()}catch(u){if(u instanceof Bg)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new Xc(l,o,a)}catch(u){return Bs(u instanceof dr?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Rl(a.target)){const l=new z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,tt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=te();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new Jo(e,n,this.Wt,this.jt,s);return this.jt=hn(),this.zt=wf(),this.Wt=new xe(oe),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new vf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new at(oe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new vf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function wf(){return new xe(z.comparator)}function Ef(){return new xe(z.comparator)}const GI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),WI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QI=(()=>({and:"AND",or:"OR"}))();class YI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ol(t,e){return t.useProto3Json||Ko(e)?e:{value:e}}function co(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function um(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XI(t,e){return co(t,e.toTimestamp())}function Kt(t){return Ie(!!t),Y.fromTimestamp(function(e){const n=Mn(e);return new Ve(n.seconds,n.nanos)}(t))}function Jc(t,e){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function hm(t){const e=Ae.fromString(t);return Ie(gm(e)),e}function Ml(t,e){return Jc(t.databaseId,e.path)}function Na(t,e){const n=hm(e);if(n.get(1)!==t.databaseId.projectId)throw new q(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(fm(n))}function Ll(t,e){return Jc(t.databaseId,e)}function JI(t){const e=hm(t);return e.length===4?Ae.emptyPath():fm(e)}function Fl(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fm(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bf(t,e,n){return{name:Ml(t,e),fields:n.value.mapValue.fields}}function ZI(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Ie(c===void 0||typeof c=="string"),lt.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Uint8Array),lt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?T.UNKNOWN:am(l.code);return new q(c,l.message||"")}(o);n=new cm(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Na(t,s.document.name),i=Kt(s.document.updateTime),o=s.document.createTime?Kt(s.document.createTime):Y.min(),a=new Ct({mapValue:{fields:s.document.fields}}),l=tt.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new $i(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Na(t,s.document),i=s.readTime?Kt(s.readTime):Y.min(),o=tt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new $i([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Na(t,s.document),i=s.removedTargetIds||[];n=new $i([],i,r,null)}else{if(!("filter"in e))return G();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new jI(r,i),a=s.targetId;n=new lm(a,o)}}return n}function eT(t,e){let n;if(e instanceof li)n={update:bf(t,e.key,e.value)};else if(e instanceof om)n={delete:Ml(t,e.key)};else if(e instanceof fs)n={update:bf(t,e.key,e.data),updateMask:cT(e.fieldMask)};else{if(!(e instanceof BI))return G();n={verify:Ml(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof ao)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lo)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw G()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:XI(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:G()}(t,e.precondition)),n}function tT(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Kt(s.updateTime):Kt(r);return i.isEqual(Y.min())&&(i=Kt(r)),new LI(i,s.transformResults||[])}(n,e))):[]}function nT(t,e){return{documents:[Ll(t,e.path)]}}function sT(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ll(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ll(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return pm(Wt.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:bs(u.field),direction:oT(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Ol(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function rT(t){let e=JI(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ie(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=dm(u);return h instanceof Wt&&Hg(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new br(_s(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Ko(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new oo(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new oo(f,h)}(n.endAt)),bI(e,r,o,i,a,"F",l,c)}function iT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dm(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_s(e.unaryFilter.field);return Ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=_s(e.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_s(e.unaryFilter.field);return Ue.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_s(e.unaryFilter.field);return Ue.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(e){return Ue.create(_s(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Wt.create(e.compositeFilter.filters.map(n=>dm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(t):G()}function oT(t){return GI[t]}function aT(t){return WI[t]}function lT(t){return QI[t]}function bs(t){return{fieldPath:t.canonicalString()}}function _s(t){return st.fromServerFormat(t.fieldPath)}function pm(t){return t instanceof Ue?function(e){if(e.op==="=="){if(af(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NAN"}};if(of(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(af(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NAN"}};if(of(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(e.field),op:aT(e.op),value:e.value}}}(t):t instanceof Wt?function(e){const n=e.getFilters().map(s=>pm(s));return n.length===1?n[0]:{compositeFilter:{op:lT(e.op),filters:n}}}(t):G()}function cT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,s,r,i=Y.min(),o=Y.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.fe=e}}function hT(t){const e=rT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.rn=new dT}addToCollectionParentIndex(e,n){return this.rn.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(On.min())}updateCollectionGroup(e,n,s){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class dT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new at(Ae.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new at(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Hs(0)}static Mn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?S.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ir(s.mutation,r,Pt.empty(),Ve.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=te()){const r=Jn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=fr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Jn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,te()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=hn();const o=_r(),a=_r();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof fs)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ir(u.mutation,c,u.mutation.getFieldMask(),Ve.now())):o.set(c.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new gT(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=_r();let r=new xe((o,a)=>o-a),i=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Pt.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||te()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Xg();u.forEach(f=>{if(!i.has(f)){const p=rm(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return S.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):S.resolve(Jn());let a=-1,l=i;return o.next(c=>S.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?S.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,te())).next(u=>({batchId:a,changes:Yg(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(s=>{let r=fr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=fr();return this.indexManager.getCollectionParents(e,r).next(o=>S.forEach(o,a=>{const l=function(c,u){return new Go(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,tt.newInvalidDocument(c)))});let o=fr();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Ir(c.mutation,l,Pt.empty(),Ve.now()),Qo(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return S.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Kt(s.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:hT(s.bundledQuery),readTime:Kt(s.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.overlays=new xe(z.comparator),this.ls=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Jn();return S.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),S.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),S.resolve()}getOverlaysForCollection(e,n,s){const r=Jn(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new xe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Jn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Jn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new VI(n,s));let i=this.ls.get(n);i===void 0&&(i=te(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.fs=new at(je.ds),this.ws=new at(je._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new je(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new je(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new z(new Ae([])),s=new je(n,e),r=new je(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new z(new Ae([])),s=new je(n,e),r=new je(n,e+1);let i=te();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new je(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class je{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return z.comparator(e.key,n.key)||oe(e.As,n.As)}static _s(e,n){return oe(e.As,n.As)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new at(je.ds)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UI(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return S.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new je(n,0),r=new je(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),S.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new at(oe);return n.forEach(r=>{const i=new je(r,0),o=new je(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),S.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;z.isDocumentKey(i)||(i=i.child(""));const o=new je(new z(i),0);let a=new at(oe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),S.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ie(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return S.forEach(n.mutations,r=>{const i=new je(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new je(n,0),r=this.Rs.firstAfterOrEqual(s);return S.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.Ds=e,this.docs=new xe(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return S.resolve(s?s.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let s=hn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():tt.newInvalidDocument(r))}),S.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=hn();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rI(sI(u),s)<=0||(r.has(u.key)||Qo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,n,s,r){G()}Cs(e,n){return S.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new bT(this)}getSize(e){return S.resolve(this.size)}}class bT extends pT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),S.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.persistence=e,this.xs=new Zs(n=>Kc(n),Gc),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zc,this.targetCount=0,this.Ms=Hs.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),S.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Fn(n),S.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),S.waitFor(i).next(()=>r)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return S.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),S.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),S.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),S.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return S.resolve(s)}containsKey(e,n){return S.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.$s={},this.overlays={},this.Os=new jc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _T(this),this.indexManager=new fT,this.remoteDocumentCache=function(s){return new ET(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new uT(n),this.qs=new yT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new wT(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){$("MemoryPersistence","Starting transaction:",e);const r=new TT(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return S.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class TT extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class eu{constructor(e){this.persistence=e,this.Qs=new Zc,this.js=null}static zs(e){return new eu(e)}get Ws(){if(this.js)return this.js;throw G()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),S.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),S.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ws,s=>{const r=z.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,Y.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return S.or([()=>S.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=te(),r=te();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new tu(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(hf(n))return S.resolve(null);let s=un(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Nl(n,null,"F"),s=un(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=te(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Nl(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,r){return hf(n)||r.isEqual(Y.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(tf()<=ce.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pl(n)),this.Wi(e,o,n,nI(r,-1)))})}ji(e,n){let s=new at(Wg(e));return n.forEach((r,i)=>{Qo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return tf()<=ce.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.Ui.getDocumentsMatchingQuery(e,n,On.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new xe(oe),this.Yi=new Zs(i=>Kc(i),Gc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function AT(t,e,n,s){return new ST(t,e,n,s)}async function mm(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=te();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function xT(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const v=l.docVersions.get(p);Ie(v!==null),m.version.compareTo(v)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function ym(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function kT(t,e){const n=J(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(lt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,v,b){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Bs.updateTargetData(i,p))});let l=hn(),c=te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(DT(i,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(Y.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return S.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=r,i))}function DT(t,e,n){let s=te(),r=te();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=hn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}function RT(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NT(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,S.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new _n(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function $l(t,e,n){const s=J(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ai(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function _f(t,e,n){const s=J(t);let r=Y.min(),i=te();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=J(a),h=u.Yi.get(c);return h!==void 0?S.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(s,o,un(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:Y.min(),n?i:te())).next(a=>(PT(s,CI(e),a),{documents:a,ir:i})))}function PT(t,e,n){let s=t.Xi.get(e)||Y.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class If{constructor(){this.activeTargetIds=RI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(){this.Hr=new If,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new If,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=null;function Pa(){return xi===null?xi=268435456+Math.round(2147483648*Math.random()):xi++,"0x"+xi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class $T extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=Pa(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,r,i),this.Ao(e,a,l,s).then(c=>($("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bs("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=LT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=Pa();return new Promise((o,a)=>{const l=new z_;l.setWithCredentials(!0),l.listenOnce(j_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ra.NO_ERROR:const u=l.getResponseJson();$(Je,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ra.TIMEOUT:$(Je,`RPC '${e}' ${i} timed out`),a(new q(T.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:const h=l.getStatus();if($(Je,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(b)>=0?b:T.UNKNOWN}(p.status);a(new q(m,p.message))}else a(new q(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(T.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{$(Je,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);$(Je,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const r=Pa(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U_(),a=V_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new q_({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=i.join("");$(Je,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new FT({ro:b=>{p?$(Je,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(f||($(Je,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),$(Je,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},oo:()=>h.close()}),v=(b,A,R)=>{b.listen(A,V=>{try{R(V)}catch(M){setTimeout(()=>{throw M},0)}})};return v(h,Ti.EventType.OPEN,()=>{p||$(Je,`RPC '${e}' stream ${r} transport opened.`)}),v(h,Ti.EventType.CLOSE,()=>{p||(p=!0,$(Je,`RPC '${e}' stream ${r} transport closed`),m.wo())}),v(h,Ti.EventType.ERROR,b=>{p||(p=!0,Bs(Je,`RPC '${e}' stream ${r} transport errored:`,b),m.wo(new q(T.UNAVAILABLE,"The operation could not be completed")))}),v(h,Ti.EventType.MESSAGE,b=>{var A;if(!p){const R=b.data[0];Ie(!!R);const V=R,M=V.error||((A=V[0])===null||A===void 0?void 0:A.error);if(M){$(Je,`RPC '${e}' stream ${r} received error:`,M);const ie=M.status;let Ce=function(X){const de=Oe[X];if(de!==void 0)return am(de)}(ie),$e=M.message;Ce===void 0&&(Ce=T.INTERNAL,$e="Unknown error status: "+ie+" with message "+M.message),p=!0,m.wo(new q(Ce,$e)),h.close()}else $(Je,`RPC '${e}' stream ${r} received:`,R),m._o(R)}}),v(a,H_.STAT_EVENT,b=>{b.stat===Zh.PROXY?$(Je,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Zh.NOPROXY&&$(Je,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Oa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return new YI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n,s,r,i,o,a,l){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vm(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(cn(n.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new q(T.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BT extends wm{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=ZI(this.serializer,e),s=function(r){if(!("targetChange"in r))return Y.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?Y.min():i.readTime?Kt(i.readTime):Y.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Fl(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=Rl(a)?{documents:nT(r,a)}:{query:sT(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=um(r,i.resumeToken);const l=Ol(r,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Y.min())>0){o.readTime=co(r,i.snapshotVersion.toTimestamp());const l=Ol(r,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=iT(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Fl(this.serializer),n.removeTarget=e,this.Wo(n)}}class UT extends wm{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=tT(e.writeResults,e.commitTime),s=Kt(e.commitTime);return this.listener.cu(s,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>eT(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new q(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(T.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(T.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class jT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cn(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{ds(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.vu.add(4),await ui(l),l.bu.set("Unknown"),l.vu.delete(4),await ea(l)}(this))})}),this.bu=new jT(s,r)}}async function ea(t){if(ds(t))for(const e of t.Ru)await e(!0)}async function ui(t){for(const e of t.Ru)await e(!1)}function Em(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ru(n)?su(n):er(n).Ko()&&nu(n,e))}function bm(t,e){const n=J(t),s=er(n);n.Au.delete(e),s.Ko()&&_m(n,e),n.Au.size===0&&(s.Ko()?s.jo():ds(n)&&n.bu.set("Unknown"))}function nu(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}er(t).su(e)}function _m(t,e){t.Vu.qt(e),er(t).iu(e)}function su(t){t.Vu=new KI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),er(t).start(),t.bu.gu()}function ru(t){return ds(t)&&!er(t).Uo()&&t.Au.size>0}function ds(t){return J(t).vu.size===0}function Im(t){t.Vu=void 0}async function qT(t){t.Au.forEach((e,n)=>{nu(t,e)})}async function zT(t,e){Im(t),ru(t)?(t.bu.Iu(e),su(t)):t.bu.set("Unknown")}async function KT(t,e,n){if(t.bu.set("Online"),e instanceof cm&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uo(t,s)}else if(e instanceof $i?t.Vu.Ht(e):e instanceof lm?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Y.min()))try{const s=await ym(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(lt.EMPTY_BYTE_STRING,c.snapshotVersion)),_m(r,a);const u=new _n(c.target,a,l,c.sequenceNumber);nu(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){$("RemoteStore","Failed to raise snapshot:",s),await uo(t,s)}}async function uo(t,e,n){if(!ai(e))throw e;t.vu.add(1),await ui(t),t.bu.set("Offline"),n||(n=()=>ym(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ea(t)})}function Tm(t,e){return e().catch(n=>uo(t,n,e))}async function ta(t){const e=J(t),n=Ln(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;GT(e);)try{const r=await RT(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,WT(e,r)}catch(r){await uo(e,r)}Cm(e)&&Sm(e)}function GT(t){return ds(t)&&t.Eu.length<10}function WT(t,e){t.Eu.push(e);const n=Ln(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Cm(t){return ds(t)&&!Ln(t).Uo()&&t.Eu.length>0}function Sm(t){Ln(t).start()}async function QT(t){Ln(t).hu()}async function YT(t){const e=Ln(t);for(const n of t.Eu)e.uu(n.mutations)}async function XT(t,e,n){const s=t.Eu.shift(),r=Qc.from(s,e,n);await Tm(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ta(t)}async function JT(t,e){e&&Ln(t).ou&&await async function(n,s){if(r=s.code,HI(r)&&r!==T.ABORTED){const i=n.Eu.shift();Ln(n).Qo(),await Tm(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ta(n)}var r}(t,e),Cm(t)&&Sm(t)}async function Cf(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=ds(n);n.vu.add(3),await ui(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ea(n)}async function ZT(t,e){const n=J(t);e?(n.vu.delete(2),await ea(n)):e||(n.vu.add(2),await ui(n),n.bu.set("Unknown"))}function er(t){return t.Su||(t.Su=function(e,n,s){const r=J(e);return r.fu(),new BT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:qT.bind(null,t),ao:zT.bind(null,t),nu:KT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ru(t)?su(t):t.bu.set("Unknown")):(await t.Su.stop(),Im(t))})),t.Su}function Ln(t){return t.Du||(t.Du=function(e,n,s){const r=J(e);return r.fu(),new UT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:QT.bind(null,t),ao:JT.bind(null,t),au:YT.bind(null,t),cu:XT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ta(t)):(await t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new iu(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(t,e){if(cn("AsyncQueue",`${e}: ${t}`),ai(t))return new q(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||z.comparator(n.key,s.key):(n,s)=>z.comparator(n.key,s.key),this.keyedMap=fr(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.Cu=new xe(z.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):G():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class qs{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qs(e,n,Rs.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.Nu=void 0,this.listeners=[]}}class tC{constructor(){this.queries=new Zs(e=>Gg(e),Wo),this.onlineState="Unknown",this.ku=new Set}}async function nC(t,e){const n=J(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new eC),r)try{i.Nu=await n.onListen(s)}catch(o){const a=ou(o,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&au(n)}async function sC(t,e){const n=J(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function rC(t,e){const n=J(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&au(n)}function iC(t,e,n){const s=J(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function au(t){t.ku.forEach(e=>{e.next()})}class oC{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.key=e}}class xm{constructor(e){this.key=e}}class aC{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=Wg(e),this.ec=new Rs(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Sf,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=Qo(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(s.track({type:3,doc:p}),b=!0):this.rc(f,p)||(s.track({type:2,doc:p}),b=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),b=!0):f&&!p&&(s.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return p(h)-p(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new qs(this.query,e.ec,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Sf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=te(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new xm(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Am(s))}),n}hc(e){this.Yu=e.ir,this.Zu=te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return qs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class lC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cC{constructor(e){this.key=e,this.fc=!1}}class uC{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Zs(a=>Gg(a),Wo),this._c=new Map,this.mc=new Set,this.gc=new xe(z.comparator),this.yc=new Map,this.Ic=new Zc,this.Tc={},this.Ec=new Map,this.Ac=Hs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function hC(t,e){const n=bC(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await NT(n.localStore,un(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await fC(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&Em(n.remoteStore,o)}return r}async function fC(t,e,n,s,r){t.Rc=(h,f,p)=>async function(m,v,b,A){let R=v.view.sc(b);R.zi&&(R=await _f(m.localStore,v.query,!1).then(({documents:ie})=>v.view.sc(ie,R)));const V=A&&A.targetChanges.get(v.targetId),M=v.view.applyChanges(R,m.isPrimaryClient,V);return xf(m,v.targetId,M.cc),M.snapshot}(t,h,f,p);const i=await _f(t.localStore,e,!0),o=new aC(e,i.ir),a=o.sc(i.documents),l=ci.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);xf(t,n,c.cc);const u=new lC(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function dC(t,e){const n=J(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!Wo(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await $l(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),bm(n.remoteStore,s.targetId),Bl(n,s.targetId)}).catch(oi)):(Bl(n,s.targetId),await $l(n.localStore,s.targetId,!0))}async function pC(t,e,n){const s=_C(t);try{const r=await function(i,o){const a=J(i),l=Ve.now(),c=o.reduce((f,p)=>f.add(p.key),te());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=hn(),m=te();return a.Zi.getEntries(f,c).next(v=>{p=v,p.forEach((b,A)=>{A.isValidDocument()||(m=m.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(v=>{u=v;const b=[];for(const A of o){const R=$I(A,u.get(A.key).overlayedDocument);R!=null&&b.push(new fs(A.key,R,Ug(R.value.mapValue),nn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,b,o)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Yg(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new xe(oe)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(s,r.batchId,n),await hi(s,r.changes),await ta(s.remoteStore)}catch(r){const i=ou(r,"Failed to persist write");n.reject(i)}}async function km(t,e){const n=J(t);try{const s=await kT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Ie(o.fc):r.removedDocuments.size>0&&(Ie(o.fc),o.fc=!1))}),await hi(n,s,e)}catch(s){await oi(s)}}function Af(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=J(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&au(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gC(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new xe(z.comparator);o=o.insert(i,tt.newNoDocument(i,Y.min()));const a=te().add(i),l=new Jo(Y.min(),new Map,new xe(oe),o,a);await km(s,l),s.gc=s.gc.remove(i),s.yc.delete(e),lu(s)}else await $l(s.localStore,e,!1).then(()=>Bl(s,e,n)).catch(oi)}async function mC(t,e){const n=J(t),s=e.batch.batchId;try{const r=await xT(n.localStore,e);Rm(n,s,null),Dm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hi(n,r)}catch(r){await oi(r)}}async function yC(t,e,n){const s=J(t);try{const r=await function(i,o){const a=J(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ie(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);Rm(s,e,n),Dm(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hi(s,r)}catch(r){await oi(r)}}function Dm(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Rm(t,e,n){const s=J(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Bl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Nm(t,s)})}function Nm(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(bm(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),lu(t))}function xf(t,e,n){for(const s of n)s instanceof Am?(t.Ic.addReference(s.key,e),vC(t,s)):s instanceof xm?($("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Nm(t,s.key)):G()}function vC(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||($("SyncEngine","New document in limbo: "+n),t.mc.add(s),lu(t))}function lu(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new z(Ae.fromString(e)),s=t.Ac.next();t.yc.set(s,new cC(n)),t.gc=t.gc.insert(n,s),Em(t.remoteStore,new _n(un(Wc(n.path)),s,"TargetPurposeLimboResolution",jc.ct))}}async function hi(t,e,n){const s=J(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=tu.Li(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,l){const c=J(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>S.forEach(l,h=>S.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>S.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!ai(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ji=c.Ji.insert(h,m)}}}(s.localStore,i))}async function wC(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const s=await mm(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new q(T.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hi(n,s.er)}}function EC(t,e){const n=J(t),s=n.yc.get(e);if(s&&s.fc)return te().add(s.key);{let r=te();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function bC(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=km.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gC.bind(null,e),e.dc.nu=rC.bind(null,e.eventManager),e.dc.Pc=iC.bind(null,e.eventManager),e}function _C(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,e),e}class kf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return AT(this.persistence,new CT,e.initialUser,this.serializer)}createPersistence(e){return new IT(eu.zs,this.serializer)}createSharedClientState(e){return new OT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Af(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await ZT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tC}createDatastore(e){const n=Zo(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new $T(r));var r;return function(i,o,a,l){return new VT(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>Af(this.syncEngine,a,0),o=Tf.D()?new Tf:new MT,new HT(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new uC(s,r,i,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ui(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ze.UNAUTHENTICATED,this.clientId=Fg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ou(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ma(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await mm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Df(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AC(t);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>Cf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cf(e.remoteStore,i)),t._onlineComponents=e}function SC(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ma(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!SC(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await Ma(t,new kf)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Ma(t,new kf);return t._offlineComponents}async function Pm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Df(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Df(t,new IC))),t._onlineComponents}function xC(t){return Pm(t).then(e=>e.syncEngine)}async function Rf(t){const e=await Pm(t),n=e.eventManager;return n.onListen=hC.bind(null,e.syncEngine),n.onUnlisten=dC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e,n){if(!n)throw new q(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kC(t,e,n,s){if(e===!0&&s===!0)throw new q(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pf(t){if(!z.isDocumentKey(t))throw new q(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Of(t){if(z.isDocumentKey(t))throw new q(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(t);throw new q(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new q(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Om((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class na{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new G_;switch(n.type){case"firstParty":return new X_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Nf.get(e);n&&($("ComponentProvider","Removing Datastore"),Nf.delete(e),n.terminate())}(this),Promise.resolve()}}function DC(t,e,n,s={}){var r;const i=(t=Tr(t,na))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Ze.MOCK_USER;else{o=AE(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new q(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ze(l)}t._authCredentials=new W_(new Lg(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class xn extends sa{constructor(e,n,s){super(e,n,Wc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new z(e))}withConverter(e){return new xn(this.firestore,e,this._path)}}function Lf(t,e,...n){if(t=Nn(t),Mm("collection","path",e),t instanceof na){const s=Ae.fromString(e,...n);return Of(s),new xn(t,null,s)}{if(!(t instanceof xt||t instanceof xn))throw new q(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Of(s),new xn(t.firestore,null,s)}}function RC(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=Fg.A()),Mm("doc","path",e),t instanceof na){const s=Ae.fromString(e,...n);return Pf(s),new xt(t,null,new z(s))}{if(!(t instanceof xt||t instanceof xn))throw new q(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Pf(s),new xt(t.firestore,t instanceof xn?t.converter:null,new z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vm(this,"async_queue_retry"),this.Xc=()=>{const n=Oa();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Oa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Oa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ss;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ai(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw cn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=iu.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&G()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Ff(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class ho extends na{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new NC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fm(this),this._firestoreClient.terminate()}}function PC(t,e){const n=typeof t=="object"?t:kp(),s=typeof t=="string"?t:e||"(default)",r=Yr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=CE("firestore");i&&DC(r,...i)}return r}function Lm(t){return t._firestoreClient||Fm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fm(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,l,c){return new cI(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Om(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new CC(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=r.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=r.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(lt.fromBase64String(e))}catch(n){throw new q(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=/^__.*__$/;class MC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new li(e,this.data,n,this.fieldTransforms)}}function Bm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class fu{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new fu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fo(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Bm(this.ca)&&OC.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class LC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zo(e)}ya(e,n,s,r=!1){return new fu({ca:e,methodName:n,ga:s,path:st.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FC(t){const e=t._freezeSettings(),n=Zo(t._databaseId);return new LC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $C(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);Hm("Data must be an object, but it was:",o,s);const a=Vm(s,o);let l,c;if(i.merge)l=new Pt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=BC(e,h,n);if(!o.contains(f))throw new q(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);VC(u,f)||u.push(f)}l=new Pt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new MC(new Ct(a),l,c)}function Um(t,e){if(jm(t=Nn(t)))return Hm("Unsupported field value:",e,t),Vm(t,e);if(t instanceof $m)return function(n,s){if(!Bm(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Um(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Nn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ve.fromDate(n);return{timestampValue:co(s.serializer,r)}}if(n instanceof Ve){const r=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:co(s.serializer,r)}}if(n instanceof hu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zs)return{bytesValue:um(s.serializer,n._byteString)};if(n instanceof xt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Jc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${cu(n)}`)}(t,e)}function Vm(t,e){const n={};return $g(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(s,r)=>{const i=Um(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function jm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof hu||t instanceof zs||t instanceof xt||t instanceof $m)}function Hm(t,e,n){if(!jm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=cu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function BC(t,e,n){if((e=Nn(e))instanceof uu)return e._internalPath;if(typeof e=="string")return qm(t,e);throw fo("Field path arguments must be of type string or ",t,!1,void 0,n)}const UC=new RegExp("[~\\*/\\[\\]]");function qm(t,e,n){if(e.search(UC)>=0)throw fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uu(...e.split("."))._internalPath}catch{throw fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fo(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new q(T.INVALID_ARGUMENT,a+t+l)}function VC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jC extends zm{data(){return super.data()}}function Km(t,e){return typeof e=="string"?qm(t,e):e instanceof uu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qC{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new hu(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vr(e));default:return null}}convertTimestamp(e){const n=Mn(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ae.fromString(e);Ie(gm(s));const r=new jr(s.get(1),s.get(3)),i=new z(s.popFirst(5));return r.isEqual(n)||cn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gm extends zm{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Km("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bi extends Gm{data(e={}){return super.data(e)}}class KC{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new pr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bi(this._firestore,this._userDataWriter,s.key,s,new pr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new Bi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Bi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:GC(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Wm extends qC{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function WC(t,e){const n=Tr(t.firestore,ho),s=RC(t),r=zC(t.converter,e);return YC(n,[$C(FC(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,nn.exists(!1))]).then(()=>s)}function QC(t,...e){var n,s,r;t=Nn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Ff(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Ff(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof xt)c=Tr(t.firestore,ho),u=Wc(t._key.path),l={next:h=>{e[o]&&e[o](XC(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Tr(t,sa);c=Tr(h.firestore,ho),u=h._query;const f=new Wm(c);l={next:p=>{e[o]&&e[o](new KC(c,f,h,p))},error:e[o+1],complete:e[o+2]},HC(t._query)}return function(h,f,p,m){const v=new TC(m),b=new oC(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>nC(await Rf(h),b)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>sC(await Rf(h),b))}}(Lm(c),u,a,l)}function YC(t,e){return function(n,s){const r=new ss;return n.asyncQueue.enqueueAndForget(async()=>pC(await xC(n),s,r)),r.promise}(Lm(t),e)}function XC(t,e,n){const s=n.docs.get(e._key),r=new Wm(t);return new Gm(t,r,e._key,s,new pr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Xs=n})(Pb),Pn(new an("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new ho(new Q_(n.getProvider("auth-internal")),new Z_(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),zt(ef,"3.12.0",t),zt(ef,"3.12.0","esm2017")})();var JC="firebase",ZC="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt(JC,ZC,"app");const eS=(t,e)=>e.some(n=>t instanceof n);let $f,Bf;function tS(){return $f||($f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return Bf||(Bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qm=new WeakMap,Ul=new WeakMap,Ym=new WeakMap,La=new WeakMap,du=new WeakMap;function sS(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qm.set(n,t)}).catch(()=>{}),du.set(e,t),e}function rS(t){if(Ul.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ul.set(t,e)}let Vl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ym.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iS(t){Vl=t(Vl)}function oS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fa(this),e,...n);return Ym.set(s,e.sort?e.sort():[e]),kn(s)}:nS().includes(t)?function(...e){return t.apply(Fa(this),e),kn(Qm.get(this))}:function(...e){return kn(t.apply(Fa(this),e))}}function aS(t){return typeof t=="function"?oS(t):(t instanceof IDBTransaction&&rS(t),eS(t,tS())?new Proxy(t,Vl):t)}function kn(t){if(t instanceof IDBRequest)return sS(t);if(La.has(t))return La.get(t);const e=aS(t);return e!==t&&(La.set(t,e),du.set(e,t)),e}const Fa=t=>du.get(t);function lS(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=kn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(kn(o.result),l.oldVersion,l.newVersion,kn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const cS=["get","getKey","getAll","getAllKeys","count"],uS=["put","add","delete","clear"],$a=new Map;function Uf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($a.get(e))return $a.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=uS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||cS.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return $a.set(e,i),i}iS(t=>({...t,get:(e,n,s)=>Uf(e,n)||t.get(e,n,s),has:(e,n)=>!!Uf(e,n)||t.has(e,n)}));const Xm="@firebase/installations",pu="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=1e4,Zm=`w:${pu}`,ey="FIS_v2",hS="https://firebaseinstallations.googleapis.com/v1",fS=60*60*1e3,dS="installations",pS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ls=new Do(dS,pS,gS);function ty(t){return t instanceof Fn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny({projectId:t}){return`${hS}/projects/${t}/installations`}function sy(t){return{token:t.token,requestStatus:2,expiresIn:yS(t.expiresIn),creationTime:Date.now()}}async function ry(t,e){const s=(await e.json()).error;return ls.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mS(t,{refreshToken:e}){const n=iy(t);return n.append("Authorization",vS(e)),n}async function oy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function yS(t){return Number(t.replace("s","000"))}function vS(t){return`${ey} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=ny(t),r=iy(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:ey,appId:t.appId,sdkVersion:Zm},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:sy(c.authToken)}}else throw await ry("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=/^[cdef][\w-]{21}$/,jl="";function _S(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IS(t);return bS.test(n)?n:jl}catch{return jl}}function IS(t){return ES(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function cy(t,e){const n=ra(t);uy(n,e),TS(n,e)}function uy(t,e){const n=ly.get(t);if(!!n)for(const s of n)s(e)}function TS(t,e){const n=CS();n&&n.postMessage({key:t,fid:e}),SS()}let Zn=null;function CS(){return!Zn&&"BroadcastChannel"in self&&(Zn=new BroadcastChannel("[Firebase] FID Change"),Zn.onmessage=t=>{uy(t.data.key,t.data.fid)}),Zn}function SS(){ly.size===0&&Zn&&(Zn.close(),Zn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebase-installations-database",xS=1,cs="firebase-installations-store";let Ba=null;function gu(){return Ba||(Ba=lS(AS,xS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cs)}}})),Ba}async function po(t,e){const n=ra(t),r=(await gu()).transaction(cs,"readwrite"),i=r.objectStore(cs),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&cy(t,e.fid),e}async function hy(t){const e=ra(t),s=(await gu()).transaction(cs,"readwrite");await s.objectStore(cs).delete(e),await s.done}async function ia(t,e){const n=ra(t),r=(await gu()).transaction(cs,"readwrite"),i=r.objectStore(cs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&cy(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){let e;const n=await ia(t.appConfig,s=>{const r=kS(s),i=DS(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===jl?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kS(t){const e=t||{fid:_S(),registrationStatus:0};return fy(e)}function DS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ls.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=RS(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NS(t)}:{installationEntry:e}}async function RS(t,e){try{const n=await wS(t,e);return po(t.appConfig,n)}catch(n){throw ty(n)&&n.customData.serverCode===409?await hy(t.appConfig):await po(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function NS(t){let e=await Vf(t.appConfig);for(;e.registrationStatus===1;)await ay(100),e=await Vf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await mu(t);return s||n}return e}function Vf(t){return ia(t,e=>{if(!e)throw ls.create("installation-not-found");return fy(e)})}function fy(t){return PS(t)?{fid:t.fid,registrationStatus:0}:t}function PS(t){return t.registrationStatus===1&&t.registrationTime+Jm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS({appConfig:t,heartbeatServiceProvider:e},n){const s=MS(t,n),r=mS(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Zm,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(s,a));if(l.ok){const c=await l.json();return sy(c)}else throw await ry("Generate Auth Token",l)}function MS(t,{fid:e}){return`${ny(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e=!1){let n;const s=await ia(t.appConfig,i=>{if(!dy(i))throw ls.create("not-registered");const o=i.authToken;if(!e&&$S(o))return i;if(o.requestStatus===1)return n=LS(t,e),i;{if(!navigator.onLine)throw ls.create("app-offline");const a=US(i);return n=FS(t,a),a}});return n?await n:s.authToken}async function LS(t,e){let n=await jf(t.appConfig);for(;n.authToken.requestStatus===1;)await ay(100),n=await jf(t.appConfig);const s=n.authToken;return s.requestStatus===0?yu(t,e):s}function jf(t){return ia(t,e=>{if(!dy(e))throw ls.create("not-registered");const n=e.authToken;return VS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FS(t,e){try{const n=await OS(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await po(t.appConfig,s),n}catch(n){if(ty(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hy(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await po(t.appConfig,s)}throw n}}function dy(t){return t!==void 0&&t.registrationStatus===2}function $S(t){return t.requestStatus===2&&!BS(t)}function BS(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fS}function US(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function VS(t){return t.requestStatus===1&&t.requestTime+Jm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t){const e=t,{installationEntry:n,registrationPromise:s}=await mu(e);return s?s.catch(console.error):yu(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e=!1){const n=t;return await qS(n),(await yu(n,e)).token}async function qS(t){const{registrationPromise:e}=await mu(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){if(!t||!t.options)throw Ua("App Configuration");if(!t.name)throw Ua("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ua(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ua(t){return ls.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="installations",KS="installations-internal",GS=t=>{const e=t.getProvider("app").getImmediate(),n=zS(e),s=Yr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},WS=t=>{const e=t.getProvider("app").getImmediate(),n=Yr(e,py).getImmediate();return{getId:()=>jS(n),getToken:r=>HS(n,r)}};function QS(){Pn(new an(py,GS,"PUBLIC")),Pn(new an(KS,WS,"PRIVATE"))}QS();zt(Xm,pu);zt(Xm,pu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="analytics",YS="firebase_id",XS="origin",JS=60*1e3,ZS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vu="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new yc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Et=new Do("analytics","Analytics",e2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t){if(!t.startsWith(vu)){const e=Et.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function gy(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function n2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function s2(t,e){const n=n2("firebase-js-sdk-policy",{createScriptURL:t2}),s=document.createElement("script"),r=`${vu}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function r2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function i2(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const l=(await gy(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){gt.error(a)}t("config",r,i)}async function o2(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await gy(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){gt.error(i)}}function a2(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,l]=o;await o2(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await i2(t,e,n,s,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gt.error(a)}}return r}function l2(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=a2(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function c2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vu)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=30,h2=1e3;class f2{constructor(e={},n=h2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const my=new f2;function d2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function p2(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:d2(s)},i=ZS.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Et.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function g2(t,e=my,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Et.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Et.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new v2;return setTimeout(async()=>{a.abort()},n!==void 0?n:JS),yy({appId:s,apiKey:r,measurementId:i},o,a,e)}async function yy(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=my){var i;const{appId:o,measurementId:a}=t;try{await m2(s,e)}catch(l){if(a)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await p2(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!y2(c)){if(r.deleteThrottleMetadata(o),a)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Rh(n,r.intervalMillis,u2):Rh(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),gt.debug(`Calling attemptFetch again in ${u} millis`),yy(t,h,s,r)}}function m2(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Et.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function y2(t){if(!(t instanceof Fn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class v2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function w2(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(){if(Tp())try{await Cp()}catch(t){return gt.warn(Et.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b2(t,e,n,s,r,i,o){var a;const l=g2(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>gt.error(p)),e.push(l);const c=E2().then(p=>{if(p)return s.getId()}),[u,h]=await Promise.all([l,c]);c2(i)||s2(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[XS]="firebase",f.update=!0,h!=null&&(f[YS]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.app=e}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},Hf=[];const qf={};let Va="dataLayer",I2="gtag",zf,vy,Kf=!1;function T2(){const t=[];if(xE()&&t.push("This is a browser extension environment."),kE()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Et.create("invalid-analytics-context",{errorInfo:e});gt.warn(n.message)}}function C2(t,e,n){T2();const s=t.options.appId;if(!s)throw Et.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Et.create("no-api-key");if(Cr[s]!=null)throw Et.create("already-exists",{id:s});if(!Kf){r2(Va);const{wrappedGtag:i,gtagCore:o}=l2(Cr,Hf,qf,Va,I2);vy=i,zf=o,Kf=!0}return Cr[s]=b2(t,Hf,qf,e,zf,Va,n),new _2(t)}function S2(t=kp()){t=Nn(t);const e=Yr(t,go);return e.isInitialized()?e.getImmediate():A2(t)}function A2(t,e={}){const n=Yr(t,go);if(n.isInitialized()){const r=n.getImmediate();if(Gi(e,n.getOptions()))return r;throw Et.create("already-initialized")}return n.initialize({options:e})}function x2(t,e,n,s){t=Nn(t),w2(vy,Cr[t.app.options.appId],e,n,s).catch(r=>gt.error(r))}const Gf="@firebase/analytics",Wf="0.10.0";function k2(){Pn(new an(go,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return C2(s,r,n)},"PUBLIC")),Pn(new an("analytics-internal",t,"PRIVATE")),zt(Gf,Wf),zt(Gf,Wf,"esm2017");function t(e){try{const n=e.getProvider(go).getImmediate();return{logEvent:(s,r,i)=>x2(n,s,r,i)}}catch(n){throw Et.create("interop-component-reg-failed",{reason:n})}}}k2();const D2={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},wy=xp(D2);S2(wy);const Qf=PC(wy);const R2=["onSubmit"],N2={key:0,class:"add-product"},P2={class:"field"},O2=O("label",{class:"label"},"Jenis Product",-1),M2={class:"control"},L2={class:"field"},F2=O("label",{class:"label"},"Nama Product",-1),$2={class:"control"},B2={class:"field"},U2=O("label",{class:"label"},"Warna Product",-1),V2={class:"control"},j2={class:"field"},H2=O("label",{class:"label"},"Quantity Product",-1),q2={class:"control"},z2={class:"field"},K2=O("label",{class:"label"},"Harga Product",-1),G2={class:"control"},W2={class:"field is-grouped pt-4"},Q2={class:"control"},Y2=["disabled"],X2={class:"control"},J2={key:1,class:"add-product"},Z2={class:"field is-grouped pl-20 pt-4"},eA={class:"control"},tA={key:0,class:"data-product"},nA={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},sA=O("thead",null,[O("tr",null,[O("th",null,"Jenis Barang"),O("th",null,"Nama Barang"),O("th",null,"Warna Barang"),O("th",null,"Quantity"),O("th",null,"Harga Barang")])],-1),Yf={__name:"DataProduct",setup(t){const e=ve(!1),n=ve(""),s=ve(""),r=ve(""),i=ve(""),o=ve("");let a=ve([]);Rn(async()=>{QC(Lf(Qf,"stockBarang"),c=>{let u=[];c.forEach(h=>{let f={id:h.id,varian:h.data().varian,nama:h.data().nama,warna:h.data().warna,qty:h.data().qty,harga:h.data().harga};u.push(f)}),a.value=u})});const l=async()=>{console.log("asd",{id:kh(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});const c=await WC(Lf(Qf,"stockBarang"),{id:kh(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});console.log("Document written with ID: ",c.id)};return(c,u)=>(He(),pt(et,null,[O("form",{onSubmit:z0(l,["prevent"])},[e.value?(He(),pt("div",N2,[O("div",P2,[O2,O("div",M2,[nr(O("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[rr,n.value]])])]),O("div",L2,[F2,O("div",$2,[nr(O("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[rr,s.value]])])]),O("div",B2,[U2,O("div",V2,[nr(O("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),class:"input",type:"text",placeholder:"warna Product"},null,512),[[rr,r.value]])])]),O("div",j2,[H2,O("div",q2,[nr(O("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[rr,i.value]])])]),O("div",z2,[K2,O("div",G2,[nr(O("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>o.value=h),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[rr,o.value]])])]),O("div",W2,[O("div",Q2,[O("button",{disabled:!n.value||!s.value||!o.value,class:"button is-link"},"Submit",8,Y2)]),O("div",X2,[O("button",{onClick:u[5]||(u[5]=h=>e.value=!1),class:"button is-danger"},"Cancel")])])])):(He(),pt("div",J2,[O("div",Z2,[O("div",eA,[O("button",{class:"button is-link",onClick:u[6]||(u[6]=h=>e.value=!0)},"Tambah Data")])])]))],40,R2),e.value?a0("",!0):(He(),pt("div",tA,[O("table",nA,[sA,O("tbody",null,[(He(!0),pt(et,null,Xa(Ne(a),h=>(He(),pt("tr",{key:h.id},[O("th",null,zn(h.varian),1),O("th",null,zn(h.nama),1),O("th",null,zn(h.warna),1),O("th",null,zn(h.qty)+" pcs",1),O("th",null,zn(h.harga),1)]))),128))])])]))],64))}},rA=Zw({history:mw("/"),routes:[{path:"/",name:"home",component:Yf},{path:"/master-stock",name:"master stock",component:hE},{path:"/data-product",name:"data product",component:Yf},{path:"/about",name:"about",component:()=>oE(()=>import("./About.f7a7ec19.js"),[])}]});const wu=W0(sE);wu.use(J0());wu.use(rA);wu.mount("#app");export{et as F,O as a,qd as b,pt as c,He as o,Xa as r,zn as t};
