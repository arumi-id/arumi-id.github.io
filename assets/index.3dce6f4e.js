(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Gl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const be={},Cs=[],Mt=()=>{},Ey=()=>!1,by=/^on[^a-z]/,vo=t=>by.test(t),Ql=t=>t.startsWith("onUpdate:"),Fe=Object.assign,Yl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_y=Object.prototype.hasOwnProperty,re=(t,e)=>_y.call(t,e),K=Array.isArray,xs=t=>wo(t)==="[object Map]",Yf=t=>wo(t)==="[object Set]",Z=t=>typeof t=="function",$e=t=>typeof t=="string",Xl=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Xf=t=>Te(t)&&Z(t.then)&&Z(t.catch),Jf=Object.prototype.toString,wo=t=>Jf.call(t),Iy=t=>wo(t).slice(8,-1),Zf=t=>wo(t)==="[object Object]",Jl=t=>$e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Di=Gl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ty=/-(\w)/g,Os=Eo(t=>t.replace(Ty,(e,n)=>n?n.toUpperCase():"")),Sy=/\B([A-Z])/g,Gs=Eo(t=>t.replace(Sy,"-$1").toLowerCase()),ed=Eo(t=>t.charAt(0).toUpperCase()+t.slice(1)),la=Eo(t=>t?`on${ed(t)}`:""),Cr=(t,e)=>!Object.is(t,e),ki=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Bi=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},za=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Cy=t=>{const e=$e(t)?Number(t):NaN;return isNaN(e)?t:e};let Au;const Ka=()=>Au||(Au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zl(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=$e(s)?ky(s):Zl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if($e(t))return t;if(Te(t))return t}}const xy=/;(?![^(]*\))/g,Ay=/:([^]+)/,Dy=new RegExp("\\/\\*.*?\\*\\/","gs");function ky(t){const e={};return t.replace(Dy,"").split(xy).forEach(n=>{if(n){const s=n.split(Ay);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function jt(t){let e="";if($e(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const s=jt(t[n]);s&&(e+=s+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ry="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ny=Gl(Ry);function td(t){return!!t||t===""}const Rt=t=>$e(t)?t:t==null?"":K(t)||Te(t)&&(t.toString===Jf||!Z(t.toString))?JSON.stringify(t,nd,2):String(t),nd=(t,e)=>e&&e.__v_isRef?nd(t,e.value):xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Yf(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!K(e)&&!Zf(e)?String(e):e;let kt;class sd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kt,!e&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=kt;try{return kt=this,e()}finally{kt=n}}}on(){kt=this}off(){kt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Py(t){return new sd(t)}function Oy(t,e=kt){e&&e.active&&e.effects.push(t)}function My(){return kt}const ec=t=>{const e=new Set(t);return e.w=0,e.n=0,e},rd=t=>(t.w&On)>0,id=t=>(t.n&On)>0,Ly=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=On},Fy=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];rd(r)&&!id(r)?r.delete(t):e[n++]=r,r.w&=~On,r.n&=~On}e.length=n}},Wa=new WeakMap;let lr=0,On=1;const Ga=30;let Nt;const ns=Symbol(""),Qa=Symbol("");class tc{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Oy(this,s)}run(){if(!this.active)return this.fn();let e=Nt,n=xn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Nt,Nt=this,xn=!0,On=1<<++lr,lr<=Ga?Ly(this):Du(this),this.fn()}finally{lr<=Ga&&Fy(this),On=1<<--lr,Nt=this.parent,xn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Nt===this?this.deferStop=!0:this.active&&(Du(this),this.onStop&&this.onStop(),this.active=!1)}}function Du(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xn=!0;const od=[];function Qs(){od.push(xn),xn=!1}function Ys(){const t=od.pop();xn=t===void 0?!0:t}function mt(t,e,n){if(xn&&Nt){let s=Wa.get(t);s||Wa.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=ec()),ad(r)}}function ad(t,e){let n=!1;lr<=Ga?id(t)||(t.n|=On,n=!rd(t)):n=!t.has(Nt),n&&(t.add(Nt),Nt.deps.push(t))}function ln(t,e,n,s,r,i){const o=Wa.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&K(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":K(t)?Jl(n)&&a.push(o.get("length")):(a.push(o.get(ns)),xs(t)&&a.push(o.get(Qa)));break;case"delete":K(t)||(a.push(o.get(ns)),xs(t)&&a.push(o.get(Qa)));break;case"set":xs(t)&&a.push(o.get(ns));break}if(a.length===1)a[0]&&Ya(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Ya(ec(l))}}function Ya(t,e){const n=K(t)?t:[...t];for(const s of n)s.computed&&ku(s);for(const s of n)s.computed||ku(s)}function ku(t,e){(t!==Nt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const $y=Gl("__proto__,__v_isRef,__isVue"),ld=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xl)),By=nc(),Vy=nc(!1,!0),Uy=nc(!0),Ru=jy();function jy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=ie(this);for(let i=0,o=this.length;i<o;i++)mt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(ie)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Qs();const s=ie(this)[e].apply(this,n);return Ys(),s}}),t}function qy(t){const e=ie(this);return mt(e,"has",t),e.hasOwnProperty(t)}function nc(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?iv:dd:e?fd:hd).get(s))return s;const o=K(s);if(!t){if(o&&re(Ru,r))return Reflect.get(Ru,r,i);if(r==="hasOwnProperty")return qy}const a=Reflect.get(s,r,i);return(Xl(r)?ld.has(r):$y(r))||(t||mt(s,"get",r),e)?a:it(a)?o&&Jl(r)?a:a.value:Te(a)?t?pd(a):Kr(a):a}}const Hy=cd(),zy=cd(!0);function cd(t=!1){return function(n,s,r,i){let o=n[s];if(Ms(o)&&it(o)&&!it(r))return!1;if(!t&&(!Vi(r)&&!Ms(r)&&(o=ie(o),r=ie(r)),!K(n)&&it(o)&&!it(r)))return o.value=r,!0;const a=K(n)&&Jl(s)?Number(s)<n.length:re(n,s),l=Reflect.set(n,s,r,i);return n===ie(i)&&(a?Cr(r,o)&&ln(n,"set",s,r):ln(n,"add",s,r)),l}}function Ky(t,e){const n=re(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&ln(t,"delete",e,void 0),s}function Wy(t,e){const n=Reflect.has(t,e);return(!Xl(e)||!ld.has(e))&&mt(t,"has",e),n}function Gy(t){return mt(t,"iterate",K(t)?"length":ns),Reflect.ownKeys(t)}const ud={get:By,set:Hy,deleteProperty:Ky,has:Wy,ownKeys:Gy},Qy={get:Uy,set(t,e){return!0},deleteProperty(t,e){return!0}},Yy=Fe({},ud,{get:Vy,set:zy}),sc=t=>t,bo=t=>Reflect.getPrototypeOf(t);function di(t,e,n=!1,s=!1){t=t.__v_raw;const r=ie(t),i=ie(e);n||(e!==i&&mt(r,"get",e),mt(r,"get",i));const{has:o}=bo(r),a=s?sc:n?ac:xr;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function pi(t,e=!1){const n=this.__v_raw,s=ie(n),r=ie(t);return e||(t!==r&&mt(s,"has",t),mt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function gi(t,e=!1){return t=t.__v_raw,!e&&mt(ie(t),"iterate",ns),Reflect.get(t,"size",t)}function Nu(t){t=ie(t);const e=ie(this);return bo(e).has.call(e,t)||(e.add(t),ln(e,"add",t,t)),this}function Pu(t,e){e=ie(e);const n=ie(this),{has:s,get:r}=bo(n);let i=s.call(n,t);i||(t=ie(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Cr(e,o)&&ln(n,"set",t,e):ln(n,"add",t,e),this}function Ou(t){const e=ie(this),{has:n,get:s}=bo(e);let r=n.call(e,t);r||(t=ie(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&ln(e,"delete",t,void 0),i}function Mu(){const t=ie(this),e=t.size!==0,n=t.clear();return e&&ln(t,"clear",void 0,void 0),n}function mi(t,e){return function(s,r){const i=this,o=i.__v_raw,a=ie(o),l=e?sc:t?ac:xr;return!t&&mt(a,"iterate",ns),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function yi(t,e,n){return function(...s){const r=this.__v_raw,i=ie(r),o=xs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?sc:e?ac:xr;return!e&&mt(i,"iterate",l?Qa:ns),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function En(t){return function(...e){return t==="delete"?!1:this}}function Xy(){const t={get(i){return di(this,i)},get size(){return gi(this)},has:pi,add:Nu,set:Pu,delete:Ou,clear:Mu,forEach:mi(!1,!1)},e={get(i){return di(this,i,!1,!0)},get size(){return gi(this)},has:pi,add:Nu,set:Pu,delete:Ou,clear:Mu,forEach:mi(!1,!0)},n={get(i){return di(this,i,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:En("add"),set:En("set"),delete:En("delete"),clear:En("clear"),forEach:mi(!0,!1)},s={get(i){return di(this,i,!0,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:En("add"),set:En("set"),delete:En("delete"),clear:En("clear"),forEach:mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=yi(i,!1,!1),n[i]=yi(i,!0,!1),e[i]=yi(i,!1,!0),s[i]=yi(i,!0,!0)}),[t,n,e,s]}const[Jy,Zy,ev,tv]=Xy();function rc(t,e){const n=e?t?tv:ev:t?Zy:Jy;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(re(n,r)&&r in s?n:s,r,i)}const nv={get:rc(!1,!1)},sv={get:rc(!1,!0)},rv={get:rc(!0,!1)},hd=new WeakMap,fd=new WeakMap,dd=new WeakMap,iv=new WeakMap;function ov(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function av(t){return t.__v_skip||!Object.isExtensible(t)?0:ov(Iy(t))}function Kr(t){return Ms(t)?t:ic(t,!1,ud,nv,hd)}function lv(t){return ic(t,!1,Yy,sv,fd)}function pd(t){return ic(t,!0,Qy,rv,dd)}function ic(t,e,n,s,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=av(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function As(t){return Ms(t)?As(t.__v_raw):!!(t&&t.__v_isReactive)}function Ms(t){return!!(t&&t.__v_isReadonly)}function Vi(t){return!!(t&&t.__v_isShallow)}function gd(t){return As(t)||Ms(t)}function ie(t){const e=t&&t.__v_raw;return e?ie(e):t}function oc(t){return Bi(t,"__v_skip",!0),t}const xr=t=>Te(t)?Kr(t):t,ac=t=>Te(t)?pd(t):t;function md(t){xn&&Nt&&(t=ie(t),ad(t.dep||(t.dep=ec())))}function yd(t,e){t=ie(t);const n=t.dep;n&&Ya(n)}function it(t){return!!(t&&t.__v_isRef===!0)}function ee(t){return vd(t,!1)}function cv(t){return vd(t,!0)}function vd(t,e){return it(t)?t:new uv(t,e)}class uv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ie(e),this._value=n?e:xr(e)}get value(){return md(this),this._value}set value(e){const n=this.__v_isShallow||Vi(e)||Ms(e);e=n?e:ie(e),Cr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:xr(e),yd(this))}}function Ce(t){return it(t)?t.value:t}const hv={get:(t,e,n)=>Ce(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return it(r)&&!it(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function wd(t){return As(t)?t:new Proxy(t,hv)}class fv{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new tc(e,()=>{this._dirty||(this._dirty=!0,yd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=ie(this);return md(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function dv(t,e,n=!1){let s,r;const i=Z(t);return i?(s=t,r=Mt):(s=t.get,r=t.set),new fv(s,r,i||!r,n)}function An(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){_o(i,e,n)}return r}function xt(t,e,n,s){if(Z(t)){const i=An(t,e,n,s);return i&&Xf(i)&&i.catch(o=>{_o(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(xt(t[i],e,n,s));return r}function _o(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){An(l,null,10,[t,o,a]);return}}pv(t,n,r,s)}function pv(t,e,n,s=!0){console.error(t)}let Ar=!1,Xa=!1;const st=[];let Ht=0;const Ds=[];let nn=null,Gn=0;const Ed=Promise.resolve();let lc=null;function on(t){const e=lc||Ed;return t?e.then(this?t.bind(this):t):e}function gv(t){let e=Ht+1,n=st.length;for(;e<n;){const s=e+n>>>1;Dr(st[s])<t?e=s+1:n=s}return e}function cc(t){(!st.length||!st.includes(t,Ar&&t.allowRecurse?Ht+1:Ht))&&(t.id==null?st.push(t):st.splice(gv(t.id),0,t),bd())}function bd(){!Ar&&!Xa&&(Xa=!0,lc=Ed.then(Id))}function mv(t){const e=st.indexOf(t);e>Ht&&st.splice(e,1)}function yv(t){K(t)?Ds.push(...t):(!nn||!nn.includes(t,t.allowRecurse?Gn+1:Gn))&&Ds.push(t),bd()}function Lu(t,e=Ar?Ht+1:0){for(;e<st.length;e++){const n=st[e];n&&n.pre&&(st.splice(e,1),e--,n())}}function _d(t){if(Ds.length){const e=[...new Set(Ds)];if(Ds.length=0,nn){nn.push(...e);return}for(nn=e,nn.sort((n,s)=>Dr(n)-Dr(s)),Gn=0;Gn<nn.length;Gn++)nn[Gn]();nn=null,Gn=0}}const Dr=t=>t.id==null?1/0:t.id,vv=(t,e)=>{const n=Dr(t)-Dr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Id(t){Xa=!1,Ar=!0,st.sort(vv);const e=Mt;try{for(Ht=0;Ht<st.length;Ht++){const n=st[Ht];n&&n.active!==!1&&An(n,null,14)}}finally{Ht=0,st.length=0,_d(),Ar=!1,lc=null,(st.length||Ds.length)&&Id()}}function wv(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||be;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||be;f&&(r=n.map(d=>$e(d)?d.trim():d)),h&&(r=n.map(za))}let a,l=s[a=la(e)]||s[a=la(Os(e))];!l&&i&&(l=s[a=la(Gs(e))]),l&&xt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xt(c,t,6,r)}}function Td(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Td(c,e,!0);u&&(a=!0,Fe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Te(t)&&s.set(t,null),null):(K(i)?i.forEach(l=>o[l]=null):Fe(o,i),Te(t)&&s.set(t,o),o)}function Io(t,e){return!t||!vo(e)?!1:(e=e.slice(2).replace(/Once$/,""),re(t,e[0].toLowerCase()+e.slice(1))||re(t,Gs(e))||re(t,e))}let Ct=null,Sd=null;function Ui(t){const e=Ct;return Ct=t,Sd=t&&t.type.__scopeId||null,e}function vt(t,e=Ct,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Wu(-1);const i=Ui(e);let o;try{o=t(...r)}finally{Ui(i),s._d&&Wu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ca(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:m,inheritAttrs:v}=t;let _,A;const N=Ui(t);try{if(n.shapeFlag&4){const M=r||s;_=qt(u.call(M,M,h,i,d,f,m)),A=l}else{const M=e;_=qt(M.length>1?M(i,{attrs:l,slots:a,emit:c}):M(i,null)),A=e.props?l:Ev(l)}}catch(M){mr.length=0,_o(M,t,1),_=de(Lt)}let U=_;if(A&&v!==!1){const M=Object.keys(A),{shapeFlag:oe}=U;M.length&&oe&7&&(o&&M.some(Ql)&&(A=bv(A,o)),U=un(U,A))}return n.dirs&&(U=un(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),_=U,Ui(N),_}const Ev=t=>{let e;for(const n in t)(n==="class"||n==="style"||vo(n))&&((e||(e={}))[n]=t[n]);return e},bv=(t,e)=>{const n={};for(const s in t)(!Ql(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function _v(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Fu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!Io(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Fu(s,o,c):!0:!!o;return!1}function Fu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Io(n,i))return!0}return!1}function Iv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Tv=t=>t.__isSuspense;function Sv(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):yv(t)}function Wr(t,e){return uc(t,null,e)}const vi={};function Ri(t,e,n){return uc(t,e,n)}function uc(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=be){var a;const l=My()===((a=Ye)==null?void 0:a.scope)?Ye:null;let c,u=!1,h=!1;if(it(t)?(c=()=>t.value,u=Vi(t)):As(t)?(c=()=>t,s=!0):K(t)?(h=!0,u=t.some(M=>As(M)||Vi(M)),c=()=>t.map(M=>{if(it(M))return M.value;if(As(M))return Xn(M);if(Z(M))return An(M,l,2)})):Z(t)?e?c=()=>An(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),xt(t,l,3,[d])}:c=Mt,e&&s){const M=c;c=()=>Xn(M())}let f,d=M=>{f=N.onStop=()=>{An(M,l,4)}},m;if(Rr)if(d=Mt,e?n&&xt(e,l,3,[c(),h?[]:void 0,d]):c(),r==="sync"){const M=w0();m=M.__watcherHandles||(M.__watcherHandles=[])}else return Mt;let v=h?new Array(t.length).fill(vi):vi;const _=()=>{if(!!N.active)if(e){const M=N.run();(s||u||(h?M.some((oe,Se)=>Cr(oe,v[Se])):Cr(M,v)))&&(f&&f(),xt(e,l,3,[M,v===vi?void 0:h&&v[0]===vi?[]:v,d]),v=M)}else N.run()};_.allowRecurse=!!e;let A;r==="sync"?A=_:r==="post"?A=()=>pt(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),A=()=>cc(_));const N=new tc(c,A);e?n?_():v=N.run():r==="post"?pt(N.run.bind(N),l&&l.suspense):N.run();const U=()=>{N.stop(),l&&l.scope&&Yl(l.scope.effects,N)};return m&&m.push(U),U}function Cv(t,e,n){const s=this.proxy,r=$e(t)?t.includes(".")?Cd(s,t):()=>s[t]:t.bind(s,s);let i;Z(e)?i=e:(i=e.handler,n=e);const o=Ye;Ls(this);const a=uc(r,i.bind(s),n);return o?Ls(o):ss(),a}function Cd(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Xn(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),it(t))Xn(t.value,e);else if(K(t))for(let n=0;n<t.length;n++)Xn(t[n],e);else if(Yf(t)||xs(t))t.forEach(n=>{Xn(n,e)});else if(Zf(t))for(const n in t)Xn(t[n],e);return t}function zt(t,e){const n=Ct;if(n===null)return t;const s=Ao(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=be]=e[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Xn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function qn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Qs(),xt(l,n,8,[t.el,a,t,e]),Ys())}}function xv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn(()=>{t.isMounted=!0}),Rd(()=>{t.isUnmounting=!0}),t}const It=[Function,Array],xd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:It,onEnter:It,onAfterEnter:It,onEnterCancelled:It,onBeforeLeave:It,onLeave:It,onAfterLeave:It,onLeaveCancelled:It,onBeforeAppear:It,onAppear:It,onAfterAppear:It,onAppearCancelled:It},Av={name:"BaseTransition",props:xd,setup(t,{slots:e}){const n=f0(),s=xv();let r;return()=>{const i=e.default&&Dd(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const v of i)if(v.type!==Lt){o=v;break}}const a=ie(t),{mode:l}=a;if(s.isLeaving)return ua(o);const c=$u(o);if(!c)return ua(o);const u=Ja(c,a,s,n);Za(c,u);const h=n.subTree,f=h&&$u(h);let d=!1;const{getTransitionKey:m}=c.type;if(m){const v=m();r===void 0?r=v:v!==r&&(r=v,d=!0)}if(f&&f.type!==Lt&&(!Qn(c,f)||d)){const v=Ja(f,a,s,n);if(Za(f,v),l==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},ua(o);l==="in-out"&&c.type!==Lt&&(v.delayLeave=(_,A,N)=>{const U=Ad(s,f);U[String(f.key)]=f,_._leaveCb=()=>{A(),_._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=N})}return o}}},Dv=Av;function Ad(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ja(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:v,onAppear:_,onAfterAppear:A,onAppearCancelled:N}=e,U=String(t.key),M=Ad(n,t),oe=(X,ge)=>{X&&xt(X,s,9,ge)},Se=(X,ge)=>{const me=ge[1];oe(X,ge),K(X)?X.every(Ve=>Ve.length<=1)&&me():X.length<=1&&me()},Be={mode:i,persisted:o,beforeEnter(X){let ge=a;if(!n.isMounted)if(r)ge=v||a;else return;X._leaveCb&&X._leaveCb(!0);const me=M[U];me&&Qn(t,me)&&me.el._leaveCb&&me.el._leaveCb(),oe(ge,[X])},enter(X){let ge=l,me=c,Ve=u;if(!n.isMounted)if(r)ge=_||l,me=A||c,Ve=N||u;else return;let B=!1;const he=X._enterCb=ut=>{B||(B=!0,ut?oe(Ve,[X]):oe(me,[X]),Be.delayedLeave&&Be.delayedLeave(),X._enterCb=void 0)};ge?Se(ge,[X,he]):he()},leave(X,ge){const me=String(t.key);if(X._enterCb&&X._enterCb(!0),n.isUnmounting)return ge();oe(h,[X]);let Ve=!1;const B=X._leaveCb=he=>{Ve||(Ve=!0,ge(),he?oe(m,[X]):oe(d,[X]),X._leaveCb=void 0,M[me]===t&&delete M[me])};M[me]=t,f?Se(f,[X,B]):B()},clone(X){return Ja(X,e,n,s)}};return Be}function ua(t){if(To(t))return t=un(t),t.children=null,t}function $u(t){return To(t)?t.children?t.children[0]:void 0:t}function Za(t,e){t.shapeFlag&6&&t.component?Za(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Dd(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===tt?(o.patchFlag&128&&r++,s=s.concat(Dd(o.children,e,a))):(e||o.type!==Lt)&&s.push(a!=null?un(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function yn(t,e){return Z(t)?(()=>Fe({name:t.name},e,{setup:t}))():t}const Ni=t=>!!t.type.__asyncLoader,To=t=>t.type.__isKeepAlive;function kv(t,e){kd(t,"a",e)}function Rv(t,e){kd(t,"da",e)}function kd(t,e,n=Ye){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(So(e,s,n),n){let r=n.parent;for(;r&&r.parent;)To(r.parent.vnode)&&Nv(s,e,n,r),r=r.parent}}function Nv(t,e,n,s){const r=So(e,t,s,!0);Gr(()=>{Yl(s[e],r)},n)}function So(t,e,n=Ye,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Qs(),Ls(n);const a=xt(e,n,t,o);return ss(),Ys(),a});return s?r.unshift(i):r.push(i),i}}const vn=t=>(e,n=Ye)=>(!Rr||t==="sp")&&So(t,(...s)=>e(...s),n),Pv=vn("bm"),cn=vn("m"),Ov=vn("bu"),Mv=vn("u"),Rd=vn("bum"),Gr=vn("um"),Lv=vn("sp"),Fv=vn("rtg"),$v=vn("rtc");function Bv(t,e=Ye){So("ec",t,e)}const Vv=Symbol.for("v-ndc");function Nd(t,e,n,s){let r;const i=n&&n[s];if(K(t)||$e(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const el=t=>t?qd(t)?Ao(t)||t.proxy:el(t.parent):null,gr=Fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>el(t.parent),$root:t=>el(t.root),$emit:t=>t.emit,$options:t=>hc(t),$forceUpdate:t=>t.f||(t.f=()=>cc(t.update)),$nextTick:t=>t.n||(t.n=on.bind(t.proxy)),$watch:t=>Cv.bind(t)}),ha=(t,e)=>t!==be&&!t.__isScriptSetup&&re(t,e),Uv={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ha(s,e))return o[e]=1,s[e];if(r!==be&&re(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&re(c,e))return o[e]=3,i[e];if(n!==be&&re(n,e))return o[e]=4,n[e];tl&&(o[e]=0)}}const u=gr[e];let h,f;if(u)return e==="$attrs"&&mt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&re(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,re(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ha(r,e)?(r[e]=n,!0):s!==be&&re(s,e)?(s[e]=n,!0):re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==be&&re(t,o)||ha(e,o)||(a=i[0])&&re(a,o)||re(s,o)||re(gr,o)||re(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:re(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Bu(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tl=!0;function jv(t){const e=hc(t),n=t.proxy,s=t.ctx;tl=!1,e.beforeCreate&&Vu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:m,activated:v,deactivated:_,beforeDestroy:A,beforeUnmount:N,destroyed:U,unmounted:M,render:oe,renderTracked:Se,renderTriggered:Be,errorCaptured:X,serverPrefetch:ge,expose:me,inheritAttrs:Ve,components:B,directives:he,filters:ut}=e;if(c&&qv(c,s,null),o)for(const ve in o){const le=o[ve];Z(le)&&(s[ve]=le.bind(n))}if(r){const ve=r.call(n,n);Te(ve)&&(t.data=Kr(ve))}if(tl=!0,i)for(const ve in i){const le=i[ve],en=Z(le)?le.bind(n,n):Z(le.get)?le.get.bind(n,n):Mt,wn=!Z(le)&&Z(le.set)?le.set.bind(n):Mt,Bt=_e({get:en,set:wn});Object.defineProperty(s,ve,{enumerable:!0,configurable:!0,get:()=>Bt.value,set:dt=>Bt.value=dt})}if(a)for(const ve in a)Pd(a[ve],s,n,ve);if(l){const ve=Z(l)?l.call(n):l;Reflect.ownKeys(ve).forEach(le=>{Dn(le,ve[le])})}u&&Vu(u,t,"c");function Ne(ve,le){K(le)?le.forEach(en=>ve(en.bind(n))):le&&ve(le.bind(n))}if(Ne(Pv,h),Ne(cn,f),Ne(Ov,d),Ne(Mv,m),Ne(kv,v),Ne(Rv,_),Ne(Bv,X),Ne($v,Se),Ne(Fv,Be),Ne(Rd,N),Ne(Gr,M),Ne(Lv,ge),K(me))if(me.length){const ve=t.exposed||(t.exposed={});me.forEach(le=>{Object.defineProperty(ve,le,{get:()=>n[le],set:en=>n[le]=en})})}else t.exposed||(t.exposed={});oe&&t.render===Mt&&(t.render=oe),Ve!=null&&(t.inheritAttrs=Ve),B&&(t.components=B),he&&(t.directives=he)}function qv(t,e,n=Mt){K(t)&&(t=nl(t));for(const s in t){const r=t[s];let i;Te(r)?"default"in r?i=Et(r.from||s,r.default,!0):i=Et(r.from||s):i=Et(r),it(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Vu(t,e,n){xt(K(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pd(t,e,n,s){const r=s.includes(".")?Cd(n,s):()=>n[s];if($e(t)){const i=e[t];Z(i)&&Ri(r,i)}else if(Z(t))Ri(r,t.bind(n));else if(Te(t))if(K(t))t.forEach(i=>Pd(i,e,n,s));else{const i=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(i)&&Ri(r,i,t)}}function hc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>ji(l,c,o,!0)),ji(l,e,o)),Te(e)&&i.set(e,l),l}function ji(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ji(t,i,n,!0),r&&r.forEach(o=>ji(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Hv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Hv={data:Uu,props:ju,emits:ju,methods:cr,computed:cr,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:cr,directives:cr,watch:Kv,provide:Uu,inject:zv};function Uu(t,e){return e?t?function(){return Fe(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function zv(t,e){return cr(nl(t),nl(e))}function nl(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ht(t,e){return t?[...new Set([].concat(t,e))]:e}function cr(t,e){return t?Fe(Object.create(null),t,e):e}function ju(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:Fe(Object.create(null),Bu(t),Bu(e!=null?e:{})):e}function Kv(t,e){if(!t)return e;if(!e)return t;const n=Fe(Object.create(null),t);for(const s in e)n[s]=ht(t[s],e[s]);return n}function Od(){return{app:null,config:{isNativeTag:Ey,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wv=0;function Gv(t,e){return function(s,r=null){Z(s)||(s=Fe({},s)),r!=null&&!Te(r)&&(r=null);const i=Od(),o=new Set;let a=!1;const l=i.app={_uid:Wv++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:E0,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=de(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Ao(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){qi=l;try{return c()}finally{qi=null}}};return l}}let qi=null;function Dn(t,e){if(Ye){let n=Ye.provides;const s=Ye.parent&&Ye.parent.provides;s===n&&(n=Ye.provides=Object.create(s)),n[t]=e}}function Et(t,e,n=!1){const s=Ye||Ct;if(s||qi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:qi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Z(e)?e.call(s&&s.proxy):e}}function Qv(t,e,n,s=!1){const r={},i={};Bi(i,xo,1),t.propsDefaults=Object.create(null),Md(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:lv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Yv(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ie(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Io(t.emitsOptions,f))continue;const d=e[f];if(l)if(re(i,f))d!==i[f]&&(i[f]=d,c=!0);else{const m=Os(f);r[m]=sl(l,a,m,d,t,!1)}else d!==i[f]&&(i[f]=d,c=!0)}}}else{Md(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!re(e,h)&&((u=Gs(h))===h||!re(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=sl(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!re(e,h)&&!0)&&(delete i[h],c=!0)}c&&ln(t,"set","$attrs")}function Md(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Di(l))continue;const c=e[l];let u;r&&re(r,u=Os(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Io(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=ie(n),c=a||be;for(let u=0;u<i.length;u++){const h=i[u];n[h]=sl(r,l,h,c[h],t,!re(c,h))}}return o}function sl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=re(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Ls(r),s=c[n]=l.call(null,e),ss())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Gs(n))&&(s=!0))}return s}function Ld(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=h=>{l=!0;const[f,d]=Ld(h,e,!0);Fe(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Te(t)&&s.set(t,Cs),Cs;if(K(i))for(let u=0;u<i.length;u++){const h=Os(i[u]);qu(h)&&(o[h]=be)}else if(i)for(const u in i){const h=Os(u);if(qu(h)){const f=i[u],d=o[h]=K(f)||Z(f)?{type:f}:Fe({},f);if(d){const m=Ku(Boolean,d.type),v=Ku(String,d.type);d[0]=m>-1,d[1]=v<0||m<v,(m>-1||re(d,"default"))&&a.push(h)}}}const c=[o,a];return Te(t)&&s.set(t,c),c}function qu(t){return t[0]!=="$"}function Hu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function zu(t,e){return Hu(t)===Hu(e)}function Ku(t,e){return K(e)?e.findIndex(n=>zu(n,t)):Z(e)&&zu(e,t)?0:-1}const Fd=t=>t[0]==="_"||t==="$stable",fc=t=>K(t)?t.map(qt):[qt(t)],Xv=(t,e,n)=>{if(e._n)return e;const s=vt((...r)=>fc(e(...r)),n);return s._c=!1,s},$d=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Fd(r))continue;const i=t[r];if(Z(i))e[r]=Xv(r,i,s);else if(i!=null){const o=fc(i);e[r]=()=>o}}},Bd=(t,e)=>{const n=fc(e);t.slots.default=()=>n},Jv=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ie(e),Bi(e,"_",n)):$d(e,t.slots={})}else t.slots={},e&&Bd(t,e);Bi(t.slots,xo,1)},Zv=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=be;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Fe(r,e),!n&&a===1&&delete r._):(i=!e.$stable,$d(e,r)),o=e}else e&&(Bd(t,e),o={default:1});if(i)for(const a in r)!Fd(a)&&!(a in o)&&delete r[a]};function rl(t,e,n,s,r=!1){if(K(t)){t.forEach((f,d)=>rl(f,e&&(K(e)?e[d]:e),n,s,r));return}if(Ni(s)&&!r)return;const i=s.shapeFlag&4?Ao(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===be?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&($e(c)?(u[c]=null,re(h,c)&&(h[c]=null)):it(c)&&(c.value=null)),Z(l))An(l,a,12,[o,u]);else{const f=$e(l),d=it(l);if(f||d){const m=()=>{if(t.f){const v=f?re(h,l)?h[l]:u[l]:l.value;r?K(v)&&Yl(v,i):K(v)?v.includes(i)||v.push(i):f?(u[l]=[i],re(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,re(h,l)&&(h[l]=o)):d&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,pt(m,n)):m()}}}const pt=Sv;function e0(t){return t0(t)}function t0(t,e){const n=Ka();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=Mt,insertStaticContent:m}=t,v=(p,g,y,E=null,I=null,T=null,O=!1,D=null,k=!!g.dynamicChildren)=>{if(p===g)return;p&&!Qn(p,g)&&(E=b(p),dt(p,I,T,!0),p=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:C,ref:j,shapeFlag:F}=g;switch(C){case Co:_(p,g,y,E);break;case Lt:A(p,g,y,E);break;case Pi:p==null&&N(g,y,E,O);break;case tt:B(p,g,y,E,I,T,O,D,k);break;default:F&1?oe(p,g,y,E,I,T,O,D,k):F&6?he(p,g,y,E,I,T,O,D,k):(F&64||F&128)&&C.process(p,g,y,E,I,T,O,D,k,R)}j!=null&&I&&rl(j,p&&p.ref,T,g||p,!g)},_=(p,g,y,E)=>{if(p==null)s(g.el=a(g.children),y,E);else{const I=g.el=p.el;g.children!==p.children&&c(I,g.children)}},A=(p,g,y,E)=>{p==null?s(g.el=l(g.children||""),y,E):g.el=p.el},N=(p,g,y,E)=>{[p.el,p.anchor]=m(p.children,g,y,E,p.el,p.anchor)},U=({el:p,anchor:g},y,E)=>{let I;for(;p&&p!==g;)I=f(p),s(p,y,E),p=I;s(g,y,E)},M=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=f(p),r(p),p=y;r(g)},oe=(p,g,y,E,I,T,O,D,k)=>{O=O||g.type==="svg",p==null?Se(g,y,E,I,T,O,D,k):ge(p,g,I,T,O,D,k)},Se=(p,g,y,E,I,T,O,D)=>{let k,C;const{type:j,props:F,shapeFlag:q,transition:Q,dirs:te}=p;if(k=p.el=o(p.type,T,F&&F.is,F),q&8?u(k,p.children):q&16&&X(p.children,k,null,E,I,T&&j!=="foreignObject",O,D),te&&qn(p,null,E,"created"),Be(k,p,p.scopeId,O,E),F){for(const ye in F)ye!=="value"&&!Di(ye)&&i(k,ye,null,F[ye],T,p.children,E,I,Je);"value"in F&&i(k,"value",null,F.value),(C=F.onVnodeBeforeMount)&&Ut(C,E,p)}te&&qn(p,null,E,"beforeMount");const Ee=(!I||I&&!I.pendingBranch)&&Q&&!Q.persisted;Ee&&Q.beforeEnter(k),s(k,g,y),((C=F&&F.onVnodeMounted)||Ee||te)&&pt(()=>{C&&Ut(C,E,p),Ee&&Q.enter(k),te&&qn(p,null,E,"mounted")},I)},Be=(p,g,y,E,I)=>{if(y&&d(p,y),E)for(let T=0;T<E.length;T++)d(p,E[T]);if(I){let T=I.subTree;if(g===T){const O=I.vnode;Be(p,O,O.scopeId,O.slotScopeIds,I.parent)}}},X=(p,g,y,E,I,T,O,D,k=0)=>{for(let C=k;C<p.length;C++){const j=p[C]=D?Tn(p[C]):qt(p[C]);v(null,j,g,y,E,I,T,O,D)}},ge=(p,g,y,E,I,T,O)=>{const D=g.el=p.el;let{patchFlag:k,dynamicChildren:C,dirs:j}=g;k|=p.patchFlag&16;const F=p.props||be,q=g.props||be;let Q;y&&Hn(y,!1),(Q=q.onVnodeBeforeUpdate)&&Ut(Q,y,g,p),j&&qn(g,p,y,"beforeUpdate"),y&&Hn(y,!0);const te=I&&g.type!=="foreignObject";if(C?me(p.dynamicChildren,C,D,y,E,te,T):O||le(p,g,D,null,y,E,te,T,!1),k>0){if(k&16)Ve(D,g,F,q,y,E,I);else if(k&2&&F.class!==q.class&&i(D,"class",null,q.class,I),k&4&&i(D,"style",F.style,q.style,I),k&8){const Ee=g.dynamicProps;for(let ye=0;ye<Ee.length;ye++){const Oe=Ee[ye],Dt=F[Oe],vs=q[Oe];(vs!==Dt||Oe==="value")&&i(D,Oe,Dt,vs,I,p.children,y,E,Je)}}k&1&&p.children!==g.children&&u(D,g.children)}else!O&&C==null&&Ve(D,g,F,q,y,E,I);((Q=q.onVnodeUpdated)||j)&&pt(()=>{Q&&Ut(Q,y,g,p),j&&qn(g,p,y,"updated")},E)},me=(p,g,y,E,I,T,O)=>{for(let D=0;D<g.length;D++){const k=p[D],C=g[D],j=k.el&&(k.type===tt||!Qn(k,C)||k.shapeFlag&70)?h(k.el):y;v(k,C,j,null,E,I,T,O,!0)}},Ve=(p,g,y,E,I,T,O)=>{if(y!==E){if(y!==be)for(const D in y)!Di(D)&&!(D in E)&&i(p,D,y[D],null,O,g.children,I,T,Je);for(const D in E){if(Di(D))continue;const k=E[D],C=y[D];k!==C&&D!=="value"&&i(p,D,C,k,O,g.children,I,T,Je)}"value"in E&&i(p,"value",y.value,E.value)}},B=(p,g,y,E,I,T,O,D,k)=>{const C=g.el=p?p.el:a(""),j=g.anchor=p?p.anchor:a("");let{patchFlag:F,dynamicChildren:q,slotScopeIds:Q}=g;Q&&(D=D?D.concat(Q):Q),p==null?(s(C,y,E),s(j,y,E),X(g.children,y,j,I,T,O,D,k)):F>0&&F&64&&q&&p.dynamicChildren?(me(p.dynamicChildren,q,y,I,T,O,D),(g.key!=null||I&&g===I.subTree)&&Vd(p,g,!0)):le(p,g,y,j,I,T,O,D,k)},he=(p,g,y,E,I,T,O,D,k)=>{g.slotScopeIds=D,p==null?g.shapeFlag&512?I.ctx.activate(g,y,E,O,k):ut(g,y,E,I,T,O,k):Zt(p,g,k)},ut=(p,g,y,E,I,T,O)=>{const D=p.component=h0(p,E,I);if(To(p)&&(D.ctx.renderer=R),d0(D),D.asyncDep){if(I&&I.registerDep(D,Ne),!p.el){const k=D.subTree=de(Lt);A(null,k,g,y)}return}Ne(D,p,g,y,I,T,O)},Zt=(p,g,y)=>{const E=g.component=p.component;if(_v(p,g,y))if(E.asyncDep&&!E.asyncResolved){ve(E,g,y);return}else E.next=g,mv(E.update),E.update();else g.el=p.el,E.vnode=g},Ne=(p,g,y,E,I,T,O)=>{const D=()=>{if(p.isMounted){let{next:j,bu:F,u:q,parent:Q,vnode:te}=p,Ee=j,ye;Hn(p,!1),j?(j.el=te.el,ve(p,j,O)):j=te,F&&ki(F),(ye=j.props&&j.props.onVnodeBeforeUpdate)&&Ut(ye,Q,j,te),Hn(p,!0);const Oe=ca(p),Dt=p.subTree;p.subTree=Oe,v(Dt,Oe,h(Dt.el),b(Dt),p,I,T),j.el=Oe.el,Ee===null&&Iv(p,Oe.el),q&&pt(q,I),(ye=j.props&&j.props.onVnodeUpdated)&&pt(()=>Ut(ye,Q,j,te),I)}else{let j;const{el:F,props:q}=g,{bm:Q,m:te,parent:Ee}=p,ye=Ni(g);if(Hn(p,!1),Q&&ki(Q),!ye&&(j=q&&q.onVnodeBeforeMount)&&Ut(j,Ee,g),Hn(p,!0),F&&ce){const Oe=()=>{p.subTree=ca(p),ce(F,p.subTree,p,I,null)};ye?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Oe()):Oe()}else{const Oe=p.subTree=ca(p);v(null,Oe,y,E,p,I,T),g.el=Oe.el}if(te&&pt(te,I),!ye&&(j=q&&q.onVnodeMounted)){const Oe=g;pt(()=>Ut(j,Ee,Oe),I)}(g.shapeFlag&256||Ee&&Ni(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&p.a&&pt(p.a,I),p.isMounted=!0,g=y=E=null}},k=p.effect=new tc(D,()=>cc(C),p.scope),C=p.update=()=>k.run();C.id=p.uid,Hn(p,!0),C()},ve=(p,g,y)=>{g.component=p;const E=p.vnode.props;p.vnode=g,p.next=null,Yv(p,g.props,E,y),Zv(p,g.children,y),Qs(),Lu(),Ys()},le=(p,g,y,E,I,T,O,D,k=!1)=>{const C=p&&p.children,j=p?p.shapeFlag:0,F=g.children,{patchFlag:q,shapeFlag:Q}=g;if(q>0){if(q&128){wn(C,F,y,E,I,T,O,D,k);return}else if(q&256){en(C,F,y,E,I,T,O,D,k);return}}Q&8?(j&16&&Je(C,I,T),F!==C&&u(y,F)):j&16?Q&16?wn(C,F,y,E,I,T,O,D,k):Je(C,I,T,!0):(j&8&&u(y,""),Q&16&&X(F,y,E,I,T,O,D,k))},en=(p,g,y,E,I,T,O,D,k)=>{p=p||Cs,g=g||Cs;const C=p.length,j=g.length,F=Math.min(C,j);let q;for(q=0;q<F;q++){const Q=g[q]=k?Tn(g[q]):qt(g[q]);v(p[q],Q,y,null,I,T,O,D,k)}C>j?Je(p,I,T,!0,!1,F):X(g,y,E,I,T,O,D,k,F)},wn=(p,g,y,E,I,T,O,D,k)=>{let C=0;const j=g.length;let F=p.length-1,q=j-1;for(;C<=F&&C<=q;){const Q=p[C],te=g[C]=k?Tn(g[C]):qt(g[C]);if(Qn(Q,te))v(Q,te,y,null,I,T,O,D,k);else break;C++}for(;C<=F&&C<=q;){const Q=p[F],te=g[q]=k?Tn(g[q]):qt(g[q]);if(Qn(Q,te))v(Q,te,y,null,I,T,O,D,k);else break;F--,q--}if(C>F){if(C<=q){const Q=q+1,te=Q<j?g[Q].el:E;for(;C<=q;)v(null,g[C]=k?Tn(g[C]):qt(g[C]),y,te,I,T,O,D,k),C++}}else if(C>q)for(;C<=F;)dt(p[C],I,T,!0),C++;else{const Q=C,te=C,Ee=new Map;for(C=te;C<=q;C++){const yt=g[C]=k?Tn(g[C]):qt(g[C]);yt.key!=null&&Ee.set(yt.key,C)}let ye,Oe=0;const Dt=q-te+1;let vs=!1,Su=0;const sr=new Array(Dt);for(C=0;C<Dt;C++)sr[C]=0;for(C=Q;C<=F;C++){const yt=p[C];if(Oe>=Dt){dt(yt,I,T,!0);continue}let Vt;if(yt.key!=null)Vt=Ee.get(yt.key);else for(ye=te;ye<=q;ye++)if(sr[ye-te]===0&&Qn(yt,g[ye])){Vt=ye;break}Vt===void 0?dt(yt,I,T,!0):(sr[Vt-te]=C+1,Vt>=Su?Su=Vt:vs=!0,v(yt,g[Vt],y,null,I,T,O,D,k),Oe++)}const Cu=vs?n0(sr):Cs;for(ye=Cu.length-1,C=Dt-1;C>=0;C--){const yt=te+C,Vt=g[yt],xu=yt+1<j?g[yt+1].el:E;sr[C]===0?v(null,Vt,y,xu,I,T,O,D,k):vs&&(ye<0||C!==Cu[ye]?Bt(Vt,y,xu,2):ye--)}}},Bt=(p,g,y,E,I=null)=>{const{el:T,type:O,transition:D,children:k,shapeFlag:C}=p;if(C&6){Bt(p.component.subTree,g,y,E);return}if(C&128){p.suspense.move(g,y,E);return}if(C&64){O.move(p,g,y,R);return}if(O===tt){s(T,g,y);for(let F=0;F<k.length;F++)Bt(k[F],g,y,E);s(p.anchor,g,y);return}if(O===Pi){U(p,g,y);return}if(E!==2&&C&1&&D)if(E===0)D.beforeEnter(T),s(T,g,y),pt(()=>D.enter(T),I);else{const{leave:F,delayLeave:q,afterLeave:Q}=D,te=()=>s(T,g,y),Ee=()=>{F(T,()=>{te(),Q&&Q()})};q?q(T,te,Ee):Ee()}else s(T,g,y)},dt=(p,g,y,E=!1,I=!1)=>{const{type:T,props:O,ref:D,children:k,dynamicChildren:C,shapeFlag:j,patchFlag:F,dirs:q}=p;if(D!=null&&rl(D,null,y,p,!0),j&256){g.ctx.deactivate(p);return}const Q=j&1&&q,te=!Ni(p);let Ee;if(te&&(Ee=O&&O.onVnodeBeforeUnmount)&&Ut(Ee,g,p),j&6)fi(p.component,y,E);else{if(j&128){p.suspense.unmount(y,E);return}Q&&qn(p,null,g,"beforeUnmount"),j&64?p.type.remove(p,g,y,I,R,E):C&&(T!==tt||F>0&&F&64)?Je(C,g,y,!1,!0):(T===tt&&F&384||!I&&j&16)&&Je(k,g,y),E&&ms(p)}(te&&(Ee=O&&O.onVnodeUnmounted)||Q)&&pt(()=>{Ee&&Ut(Ee,g,p),Q&&qn(p,null,g,"unmounted")},y)},ms=p=>{const{type:g,el:y,anchor:E,transition:I}=p;if(g===tt){ys(y,E);return}if(g===Pi){M(p);return}const T=()=>{r(y),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(p.shapeFlag&1&&I&&!I.persisted){const{leave:O,delayLeave:D}=I,k=()=>O(y,T);D?D(p.el,T,k):k()}else T()},ys=(p,g)=>{let y;for(;p!==g;)y=f(p),r(p),p=y;r(g)},fi=(p,g,y)=>{const{bum:E,scope:I,update:T,subTree:O,um:D}=p;E&&ki(E),I.stop(),T&&(T.active=!1,dt(O,p,g,y)),D&&pt(D,g),pt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Je=(p,g,y,E=!1,I=!1,T=0)=>{for(let O=T;O<p.length;O++)dt(p[O],g,y,E,I)},b=p=>p.shapeFlag&6?b(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),L=(p,g,y)=>{p==null?g._vnode&&dt(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,y),Lu(),_d(),g._vnode=p},R={p:v,um:dt,m:Bt,r:ms,mt:ut,mc:X,pc:le,pbc:me,n:b,o:t};let V,ce;return e&&([V,ce]=e(R)),{render:L,hydrate:V,createApp:Gv(L,V)}}function Hn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Vd(t,e,n=!1){const s=t.children,r=e.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Tn(r[i]),a.el=o.el),n||Vd(o,a)),a.type===Co&&(a.el=o.el)}}function n0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const s0=t=>t.__isTeleport,tt=Symbol.for("v-fgt"),Co=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),Pi=Symbol.for("v-stc"),mr=[];let Pt=null;function Pe(t=!1){mr.push(Pt=t?null:[])}function r0(){mr.pop(),Pt=mr[mr.length-1]||null}let kr=1;function Wu(t){kr+=t}function Ud(t){return t.dynamicChildren=kr>0?Pt||Cs:null,r0(),kr>0&&Pt&&Pt.push(t),t}function He(t,e,n,s,r,i){return Ud(w(t,e,n,s,r,i,!0))}function il(t,e,n,s,r){return Ud(de(t,e,n,s,r,!0))}function ol(t){return t?t.__v_isVNode===!0:!1}function Qn(t,e){return t.type===e.type&&t.key===e.key}const xo="__vInternal",jd=({key:t})=>t!=null?t:null,Oi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$e(t)||it(t)||Z(t)?{i:Ct,r:t,k:e,f:!!n}:t:null);function w(t,e=null,n=null,s=0,r=null,i=t===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jd(e),ref:e&&Oi(e),scopeId:Sd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ct};return a?(dc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),kr>0&&!o&&Pt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pt.push(l),l}const de=i0;function i0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Vv)&&(t=Lt),ol(t)){const a=un(t,e,!0);return n&&dc(a,n),kr>0&&!i&&Pt&&(a.shapeFlag&6?Pt[Pt.indexOf(t)]=a:Pt.push(a)),a.patchFlag|=-2,a}if(y0(t)&&(t=t.__vccOpts),e){e=o0(e);let{class:a,style:l}=e;a&&!$e(a)&&(e.class=jt(a)),Te(l)&&(gd(l)&&!K(l)&&(l=Fe({},l)),e.style=Zl(l))}const o=$e(t)?1:Tv(t)?128:s0(t)?64:Te(t)?4:Z(t)?2:0;return w(t,e,n,s,r,o,i,!0)}function o0(t){return t?gd(t)||xo in t?Fe({},t):t:null}function un(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?l0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&jd(a),ref:e&&e.ref?n&&r?K(r)?r.concat(Oi(e)):[r,Oi(e)]:Oi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&un(t.ssContent),ssFallback:t.ssFallback&&un(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function al(t=" ",e=0){return de(Co,null,t,e)}function a0(t,e){const n=de(Pi,null,t);return n.staticCount=e,n}function ll(t="",e=!1){return e?(Pe(),il(Lt,null,t)):de(Lt,null,t)}function qt(t){return t==null||typeof t=="boolean"?de(Lt):K(t)?de(tt,null,t.slice()):typeof t=="object"?Tn(t):de(Co,null,String(t))}function Tn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:un(t)}function dc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),dc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(xo in e)?e._ctx=Ct:r===3&&Ct&&(Ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:Ct},n=32):(e=String(e),s&64?(n=16,e=[al(e)]):n=8);t.children=e,t.shapeFlag|=n}function l0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=jt([e.class,s.class]));else if(r==="style")e.style=Zl([e.style,s.style]);else if(vo(r)){const i=e[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ut(t,e,n,s=null){xt(t,e,7,[n,s])}const c0=Od();let u0=0;function h0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||c0,i={uid:u0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new sd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ld(s,r),emitsOptions:Td(s,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:s.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=wv.bind(null,i),t.ce&&t.ce(i),i}let Ye=null;const f0=()=>Ye||Ct;let pc,ws,Gu="__VUE_INSTANCE_SETTERS__";(ws=Ka()[Gu])||(ws=Ka()[Gu]=[]),ws.push(t=>Ye=t),pc=t=>{ws.length>1?ws.forEach(e=>e(t)):ws[0](t)};const Ls=t=>{pc(t),t.scope.on()},ss=()=>{Ye&&Ye.scope.off(),pc(null)};function qd(t){return t.vnode.shapeFlag&4}let Rr=!1;function d0(t,e=!1){Rr=e;const{props:n,children:s}=t.vnode,r=qd(t);Qv(t,n,r,e),Jv(t,s);const i=r?p0(t,e):void 0;return Rr=!1,i}function p0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=oc(new Proxy(t.ctx,Uv));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?m0(t):null;Ls(t),Qs();const i=An(s,t,0,[t.props,r]);if(Ys(),ss(),Xf(i)){if(i.then(ss,ss),e)return i.then(o=>{Qu(t,o,e)}).catch(o=>{_o(o,t,0)});t.asyncDep=i}else Qu(t,i,e)}else Hd(t,e)}function Qu(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=wd(e)),Hd(t,n)}let Yu;function Hd(t,e,n){const s=t.type;if(!t.render){if(!e&&Yu&&!s.render){const r=s.template||hc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Fe(Fe({isCustomElement:i,delimiters:a},o),l);s.render=Yu(r,c)}}t.render=s.render||Mt}Ls(t),Qs(),jv(t),Ys(),ss()}function g0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mt(t,"get","$attrs"),e[n]}}))}function m0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return g0(t)},slots:t.slots,emit:t.emit,expose:e}}function Ao(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wd(oc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gr)return gr[n](t)},has(e,n){return n in e||n in gr}}))}function y0(t){return Z(t)&&"__vccOpts"in t}const _e=(t,e)=>dv(t,e,Rr);function Do(t,e,n){const s=arguments.length;return s===2?Te(e)&&!K(e)?ol(e)?de(t,null,[e]):de(t,e):de(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ol(n)&&(n=[n]),de(t,e,n))}const v0=Symbol.for("v-scx"),w0=()=>Et(v0),E0="3.3.2",b0="http://www.w3.org/2000/svg",Yn=typeof document<"u"?document:null,Xu=Yn&&Yn.createElement("template"),_0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Yn.createElementNS(b0,t):Yn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Yn.createTextNode(t),createComment:t=>Yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Xu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Xu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function I0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function T0(t,e,n){const s=t.style,r=$e(n);if(n&&!r){if(e&&!$e(e))for(const i in e)n[i]==null&&cl(s,i,"");for(const i in n)cl(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Ju=/\s*!important$/;function cl(t,e,n){if(K(n))n.forEach(s=>cl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=S0(t,e);Ju.test(n)?t.setProperty(Gs(s),n.replace(Ju,""),"important"):t[s]=n}}const Zu=["Webkit","Moz","ms"],fa={};function S0(t,e){const n=fa[e];if(n)return n;let s=Os(e);if(s!=="filter"&&s in t)return fa[e]=s;s=ed(s);for(let r=0;r<Zu.length;r++){const i=Zu[r]+s;if(i in t)return fa[e]=i}return e}const eh="http://www.w3.org/1999/xlink";function C0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(eh,e.slice(6,e.length)):t.setAttributeNS(eh,e,n);else{const i=Ny(e);n==null||i&&!td(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function x0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=td(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function bs(t,e,n,s){t.addEventListener(e,n,s)}function A0(t,e,n,s){t.removeEventListener(e,n,s)}function D0(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=k0(e);if(s){const c=i[e]=P0(s,r);bs(t,a,c,l)}else o&&(A0(t,a,o,l),i[e]=void 0)}}const th=/(?:Once|Passive|Capture)$/;function k0(t){let e;if(th.test(t)){e={};let s;for(;s=t.match(th);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gs(t.slice(2)),e]}let da=0;const R0=Promise.resolve(),N0=()=>da||(R0.then(()=>da=0),da=Date.now());function P0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;xt(O0(s,n.value),e,5,[s])};return n.value=t,n.attached=N0(),n}function O0(t,e){if(K(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const nh=/^on[a-z]/,M0=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?I0(t,s,r):e==="style"?T0(t,n,s):vo(e)?Ql(e)||D0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L0(t,e,s,r))?x0(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),C0(t,e,s,r))};function L0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&nh.test(e)&&Z(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nh.test(e)&&$e(n)?!1:e in t}const bn="transition",rr="animation",gc=(t,{slots:e})=>Do(Dv,F0(t),e);gc.displayName="Transition";const zd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};gc.props=Fe({},xd,zd);const zn=(t,e=[])=>{K(t)?t.forEach(n=>n(...e)):t&&t(...e)},sh=t=>t?K(t)?t.some(e=>e.length>1):t.length>1:!1;function F0(t){const e={};for(const B in t)B in zd||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=$0(r),v=m&&m[0],_=m&&m[1],{onBeforeEnter:A,onEnter:N,onEnterCancelled:U,onLeave:M,onLeaveCancelled:oe,onBeforeAppear:Se=A,onAppear:Be=N,onAppearCancelled:X=U}=e,ge=(B,he,ut)=>{Kn(B,he?u:a),Kn(B,he?c:o),ut&&ut()},me=(B,he)=>{B._isLeaving=!1,Kn(B,h),Kn(B,d),Kn(B,f),he&&he()},Ve=B=>(he,ut)=>{const Zt=B?Be:N,Ne=()=>ge(he,B,ut);zn(Zt,[he,Ne]),rh(()=>{Kn(he,B?l:i),_n(he,B?u:a),sh(Zt)||ih(he,s,v,Ne)})};return Fe(e,{onBeforeEnter(B){zn(A,[B]),_n(B,i),_n(B,o)},onBeforeAppear(B){zn(Se,[B]),_n(B,l),_n(B,c)},onEnter:Ve(!1),onAppear:Ve(!0),onLeave(B,he){B._isLeaving=!0;const ut=()=>me(B,he);_n(B,h),U0(),_n(B,f),rh(()=>{!B._isLeaving||(Kn(B,h),_n(B,d),sh(M)||ih(B,s,_,ut))}),zn(M,[B,ut])},onEnterCancelled(B){ge(B,!1),zn(U,[B])},onAppearCancelled(B){ge(B,!0),zn(X,[B])},onLeaveCancelled(B){me(B),zn(oe,[B])}})}function $0(t){if(t==null)return null;if(Te(t))return[pa(t.enter),pa(t.leave)];{const e=pa(t);return[e,e]}}function pa(t){return Cy(t)}function _n(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Kn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function rh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let B0=0;function ih(t,e,n,s){const r=t._endId=++B0,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=V0(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=d=>{d.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function V0(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${bn}Delay`),i=s(`${bn}Duration`),o=oh(r,i),a=s(`${rr}Delay`),l=s(`${rr}Duration`),c=oh(a,l);let u=null,h=0,f=0;e===bn?o>0&&(u=bn,h=o,f=i.length):e===rr?c>0&&(u=rr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?bn:rr:null,f=u?u===bn?i.length:l.length:0);const d=u===bn&&/\b(transform|all)(,|$)/.test(s(`${bn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:d}}function oh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>ah(n)+ah(t[s])))}function ah(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function U0(){return document.body.offsetHeight}const lh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?n=>ki(e,n):e};function j0(t){t.target.composing=!0}function ch(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Kt={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=lh(r);const i=s||r.props&&r.props.type==="number";bs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=za(a)),t._assign(a)}),n&&bs(t,"change",()=>{t.value=t.value.trim()}),e||(bs(t,"compositionstart",j0),bs(t,"compositionend",ch),bs(t,"change",ch))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=lh(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&za(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},q0=["ctrl","shift","alt","meta"],H0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>q0.some(n=>t[`${n}Key`]&&!e.includes(n))},Kd=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=H0[e[r]];if(i&&i(n,e))return}return t(n,...s)},z0=Fe({patchProp:M0},_0);let uh;function K0(){return uh||(uh=e0(z0))}const W0=(...t)=>{const e=K0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=G0(s);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function G0(t){return $e(t)?document.querySelector(t):t}var Q0=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Y0=Symbol();var hh;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hh||(hh={}));function X0(){const t=Py(!0),e=t.run(()=>ee({}));let n=[],s=[];const r=oc({install(i){r._a=i,i.provide(Y0,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!Q0?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof window<"u";function J0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const fe=Object.assign;function ga(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ft(r)?r.map(t):t(r)}return n}const yr=()=>{},Ft=Array.isArray,Z0=/\/$/,ew=t=>t.replace(Z0,"");function ma(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=rw(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function tw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function fh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function nw(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Fs(e.matched[s],n.matched[r])&&Wd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sw(t[n],e[n]))return!1;return!0}function sw(t,e){return Ft(t)?dh(t,e):Ft(e)?dh(e,t):t===e}function dh(t,e){return Ft(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function rw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Nr;(function(t){t.pop="pop",t.push="push"})(Nr||(Nr={}));var vr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vr||(vr={}));function iw(t){if(!t)if(_s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ew(t)}const ow=/^[^#]+#/;function aw(t,e){return t.replace(ow,"#")+e}function lw(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ko=()=>({left:window.pageXOffset,top:window.pageYOffset});function cw(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=lw(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ph(t,e){return(history.state?history.state.position-e:-1)+t}const ul=new Map;function uw(t,e){ul.set(t,e)}function hw(t){const e=ul.get(t);return ul.delete(t),e}let fw=()=>location.protocol+"//"+location.host;function Gd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),fh(l,"")}return fh(n,t)+s+r}function dw(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const d=Gd(t,location),m=n.value,v=e.value;let _=0;if(f){if(n.value=d,e.value=f,o&&o===m){o=null;return}_=v?f.position-v.position:0}else s(d);r.forEach(A=>{A(n.value,m,{delta:_,type:Nr.pop,direction:_?_>0?vr.forward:vr.back:vr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const d=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(d),d}function u(){const{history:f}=window;!f.state||f.replaceState(fe({},f.state,{scroll:ko()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function gh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ko():null}}function pw(t){const{history:e,location:n}=window,s={value:Gd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:fw()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=fe({},e.state,gh(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=fe({},r.value,e.state,{forward:l,scroll:ko()});i(u.current,u,!0);const h=fe({},gh(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function gw(t){t=iw(t);const e=pw(t),n=dw(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=fe({location:"",base:t,go:s,createHref:aw.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function mw(t){return typeof t=="string"||t&&typeof t=="object"}function Qd(t){return typeof t=="string"||typeof t=="symbol"}const In={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yd=Symbol("");var mh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(mh||(mh={}));function $s(t,e){return fe(new Error,{type:t,[Yd]:!0},e)}function tn(t,e){return t instanceof Error&&Yd in t&&(e==null||!!(t.type&e))}const yh="[^/]+?",yw={sensitive:!1,strict:!1,start:!0,end:!0},vw=/[.+*?^${}()[\]/\\]/g;function ww(t,e){const n=fe({},yw,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(vw,"\\$&"),d+=40;else if(f.type===1){const{value:m,repeatable:v,optional:_,regexp:A}=f;i.push({name:m,repeatable:v,optional:_});const N=A||yh;if(N!==yh){d+=10;try{new RegExp(`(${N})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${m}" (${N}): `+M.message)}}let U=v?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;h||(U=_&&c.length<2?`(?:/${U})`:"/"+U),_&&(U+="?"),r+=U,d+=20,_&&(d+=-8),v&&(d+=-20),N===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",m=i[f-1];h[m.name]=d&&m.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:v,optional:_}=d,A=m in c?c[m]:"";if(Ft(A)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const N=Ft(A)?A.join("/"):A;if(!N)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=N}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Ew(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function bw(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Ew(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(vh(s))return 1;if(vh(r))return-1}return r.length-s.length}function vh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _w={type:0,value:""},Iw=/[a-zA-Z0-9_]/;function Tw(t){if(!t)return[[]];if(t==="/")return[[_w]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Iw.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Sw(t,e,n){const s=ww(Tw(t.path),n),r=fe(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Cw(t,e){const n=[],s=new Map;e=bh({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const d=!f,m=xw(u);m.aliasOf=f&&f.record;const v=bh(e,u),_=[m];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const M of U)_.push(fe({},m,{components:f?f.record.components:m.components,path:M,aliasOf:f?f.record:m}))}let A,N;for(const U of _){const{path:M}=U;if(h&&M[0]!=="/"){const oe=h.record.path,Se=oe[oe.length-1]==="/"?"":"/";U.path=h.record.path+(M&&Se+M)}if(A=Sw(U,h,v),f?f.alias.push(A):(N=N||A,N!==A&&N.alias.push(A),d&&u.name&&!Eh(A)&&o(u.name)),m.children){const oe=m.children;for(let Se=0;Se<oe.length;Se++)i(oe[Se],A,f&&f.children[Se])}f=f||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return N?()=>{o(N)}:yr}function o(u){if(Qd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&bw(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Xd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Eh(u)&&s.set(u.record.name,u)}function c(u,h){let f,d={},m,v;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw $s(1,{location:u});v=f.record.name,d=fe(wh(h.params,f.keys.filter(N=>!N.optional).map(N=>N.name)),u.params&&wh(u.params,f.keys.map(N=>N.name))),m=f.stringify(d)}else if("path"in u)m=u.path,f=n.find(N=>N.re.test(m)),f&&(d=f.parse(m),v=f.record.name);else{if(f=h.name?s.get(h.name):n.find(N=>N.re.test(h.path)),!f)throw $s(1,{location:u,currentLocation:h});v=f.record.name,d=fe({},h.params,u.params),m=f.stringify(d)}const _=[];let A=f;for(;A;)_.unshift(A.record),A=A.parent;return{name:v,path:m,params:d,matched:_,meta:Dw(_)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function wh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function xw(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Aw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Aw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Eh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Dw(t){return t.reduce((e,n)=>fe(e,n.meta),{})}function bh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Xd(t,e){return e.children.some(n=>n===t||Xd(t,n))}const Jd=/#/g,kw=/&/g,Rw=/\//g,Nw=/=/g,Pw=/\?/g,Zd=/\+/g,Ow=/%5B/g,Mw=/%5D/g,ep=/%5E/g,Lw=/%60/g,tp=/%7B/g,Fw=/%7C/g,np=/%7D/g,$w=/%20/g;function mc(t){return encodeURI(""+t).replace(Fw,"|").replace(Ow,"[").replace(Mw,"]")}function Bw(t){return mc(t).replace(tp,"{").replace(np,"}").replace(ep,"^")}function hl(t){return mc(t).replace(Zd,"%2B").replace($w,"+").replace(Jd,"%23").replace(kw,"%26").replace(Lw,"`").replace(tp,"{").replace(np,"}").replace(ep,"^")}function Vw(t){return hl(t).replace(Nw,"%3D")}function Uw(t){return mc(t).replace(Jd,"%23").replace(Pw,"%3F")}function jw(t){return t==null?"":Uw(t).replace(Rw,"%2F")}function Hi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function qw(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Zd," "),o=i.indexOf("="),a=Hi(o<0?i:i.slice(0,o)),l=o<0?null:Hi(i.slice(o+1));if(a in e){let c=e[a];Ft(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function _h(t){let e="";for(let n in t){const s=t[n];if(n=Vw(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ft(s)?s.map(i=>i&&hl(i)):[s&&hl(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Hw(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ft(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const zw=Symbol(""),Ih=Symbol(""),yc=Symbol(""),sp=Symbol(""),fl=Symbol("");function ir(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Sn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a($s(4,{from:n,to:e})):h instanceof Error?a(h):mw(h)?a($s(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function ya(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(Kw(a)){const c=(a.__vccOpts||a)[e];c&&r.push(Sn(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=J0(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&Sn(f,n,s,i,o)()}))}}return r}function Kw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Th(t){const e=Et(yc),n=Et(sp),s=_e(()=>e.resolve(Ce(t.to))),r=_e(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Fs.bind(null,u));if(f>-1)return f;const d=Sh(l[c-2]);return c>1&&Sh(u)===d&&h[h.length-1].path!==d?h.findIndex(Fs.bind(null,l[c-2])):f}),i=_e(()=>r.value>-1&&Yw(n.params,s.value.params)),o=_e(()=>r.value>-1&&r.value===n.matched.length-1&&Wd(n.params,s.value.params));function a(l={}){return Qw(l)?e[Ce(t.replace)?"replace":"push"](Ce(t.to)).catch(yr):Promise.resolve()}return{route:s,href:_e(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const Ww=yn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Th,setup(t,{slots:e}){const n=Kr(Th(t)),{options:s}=Et(yc),r=_e(()=>({[Ch(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ch(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Do("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Gw=Ww;function Qw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yw(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ft(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Sh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ch=(t,e,n)=>t!=null?t:e!=null?e:n,Xw=yn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Et(fl),r=_e(()=>t.route||s.value),i=Et(Ih,0),o=_e(()=>{let c=Ce(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=_e(()=>r.value.matched[o.value]);Dn(Ih,_e(()=>o.value+1)),Dn(zw,a),Dn(fl,r);const l=ee();return Ri(()=>[l.value,a.value,t.name],([c,u,h],[f,d,m])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Fs(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return xh(n.default,{Component:f,route:c});const d=h.props[u],m=d?d===!0?c.params:typeof d=="function"?d(c):d:null,_=Do(f,fe({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return xh(n.default,{Component:_,route:c})||_}}});function xh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const rp=Xw;function Jw(t){const e=Cw(t.routes,t),n=t.parseQuery||qw,s=t.stringifyQuery||_h,r=t.history,i=ir(),o=ir(),a=ir(),l=cv(In);let c=In;_s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ga.bind(null,b=>""+b),h=ga.bind(null,jw),f=ga.bind(null,Hi);function d(b,L){let R,V;return Qd(b)?(R=e.getRecordMatcher(b),V=L):V=b,e.addRoute(V,R)}function m(b){const L=e.getRecordMatcher(b);L&&e.removeRoute(L)}function v(){return e.getRoutes().map(b=>b.record)}function _(b){return!!e.getRecordMatcher(b)}function A(b,L){if(L=fe({},L||l.value),typeof b=="string"){const y=ma(n,b,L.path),E=e.resolve({path:y.path},L),I=r.createHref(y.fullPath);return fe(y,E,{params:f(E.params),hash:Hi(y.hash),redirectedFrom:void 0,href:I})}let R;if("path"in b)R=fe({},b,{path:ma(n,b.path,L.path).path});else{const y=fe({},b.params);for(const E in y)y[E]==null&&delete y[E];R=fe({},b,{params:h(y)}),L.params=h(L.params)}const V=e.resolve(R,L),ce=b.hash||"";V.params=u(f(V.params));const p=tw(s,fe({},b,{hash:Bw(ce),path:V.path})),g=r.createHref(p);return fe({fullPath:p,hash:ce,query:s===_h?Hw(b.query):b.query||{}},V,{redirectedFrom:void 0,href:g})}function N(b){return typeof b=="string"?ma(n,b,l.value.path):fe({},b)}function U(b,L){if(c!==b)return $s(8,{from:L,to:b})}function M(b){return Be(b)}function oe(b){return M(fe(N(b),{replace:!0}))}function Se(b){const L=b.matched[b.matched.length-1];if(L&&L.redirect){const{redirect:R}=L;let V=typeof R=="function"?R(b):R;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=N(V):{path:V},V.params={}),fe({query:b.query,hash:b.hash,params:"path"in V?{}:b.params},V)}}function Be(b,L){const R=c=A(b),V=l.value,ce=b.state,p=b.force,g=b.replace===!0,y=Se(R);if(y)return Be(fe(N(y),{state:typeof y=="object"?fe({},ce,y.state):ce,force:p,replace:g}),L||R);const E=R;E.redirectedFrom=L;let I;return!p&&nw(s,V,R)&&(I=$s(16,{to:E,from:V}),Bt(V,V,!0,!1)),(I?Promise.resolve(I):me(E,V)).catch(T=>tn(T)?tn(T,2)?T:wn(T):le(T,E,V)).then(T=>{if(T){if(tn(T,2))return Be(fe({replace:g},N(T.to),{state:typeof T.to=="object"?fe({},ce,T.to.state):ce,force:p}),L||E)}else T=B(E,V,!0,g,ce);return Ve(E,V,T),T})}function X(b,L){const R=U(b,L);return R?Promise.reject(R):Promise.resolve()}function ge(b){const L=ys.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(b):b()}function me(b,L){let R;const[V,ce,p]=Zw(b,L);R=ya(V.reverse(),"beforeRouteLeave",b,L);for(const y of V)y.leaveGuards.forEach(E=>{R.push(Sn(E,b,L))});const g=X.bind(null,b,L);return R.push(g),Je(R).then(()=>{R=[];for(const y of i.list())R.push(Sn(y,b,L));return R.push(g),Je(R)}).then(()=>{R=ya(ce,"beforeRouteUpdate",b,L);for(const y of ce)y.updateGuards.forEach(E=>{R.push(Sn(E,b,L))});return R.push(g),Je(R)}).then(()=>{R=[];for(const y of b.matched)if(y.beforeEnter&&!L.matched.includes(y))if(Ft(y.beforeEnter))for(const E of y.beforeEnter)R.push(Sn(E,b,L));else R.push(Sn(y.beforeEnter,b,L));return R.push(g),Je(R)}).then(()=>(b.matched.forEach(y=>y.enterCallbacks={}),R=ya(p,"beforeRouteEnter",b,L),R.push(g),Je(R))).then(()=>{R=[];for(const y of o.list())R.push(Sn(y,b,L));return R.push(g),Je(R)}).catch(y=>tn(y,8)?y:Promise.reject(y))}function Ve(b,L,R){for(const V of a.list())ge(()=>V(b,L,R))}function B(b,L,R,V,ce){const p=U(b,L);if(p)return p;const g=L===In,y=_s?history.state:{};R&&(V||g?r.replace(b.fullPath,fe({scroll:g&&y&&y.scroll},ce)):r.push(b.fullPath,ce)),l.value=b,Bt(b,L,R,g),wn()}let he;function ut(){he||(he=r.listen((b,L,R)=>{if(!fi.listening)return;const V=A(b),ce=Se(V);if(ce){Be(fe(ce,{replace:!0}),V).catch(yr);return}c=V;const p=l.value;_s&&uw(ph(p.fullPath,R.delta),ko()),me(V,p).catch(g=>tn(g,12)?g:tn(g,2)?(Be(g.to,V).then(y=>{tn(y,20)&&!R.delta&&R.type===Nr.pop&&r.go(-1,!1)}).catch(yr),Promise.reject()):(R.delta&&r.go(-R.delta,!1),le(g,V,p))).then(g=>{g=g||B(V,p,!1),g&&(R.delta&&!tn(g,8)?r.go(-R.delta,!1):R.type===Nr.pop&&tn(g,20)&&r.go(-1,!1)),Ve(V,p,g)}).catch(yr)}))}let Zt=ir(),Ne=ir(),ve;function le(b,L,R){wn(b);const V=Ne.list();return V.length?V.forEach(ce=>ce(b,L,R)):console.error(b),Promise.reject(b)}function en(){return ve&&l.value!==In?Promise.resolve():new Promise((b,L)=>{Zt.add([b,L])})}function wn(b){return ve||(ve=!b,ut(),Zt.list().forEach(([L,R])=>b?R(b):L()),Zt.reset()),b}function Bt(b,L,R,V){const{scrollBehavior:ce}=t;if(!_s||!ce)return Promise.resolve();const p=!R&&hw(ph(b.fullPath,0))||(V||!R)&&history.state&&history.state.scroll||null;return on().then(()=>ce(b,L,p)).then(g=>g&&cw(g)).catch(g=>le(g,b,L))}const dt=b=>r.go(b);let ms;const ys=new Set,fi={currentRoute:l,listening:!0,addRoute:d,removeRoute:m,hasRoute:_,getRoutes:v,resolve:A,options:t,push:M,replace:oe,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ne.add,isReady:en,install(b){const L=this;b.component("RouterLink",Gw),b.component("RouterView",rp),b.config.globalProperties.$router=L,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>Ce(l)}),_s&&!ms&&l.value===In&&(ms=!0,M(r.location).catch(ce=>{}));const R={};for(const ce in In)R[ce]=_e(()=>l.value[ce]);b.provide(yc,L),b.provide(sp,Kr(R)),b.provide(fl,l);const V=b.unmount;ys.add(b),b.unmount=function(){ys.delete(b),ys.size<1&&(c=In,he&&he(),he=null,l.value=In,ms=!1,ve=!1),V()}}};function Je(b){return b.reduce((L,R)=>L.then(()=>ge(R)),Promise.resolve())}return fi}function Zw(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Fs(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Fs(c,l))||r.push(l))}return[n,s,r]}const e1=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},t1={name:"Footer"},n1={id:"footer",class:"bg-neutral-200 text-center text-white dark:bg-neutral-600"},s1=a0('<div class="pt-9"><div class="mb-12 flex justify-center"><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path></svg></a><a href="#!" class="text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></div><div class="bg-neutral-300 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://tailwind-elements.com/">Tailwind Elements</a></div>',2),r1=[s1];function i1(t,e,n,s,r,i){return Pe(),He("div",n1,r1)}const o1=e1(t1,[["render",i1]]);const a1={__name:"App",setup(t){return(e,n)=>(Pe(),He(tt,null,[de(Ce(rp),{class:"pb-40 mb-5"}),de(o1)],64))}};function Bs(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Bs),s}var Pr=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Pr||{}),l1=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(l1||{});function fs({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=op(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return va(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return Bs(l,{[0](){return null},[1](){return va({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return va(a)}function va({props:t,attrs:e,slots:n,slot:s,name:r}){var i,o;let{as:a,...l}=c1(t,["unmount","static"]),c=(i=n.default)==null?void 0:i.call(n,s),u={};if(s){let h=!1,f=[];for(let[d,m]of Object.entries(s))typeof m=="boolean"&&(h=!0),m===!0&&f.push(d);h&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=ip(c!=null?c:[]),Object.keys(l).length>0||Object.keys(e).length>0){let[h,...f]=c!=null?c:[];if(!u1(h)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(v=>v.trim()).filter((v,_,A)=>A.indexOf(v)===_).sort((v,_)=>v.localeCompare(_)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let d=op((o=h.props)!=null?o:{},l),m=un(h,d);for(let v in d)v.startsWith("on")&&(m.props||(m.props={}),m.props[v]=d[v]);return m}return Array.isArray(c)&&c.length===1?c[0]:c}return Do(a,Object.assign({},l,u),{default:()=>c})}function ip(t){return t.flatMap(e=>e.type===tt?ip(e.children):[e])}function op(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function c1(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function u1(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let h1=0;function f1(){return++h1}function Qr(){return f1()}var ke=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ke||{});function d1(t){throw new Error("Unexpected object: "+t)}var wt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(wt||{});function p1(t,e){let n=e.resolveItems();if(n.length<=0)return null;let s=e.resolveActiveIndex(),r=s!=null?s:-1,i=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,c)=>r!==-1&&c.length-l-1>=r?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=r?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:d1(t)}})();return i===-1?s:i}function we(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let ap=Symbol("Context");var hn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(hn||{});function lp(){return Et(ap,null)}function cp(t){Dn(ap,t)}function Ah(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function up(t,e){let n=ee(Ah(t.value.type,t.value.as));return cn(()=>{n.value=Ah(t.value.type,t.value.as)}),Wr(()=>{var s;n.value||we(e)&&we(e)instanceof HTMLButtonElement&&!((s=we(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var g1=Object.defineProperty,m1=(t,e,n)=>e in t?g1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dh=(t,e,n)=>(m1(t,typeof e!="symbol"?e+"":e,n),n);class y1{constructor(){Dh(this,"current",this.detect()),Dh(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let hp=new y1;function vc(t){if(hp.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=we(t);if(e)return e.ownerDocument}return document}function v1({container:t,accept:e,walk:n,enabled:s}){Wr(()=>{let r=t.value;if(!r||s!==void 0&&!s.value)return;let i=vc(t);if(!i)return;let o=Object.assign(l=>e(l),{acceptNode:e}),a=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}let dl=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var pl=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(pl||{}),w1=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(w1||{}),E1=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(E1||{});function fp(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(dl)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var wc=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(wc||{});function Ec(t,e=0){var n;return t===((n=vc(t))==null?void 0:n.body)?!1:Bs(e,{[0](){return t.matches(dl)},[1](){let s=t;for(;s!==null;){if(s.matches(dl))return!0;s=s.parentElement}return!1}})}function dp(t){let e=vc(t);on(()=>{e&&!Ec(e.activeElement,0)&&_1(t)})}var b1=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(b1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _1(t){t==null||t.focus({preventScroll:!0})}let I1=["textarea","input"].join(",");function T1(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,I1))!=null?n:!1}function pp(t,e=n=>n){return t.slice().sort((n,s)=>{let r=e(n),i=e(s);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function S1(t,e){return C1(fp(),e,{relativeTo:t})}function C1(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?n?pp(t):t:fp(t);r.length>0&&a.length>1&&(a=a.filter(m=>!r.includes(m))),s=s!=null?s:o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,f=a.length,d;do{if(h>=f||h+f<=0)return 0;let m=c+h;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}d=a[m],d==null||d.focus(u),h+=l}while(d!==o.activeElement);return e&6&&T1(d)&&d.select(),2}function wa(t,e,n){hp.isServer||Wr(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function x1(t,e,n=_e(()=>!0)){function s(i,o){if(!n.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:we(c);if(u!=null&&u.contains(a)||i.composed&&i.composedPath().includes(u))return}return!Ec(a,wc.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let r=ee(null);wa("mousedown",i=>{var o,a;n.value&&(r.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),wa("click",i=>{r.value&&(s(i,()=>r.value),r.value=null)},!0),wa("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function kh(t){return[t.screenX,t.screenY]}function A1(){let t=ee([-1,-1]);return{wasMoved(e){let n=kh(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=kh(e)}}}var D1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(D1||{});let gp=Symbol("DisclosureContext");function bc(t){let e=Et(gp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bc),n}return e}let mp=Symbol("DisclosurePanelContext");function k1(){return Et(mp,null)}let R1=yn({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=ee(t.defaultOpen?0:1),r=ee(null),i=ee(null),o={buttonId:ee(null),panelId:ee(null),disclosureState:s,panel:r,button:i,toggleDisclosure(){s.value=Bs(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let l=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?we(a):we(o.button):we(o.button))();l==null||l.focus()}};return Dn(gp,o),cp(_e(()=>Bs(s.value,{[0]:hn.Open,[1]:hn.Closed}))),()=>{let{defaultOpen:a,...l}=t,c={open:s.value===0,close:o.close};return fs({theirProps:l,ourProps:{},slot:c,slots:e,attrs:n,name:"Disclosure"})}}}),Ea=yn({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=bc("DisclosureButton");cn(()=>{r.buttonId.value=t.id}),Gr(()=>{r.buttonId.value=null});let i=k1(),o=_e(()=>i===null?!1:i.value===r.panelId.value),a=ee(null);s({el:a,$el:a}),o.value||Wr(()=>{r.button.value=a.value});let l=up(_e(()=>({as:t.as,type:e.type})),a);function c(){var f;t.disabled||(o.value?(r.toggleDisclosure(),(f=we(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var d;if(!t.disabled)if(o.value)switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(d=we(r.button))==null||d.focus();break}else switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case ke.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},{id:d,...m}=t,v=o.value?{ref:a,type:l.value,onClick:c,onKeydown:u}:{id:d,ref:a,type:l.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":we(r.panel)?r.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:u,onKeyup:h};return fs({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),N1=yn({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=bc("DisclosurePanel");cn(()=>{r.panelId.value=t.id}),Gr(()=>{r.panelId.value=null}),s({el:r.panel,$el:r.panel}),Dn(mp,r.panelId);let i=lp(),o=_e(()=>i!==null?(i.value&hn.Open)===hn.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},{id:l,...c}=t,u={id:l,ref:r.panel};return fs({ourProps:u,theirProps:c,slot:a,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:o.value,name:"DisclosurePanel"})}}});var P1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(P1||{}),O1=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(O1||{});function M1(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let yp=Symbol("MenuContext");function Ro(t){let e=Et(yp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ro),n}return e}let L1=yn({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:n}){let s=ee(1),r=ee(null),i=ee(null),o=ee([]),a=ee(""),l=ee(null),c=ee(1);function u(f=d=>d){let d=l.value!==null?o.value[l.value]:null,m=pp(f(o.value.slice()),_=>we(_.dataRef.domRef)),v=d?m.indexOf(d):null;return v===-1&&(v=null),{items:m,activeItemIndex:v}}let h={menuState:s,buttonRef:r,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:c,closeMenu:()=>{s.value=1,l.value=null},openMenu:()=>s.value=0,goToItem(f,d,m){let v=u(),_=p1(f===wt.Specific?{focus:wt.Specific,id:d}:{focus:f},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});a.value="",l.value=_,c.value=m!=null?m:1,o.value=v.items},search(f){let d=a.value!==""?0:1;a.value+=f.toLowerCase();let m=(l.value!==null?o.value.slice(l.value+d).concat(o.value.slice(0,l.value+d)):o.value).find(_=>_.dataRef.textValue.startsWith(a.value)&&!_.dataRef.disabled),v=m?o.value.indexOf(m):-1;v===-1||v===l.value||(l.value=v,c.value=1)},clearSearch(){a.value=""},registerItem(f,d){let m=u(v=>[...v,{id:f,dataRef:d}]);o.value=m.items,l.value=m.activeItemIndex,c.value=1},unregisterItem(f){let d=u(m=>{let v=m.findIndex(_=>_.id===f);return v!==-1&&m.splice(v,1),m});o.value=d.items,l.value=d.activeItemIndex,c.value=1}};return x1([r,i],(f,d)=>{var m;h.closeMenu(),Ec(d,wc.Loose)||(f.preventDefault(),(m=we(r))==null||m.focus())},_e(()=>s.value===0)),Dn(yp,h),cp(_e(()=>Bs(s.value,{[0]:hn.Open,[1]:hn.Closed}))),()=>{let f={open:s.value===0,close:h.closeMenu};return fs({ourProps:{},theirProps:t,slot:f,slots:e,attrs:n,name:"Menu"})}}}),F1=yn({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=Ro("MenuButton");s({el:r.buttonRef,$el:r.buttonRef});function i(c){switch(c.key){case ke.Space:case ke.Enter:case ke.ArrowDown:c.preventDefault(),c.stopPropagation(),r.openMenu(),on(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(wt.First)});break;case ke.ArrowUp:c.preventDefault(),c.stopPropagation(),r.openMenu(),on(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(wt.Last)});break}}function o(c){switch(c.key){case ke.Space:c.preventDefault();break}}function a(c){t.disabled||(r.menuState.value===0?(r.closeMenu(),on(()=>{var u;return(u=we(r.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(c.preventDefault(),r.openMenu(),M1(()=>{var u;return(u=we(r.itemsRef))==null?void 0:u.focus({preventScroll:!0})})))}let l=up(_e(()=>({as:t.as,type:e.type})),r.buttonRef);return()=>{var c;let u={open:r.menuState.value===0},{id:h,...f}=t,d={ref:r.buttonRef,id:h,type:l.value,"aria-haspopup":"menu","aria-controls":(c=we(r.itemsRef))==null?void 0:c.id,"aria-expanded":t.disabled?void 0:r.menuState.value===0,onKeydown:i,onKeyup:o,onClick:a};return fs({ourProps:d,theirProps:f,slot:u,attrs:e,slots:n,name:"MenuButton"})}}}),$1=yn({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=Ro("MenuItems"),i=ee(null);s({el:r.itemsRef,$el:r.itemsRef}),v1({container:_e(()=>we(r.itemsRef)),enabled:_e(()=>r.menuState.value===0),accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function o(u){var h;switch(i.value&&clearTimeout(i.value),u.key){case ke.Space:if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case ke.Enter:if(u.preventDefault(),u.stopPropagation(),r.activeItemIndex.value!==null){let f=r.items.value[r.activeItemIndex.value];(h=we(f.dataRef.domRef))==null||h.click()}r.closeMenu(),dp(we(r.buttonRef));break;case ke.ArrowDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(wt.Next);case ke.ArrowUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(wt.Previous);case ke.Home:case ke.PageUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(wt.First);case ke.End:case ke.PageDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(wt.Last);case ke.Escape:u.preventDefault(),u.stopPropagation(),r.closeMenu(),on(()=>{var f;return(f=we(r.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case ke.Tab:u.preventDefault(),u.stopPropagation(),r.closeMenu(),on(()=>S1(we(r.buttonRef),u.shiftKey?pl.Previous:pl.Next));break;default:u.key.length===1&&(r.search(u.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}function a(u){switch(u.key){case ke.Space:u.preventDefault();break}}let l=lp(),c=_e(()=>l!==null?(l.value&hn.Open)===hn.Open:r.menuState.value===0);return()=>{var u,h;let f={open:r.menuState.value===0},{id:d,...m}=t,v={"aria-activedescendant":r.activeItemIndex.value===null||(u=r.items.value[r.activeItemIndex.value])==null?void 0:u.id,"aria-labelledby":(h=we(r.buttonRef))==null?void 0:h.id,id:d,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:r.itemsRef};return fs({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:c.value,name:"MenuItems"})}}}),ba=yn({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Qr()}`}},setup(t,{slots:e,attrs:n,expose:s}){let r=Ro("MenuItem"),i=ee(null);s({el:i,$el:i});let o=_e(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===t.id:!1),a=_e(()=>({disabled:t.disabled,textValue:"",domRef:i}));cn(()=>{var m,v;let _=(v=(m=we(i))==null?void 0:m.textContent)==null?void 0:v.toLowerCase().trim();_!==void 0&&(a.value.textValue=_)}),cn(()=>r.registerItem(t.id,a)),Gr(()=>r.unregisterItem(t.id)),Wr(()=>{r.menuState.value===0&&o.value&&r.activationTrigger.value!==0&&on(()=>{var m,v;return(v=(m=we(i))==null?void 0:m.scrollIntoView)==null?void 0:v.call(m,{block:"nearest"})})});function l(m){if(t.disabled)return m.preventDefault();r.closeMenu(),dp(we(r.buttonRef))}function c(){if(t.disabled)return r.goToItem(wt.Nothing);r.goToItem(wt.Specific,t.id)}let u=A1();function h(m){u.update(m)}function f(m){u.wasMoved(m)&&(t.disabled||o.value||r.goToItem(wt.Specific,t.id,0))}function d(m){u.wasMoved(m)&&(t.disabled||o.value&&r.goToItem(wt.Nothing))}return()=>{let{disabled:m}=t,v={active:o.value,disabled:m,close:r.closeMenu},{id:_,...A}=t;return fs({ourProps:{id:_,ref:i,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:c,onPointerenter:h,onMouseenter:h,onPointermove:f,onMousemove:f,onPointerleave:d,onMouseleave:d},theirProps:{...n,...A},slot:v,attrs:n,slots:e,name:"MenuItem"})}}});function B1(t,e){return Pe(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function V1(t,e){return Pe(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])}function U1(t,e){return Pe(),He("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}let wi;const j1=new Uint8Array(16);function q1(){if(!wi&&(wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wi(j1)}const We=[];for(let t=0;t<256;++t)We.push((t+256).toString(16).slice(1));function H1(t,e=0){return(We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]).toLowerCase()}const z1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rh={randomUUID:z1};function zi(t,e,n){if(Rh.randomUUID&&!e&&!t)return Rh.randomUUID();t=t||{};const s=t.random||(t.rng||q1)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=s[r];return e}return H1(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},K1=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},wp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),s.push(n[u],n[h],n[f],n[d])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new W1;const f=i<<2|a>>4;if(s.push(f),c!==64){const d=a<<4&240|c>>2;if(s.push(d),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(t){const e=vp(t);return wp.encodeByteArray(e,!0)},Ki=function(t){return G1(t).replace(/\./g,"")},Q1=function(t){try{return wp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=()=>Y1().__FIREBASE_DEFAULTS__,J1=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Q1(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return X1()||J1()||Z1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eE=t=>{var e,n;return(n=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tE=t=>{const e=eE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bp=()=>{var t;return(t=Ep())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ki(JSON.stringify(n)),Ki(JSON.stringify(o)),a].join(".")}function rE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _p(){try{return typeof indexedDB=="object"}catch{return!1}}function Ip(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function iE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="FirebaseError";class Vn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oE,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?aE(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Vn(r,a,s)}}function aE(t,e){return t.replace(lE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const lE=/\{\$([^}]+)}/g;function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Nh(i)&&Nh(o)){if(!Wi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Nh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=1e3,uE=2,hE=4*60*60*1e3,fE=.5;function Ph(t,e=cE,n=uE){const s=e*Math.pow(n,t),r=Math.round(fE*s*(Math.random()-.5)*2);return Math.min(hE,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gE(e))try{this.getOrInitializeService({instanceIdentifier:Wn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wn){return this.instances.has(e)}getOptions(e=Wn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wn){return this.component?this.component.multipleInstances?e:Wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pE(t){return t===Wn?void 0:t}function gE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const yE={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},vE=ue.INFO,wE={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},EE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=wE[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _c{constructor(e){this.name=e,this._logLevel=vE,this._logHandler=EE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const bE=(t,e)=>e.some(n=>t instanceof n);let Oh,Mh;function _E(){return Oh||(Oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IE(){return Mh||(Mh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tp=new WeakMap,gl=new WeakMap,Sp=new WeakMap,_a=new WeakMap,Ic=new WeakMap;function TE(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(kn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tp.set(n,t)}).catch(()=>{}),Ic.set(e,t),e}function SE(t){if(gl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gl.set(t,e)}let ml={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CE(t){ml=t(ml)}function xE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ia(this),e,...n);return Sp.set(s,e.sort?e.sort():[e]),kn(s)}:IE().includes(t)?function(...e){return t.apply(Ia(this),e),kn(Tp.get(this))}:function(...e){return kn(t.apply(Ia(this),e))}}function AE(t){return typeof t=="function"?xE(t):(t instanceof IDBTransaction&&SE(t),bE(t,_E())?new Proxy(t,ml):t)}function kn(t){if(t instanceof IDBRequest)return TE(t);if(_a.has(t))return _a.get(t);const e=AE(t);return e!==t&&(_a.set(t,e),Ic.set(e,t)),e}const Ia=t=>Ic.get(t);function DE(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=kn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(kn(o.result),l.oldVersion,l.newVersion,kn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kE=["get","getKey","getAll","getAllKeys","count"],RE=["put","add","delete","clear"],Ta=new Map;function Lh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ta.get(e))return Ta.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=RE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||kE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ta.set(e,i),i}CE(t=>({...t,get:(e,n,s)=>Lh(e,n)||t.get(e,n,s),has:(e,n)=>!!Lh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yl="@firebase/app",Fh="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new _c("@firebase/app"),OE="@firebase/app-compat",ME="@firebase/analytics-compat",LE="@firebase/analytics",FE="@firebase/app-check-compat",$E="@firebase/app-check",BE="@firebase/auth",VE="@firebase/auth-compat",UE="@firebase/database",jE="@firebase/database-compat",qE="@firebase/functions",HE="@firebase/functions-compat",zE="@firebase/installations",KE="@firebase/installations-compat",WE="@firebase/messaging",GE="@firebase/messaging-compat",QE="@firebase/performance",YE="@firebase/performance-compat",XE="@firebase/remote-config",JE="@firebase/remote-config-compat",ZE="@firebase/storage",eb="@firebase/storage-compat",tb="@firebase/firestore",nb="@firebase/firestore-compat",sb="firebase",rb="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]",ib={[yl]:"fire-core",[OE]:"fire-core-compat",[LE]:"fire-analytics",[ME]:"fire-analytics-compat",[$E]:"fire-app-check",[FE]:"fire-app-check-compat",[BE]:"fire-auth",[VE]:"fire-auth-compat",[UE]:"fire-rtdb",[jE]:"fire-rtdb-compat",[qE]:"fire-fn",[HE]:"fire-fn-compat",[zE]:"fire-iid",[KE]:"fire-iid-compat",[WE]:"fire-fcm",[GE]:"fire-fcm-compat",[QE]:"fire-perf",[YE]:"fire-perf-compat",[XE]:"fire-rc",[JE]:"fire-rc-compat",[ZE]:"fire-gcs",[eb]:"fire-gcs-compat",[tb]:"fire-fst",[nb]:"fire-fst-compat","fire-js":"fire-js",[sb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Map,wl=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){const e=t.name;if(wl.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;wl.set(e,t);for(const n of Gi.values())ob(n,t);return!0}function Yr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rn=new No("app","Firebase",ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=rb;function Cp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Rn.create("bad-app-name",{appName:String(r)});if(n||(n=bp()),!n)throw Rn.create("no-options");const i=Gi.get(r);if(i){if(Wi(n,i.options)&&Wi(s,i.config))return i;throw Rn.create("duplicate-app",{appName:r})}const o=new mE(r);for(const l of wl.values())o.addComponent(l);const a=new lb(n,s,o);return Gi.set(r,a),a}function xp(t=vl){const e=Gi.get(t);if(!e&&t===vl&&bp())return Cp();if(!e)throw Rn.create("no-app",{appName:t});return e}function Qt(t,e,n){var s;let r=(s=ib[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(a.join(" "));return}Ln(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firebase-heartbeat-database",hb=1,Or="firebase-heartbeat-store";let Sa=null;function Ap(){return Sa||(Sa=DE(ub,hb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Or)}}}).catch(t=>{throw Rn.create("idb-open",{originalErrorMessage:t.message})})),Sa}async function fb(t){try{return await(await Ap()).transaction(Or).objectStore(Or).get(Dp(t))}catch(e){if(e instanceof Vn)os.warn(e.message);else{const n=Rn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(n.message)}}}async function $h(t,e){try{const s=(await Ap()).transaction(Or,"readwrite");await s.objectStore(Or).put(e,Dp(t)),await s.done}catch(n){if(n instanceof Vn)os.warn(n.message);else{const s=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});os.warn(s.message)}}}function Dp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=1024,pb=30*24*60*60*1e3;class gb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=pb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Bh(),{heartbeatsToSend:n,unsentEntries:s}=mb(this._heartbeatsCache.heartbeats),r=Ki(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Bh(){return new Date().toISOString().substring(0,10)}function mb(t,e=db){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Vh(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _p()?Ip().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $h(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $h(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vh(t){return Ki(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){Ln(new fn("platform-logger",e=>new NE(e),"PRIVATE")),Ln(new fn("heartbeat",e=>new gb(e),"PRIVATE")),Qt(yl,Fh,t),Qt(yl,Fh,"esm2017"),Qt("fire-js","")}vb("");var wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,Tc=Tc||{},G=wb||self;function Qi(){}function Po(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Eb(t){return Object.prototype.hasOwnProperty.call(t,Ca)&&t[Ca]||(t[Ca]=++bb)}var Ca="closure_uid_"+(1e9*Math.random()>>>0),bb=0;function _b(t,e,n){return t.call.apply(t.bind,arguments)}function Ib(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ot=_b:ot=Ib,ot.apply(null,arguments)}function Ei(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Un(){this.s=this.s,this.o=this.o}var Tb=0;Un.prototype.s=!1;Un.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),Tb!=0)&&Eb(this)};Un.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Uh(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Po(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var Sb=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{G.addEventListener("test",Qi,e),G.removeEventListener("test",Qi,e)}catch{}return t}();function Yi(t){return/^[\s\xa0]*$/.test(t)}var jh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xa(t,e){return t<e?-1:t>e?1:0}function Oo(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function Wt(t){return Oo().indexOf(t)!=-1}function Cc(t){return Cc[" "](t),t}Cc[" "]=Qi;function Rp(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var Cb=Wt("Opera"),Vs=Wt("Trident")||Wt("MSIE"),Np=Wt("Edge"),El=Np||Vs,Pp=Wt("Gecko")&&!(Oo().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge"))&&!(Wt("Trident")||Wt("MSIE"))&&!Wt("Edge"),xb=Oo().toLowerCase().indexOf("webkit")!=-1&&!Wt("Edge");function Op(){var t=G.document;return t?t.documentMode:void 0}var Xi;e:{var Aa="",Da=function(){var t=Oo();if(Pp)return/rv:([^\);]+)(\)|;)/.exec(t);if(Np)return/Edge\/([\d\.]+)/.exec(t);if(Vs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xb)return/WebKit\/(\S+)/.exec(t);if(Cb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Da&&(Aa=Da?Da[1]:""),Vs){var ka=Op();if(ka!=null&&ka>parseFloat(Aa)){Xi=String(ka);break e}}Xi=Aa}var Ab={};function Db(){return Rp(Ab,9,function(){let t=0;const e=jh(String(Xi)).split("."),n=jh("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=xa(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||xa(r[2].length==0,i[2].length==0)||xa(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var bl;if(G.document&&Vs){var qh=Op();bl=qh||parseInt(Xi,10)||void 0}else bl=void 0;var kb=bl;function Mr(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Pp){e:{try{Cc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Rb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mr.$.h.call(this)}}Ke(Mr,at);var Rb={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jr="closure_listenable_"+(1e6*Math.random()|0),Nb=0;function Pb(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++Nb,this.fa=this.ia=!1}function Mo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xc(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Mp(t){const e={};for(const n in t)e[n]=t[n];return e}const Hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lp(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Hh.length;i++)n=Hh[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Lo(t){this.src=t,this.g={},this.h=0}Lo.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Il(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Pb(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function _l(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=kp(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Mo(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Il(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Ac="closure_lm_"+(1e6*Math.random()|0),Ra={};function Fp(t,e,n,s,r){if(s&&s.once)return Bp(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Fp(t,e[i],n,s,r);return null}return n=Rc(n),t&&t[Jr]?t.O(e,n,Xr(s)?!!s.capture:!!s,r):$p(t,e,n,!1,s,r)}function $p(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Xr(r)?!!r.capture:!!r,a=kc(t);if(a||(t[Ac]=a=new Lo(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=Ob(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Sb||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Up(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ob(){function t(n){return e.call(t.src,t.listener,n)}const e=Mb;return t}function Bp(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Bp(t,e[i],n,s,r);return null}return n=Rc(n),t&&t[Jr]?t.P(e,n,Xr(s)?!!s.capture:!!s,r):$p(t,e,n,!0,s,r)}function Vp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Vp(t,e[i],n,s,r);else s=Xr(s)?!!s.capture:!!s,n=Rc(n),t&&t[Jr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Il(i,n,s,r),-1<n&&(Mo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=kc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Il(e,n,s,r)),(n=-1<t?e[t]:null)&&Dc(n))}function Dc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jr])_l(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Up(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=kc(e))?(_l(n,t),n.h==0&&(n.src=null,e[Ac]=null)):Mo(t)}}}function Up(t){return t in Ra?Ra[t]:Ra[t]="on"+t}function Mb(t,e){if(t.fa)t=!0;else{e=new Mr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Dc(t),t=n.call(s,e)}return t}function kc(t){return t=t[Ac],t instanceof Lo?t:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(t){return typeof t=="function"?t:(t[Na]||(t[Na]=function(e){return t.handleEvent(e)}),t[Na])}function ze(){Un.call(this),this.i=new Lo(this),this.S=this,this.J=null}Ke(ze,Un);ze.prototype[Jr]=!0;ze.prototype.removeEventListener=function(t,e,n,s){Vp(this,t,e,n,s)};function Xe(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var r=e;e=new at(s,t),Lp(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=bi(o,s,!0,e)&&r}if(o=e.g=t,r=bi(o,s,!0,e)&&r,r=bi(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=bi(o,s,!1,e)&&r}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Mo(n[s]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ze.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function bi(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&_l(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Nc=G.JSON.stringify;function Lb(){var t=Hp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Fb{constructor(){this.h=this.g=null}add(e,n){const s=jp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var jp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $b,t=>t.reset());class $b{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Bb(t){G.setTimeout(()=>{throw t},0)}function qp(t,e){Tl||Vb(),Sl||(Tl(),Sl=!0),Hp.add(t,e)}var Tl;function Vb(){var t=G.Promise.resolve(void 0);Tl=function(){t.then(Ub)}}var Sl=!1,Hp=new Fb;function Ub(){for(var t;t=Lb();){try{t.h.call(t.g)}catch(n){Bb(n)}var e=jp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sl=!1}function Fo(t,e){ze.call(this),this.h=t||1,this.g=e||G,this.j=ot(this.qb,this),this.l=Date.now()}Ke(Fo,ze);P=Fo.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xe(this,"tick"),this.ga&&(Pc(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){Fo.$.N.call(this),Pc(this),delete this.g};function Oc(t,e,n){if(typeof t=="function")n&&(t=ot(t,n));else if(t&&typeof t.handleEvent=="function")t=ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function zp(t){t.g=Oc(()=>{t.g=null,t.i&&(t.i=!1,zp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jb extends Un{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zp(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(t){Un.call(this),this.h=t,this.g={}}Ke(Lr,Un);var zh=[];function Kp(t,e,n,s){Array.isArray(n)||(n&&(zh[0]=n.toString()),n=zh);for(var r=0;r<n.length;r++){var i=Fp(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Wp(t){xc(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dc(e)},t),t.g={}}Lr.prototype.N=function(){Lr.$.N.call(this),Wp(this)};Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $o(){this.g=!0}$o.prototype.Ea=function(){this.g=!1};function qb(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function Hb(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Ss(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Kb(t,n)+(s?" "+s:"")})}function zb(t,e){t.info(function(){return"TIMEOUT: "+e})}$o.prototype.info=function(){};function Kb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Nc(n)}catch{return e}}var ds={},Kh=null;function Bo(){return Kh=Kh||new ze}ds.Ta="serverreachability";function Gp(t){at.call(this,ds.Ta,t)}Ke(Gp,at);function Fr(t){const e=Bo();Xe(e,new Gp(e))}ds.STAT_EVENT="statevent";function Qp(t,e){at.call(this,ds.STAT_EVENT,t),this.stat=e}Ke(Qp,at);function ft(t){const e=Bo();Xe(e,new Qp(e,t))}ds.Ua="timingevent";function Yp(t,e){at.call(this,ds.Ua,t),this.size=e}Ke(Yp,at);function Zr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}var Vo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mc(){}Mc.prototype.h=null;function Wh(t){return t.h||(t.h=t.i())}function Jp(){}var ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lc(){at.call(this,"d")}Ke(Lc,at);function Fc(){at.call(this,"c")}Ke(Fc,at);var Cl;function Uo(){}Ke(Uo,Mc);Uo.prototype.g=function(){return new XMLHttpRequest};Uo.prototype.i=function(){return{}};Cl=new Uo;function ti(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Lr(this),this.P=Wb,t=El?125:void 0,this.V=new Fo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Zp}function Zp(){this.i=null,this.g="",this.h=!1}var Wb=45e3,xl={},Ji={};P=ti.prototype;P.setTimeout=function(t){this.P=t};function Al(t,e,n){t.L=1,t.v=qo(dn(e)),t.s=n,t.S=!0,eg(t,null)}function eg(t,e){t.G=Date.now(),ni(t),t.A=dn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),lg(n.i,"t",s),t.C=0,n=t.l.I,t.h=new Zp,t.g=Dg(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jb(ot(t.Pa,t,t.g),t.O)),Kp(t.U,t.g,"readystatechange",t.nb),e=t.I?Mp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fr(),qb(t.j,t.u,t.A,t.m,t.W,t.s)}P.nb=function(t){t=t.target;const e=this.M;e&&sn(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{const u=sn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||El||this.g&&(this.h.h||this.g.ja()||Xh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Fr(3):Fr(2)),jo(this);var n=this.g.da();this.aa=n;t:if(tg(this)){var s=Xh(this.g);t="";var r=s.length,i=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),wr(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Hb(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yi(a)){var c=a;break t}}c=null}if(n=c)Ss(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,n);else{this.i=!1,this.o=3,ft(12),Jn(this),wr(this);break e}}this.S?(ng(this,u,o),El&&this.i&&u==3&&(Kp(this.U,this.V,"tick",this.mb),this.V.start())):(Ss(this.j,this.m,o,null),Dl(this,o)),u==4&&Jn(this),this.i&&!this.J&&(u==4?Sg(this.l,this):(this.i=!1,ni(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Jn(this),wr(this)}}}catch{}finally{}};function tg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ng(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=Gb(t,n),r==Ji){e==4&&(t.o=4,ft(14),s=!1),Ss(t.j,t.m,null,"[Incomplete Response]");break}else if(r==xl){t.o=4,ft(15),Ss(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Ss(t.j,t.m,r,null),Dl(t,r);tg(t)&&r!=Ji&&r!=xl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hc(e),e.L=!0,ft(11))):(Ss(t.j,t.m,n,"[Invalid Chunked Response]"),Jn(t),wr(t))}P.mb=function(){if(this.g){var t=sn(this.g),e=this.g.ja();this.C<e.length&&(jo(this),ng(this,t,e),this.i&&t!=4&&ni(this))}};function Gb(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ji:(n=Number(e.substring(n,s)),isNaN(n)?xl:(s+=1,s+n>e.length?Ji:(e=e.substr(s,n),t.C=s+n,e)))}P.cancel=function(){this.J=!0,Jn(this)};function ni(t){t.Y=Date.now()+t.P,sg(t,t.P)}function sg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zr(ot(t.lb,t),e)}function jo(t){t.B&&(G.clearTimeout(t.B),t.B=null)}P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(zb(this.j,this.A),this.L!=2&&(Fr(),ft(17)),Jn(this),this.o=2,wr(this)):sg(this,this.Y-t)};function wr(t){t.l.H==0||t.J||Sg(t.l,t)}function Jn(t){jo(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Pc(t.V),Wp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Dl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||kl(n.h,t))){if(!t.K&&kl(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)to(n),Ko(n);else break e;qc(n),ft(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=Zr(ot(n.ib,n),6e3));if(1>=hg(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Zn(n,11)}else if((t.K||n.g==t)&&to(n),!Yi(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const u=c[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const h=c[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const d=t.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&($c(i,i.h),i.h=null))}if(s.F){const v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(s.Da=v,xe(s.G,s.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Ag(s,s.I?s.oa:null,s.Y),o.K){fg(s.h,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(jo(a),ni(a)),s.g=o}else Ig(s);0<n.i.length&&Wo(n)}else c[0]!="stop"&&c[0]!="close"||Zn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zn(n,7):jc(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Fr(4)}catch{}}function Qb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Po(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function Yb(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Po(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function rg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Po(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Yb(t),s=Qb(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var ig=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function rs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rs){this.h=e!==void 0?e:t.h,Zi(this,t.j),this.s=t.s,this.g=t.g,eo(this,t.m),this.l=t.l,e=t.i;var n=new $r;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gh(this,n),this.o=t.o}else t&&(n=String(t).match(ig))?(this.h=!!e,Zi(this,n[1]||"",!0),this.s=ur(n[2]||""),this.g=ur(n[3]||"",!0),eo(this,n[4]),this.l=ur(n[5]||"",!0),Gh(this,n[6]||"",!0),this.o=ur(n[7]||"")):(this.h=!!e,this.i=new $r(null,this.h))}rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hr(e,Qh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hr(e,Qh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hr(n,n.charAt(0)=="/"?e_:Zb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hr(n,n_)),t.join("")};function dn(t){return new rs(t)}function Zi(t,e,n){t.j=n?ur(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Gh(t,e,n){e instanceof $r?(t.i=e,s_(t.i,t.h)):(n||(e=hr(e,t_)),t.i=new $r(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function qo(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ur(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Jb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Qh=/[#\/\?@]/g,Zb=/[#\?:]/g,e_=/[#\?]/g,t_=/[#\?@]/g,n_=/#/g;function $r(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jn(t){t.g||(t.g=new Map,t.h=0,t.i&&Xb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=$r.prototype;P.add=function(t,e){jn(this),this.i=null,t=Xs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function og(t,e){jn(t),e=Xs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ag(t,e){return jn(t),e=Xs(t,e),t.g.has(e)}P.forEach=function(t,e){jn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};P.sa=function(){jn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};P.Z=function(t){jn(this);let e=[];if(typeof t=="string")ag(this,t)&&(e=e.concat(this.g.get(Xs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return jn(this),this.i=null,t=Xs(this,t),ag(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lg(t,e,n){og(t,e),0<n.length&&(t.i=null,t.g.set(Xs(t,e),Sc(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Xs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function s_(t,e){e&&!t.j&&(jn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(og(this,s),lg(this,r,n))},t)),t.j=e}var r_=class{constructor(t,e){this.h=t,this.g=e}};function cg(t){this.l=t||i_,G.PerformanceNavigationTiming?(t=G.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i_=10;function ug(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hg(t){return t.h?1:t.g?t.g.size:0}function kl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $c(t,e){t.g?t.g.add(e):t.h=e}function fg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cg.prototype.cancel=function(){if(this.i=dg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dg(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Sc(t.i)}function Bc(){}Bc.prototype.stringify=function(t){return G.JSON.stringify(t,void 0)};Bc.prototype.parse=function(t){return G.JSON.parse(t,void 0)};function o_(){this.g=new Bc}function a_(t,e,n){const s=n||"";try{rg(t,function(r,i){let o=r;Xr(r)&&(o=Nc(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function l_(t,e){const n=new $o;if(G.Image){const s=new Image;s.onload=Ei(_i,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ei(_i,n,s,"TestLoadImage: error",!1,e),s.onabort=Ei(_i,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ei(_i,n,s,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function _i(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function si(t){this.l=t.fc||null,this.j=t.ob||!1}Ke(si,Mc);si.prototype.g=function(){return new Ho(this.l,this.j)};si.prototype.i=function(t){return function(){return t}}({});function Ho(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Vc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Ho,ze);var Vc=0;P=Ho.prototype;P.open=function(t,e){if(this.readyState!=Vc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Br(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=Vc};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pg(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pg(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ri(this):Br(this),this.readyState==3&&pg(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,ri(this))};P.Ya=function(t){this.g&&(this.response=t,ri(this))};P.ka=function(){this.g&&ri(this)};function ri(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Br(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Br(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var c_=G.JSON.parse;function Re(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gg,this.L=this.M=!1}Ke(Re,ze);var gg="",u_=/^https?$/i,h_=["POST","PUT"];P=Re.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cl.g(),this.C=this.u?Wh(this.u):Wh(Cl),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Yh(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=G.FormData&&t instanceof G.FormData,!(0<=kp(h_,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vg(this),0<this.B&&((this.L=f_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=Oc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Yh(this,i)}};function f_(t){return Vs&&Db()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof Tc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function Yh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mg(t),zo(t)}function mg(t){t.F||(t.F=!0,Xe(t,"complete"),Xe(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),zo(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zo(this,!0)),Re.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?yg(this):this.kb())};P.kb=function(){yg(this)};function yg(t){if(t.h&&typeof Tc<"u"&&(!t.C[1]||sn(t)!=4||t.da()!=2)){if(t.v&&sn(t)==4)Oc(t.La,0,t);else if(Xe(t,"readystatechange"),sn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.I).match(ig)[1]||null;if(!r&&G.self&&G.self.location){var i=G.self.location.protocol;r=i.substr(0,i.length-1)}s=!u_.test(r?r.toLowerCase():"")}n=s}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<sn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",mg(t)}}finally{zo(t)}}}}function zo(t,e){if(t.g){vg(t);const n=t.g,s=t.C[0]?Qi:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=s}catch{}}}function vg(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}function sn(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),c_(e)}};function Xh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wg(t){let e="";return xc(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Uc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=wg(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Eg(t){this.Ga=0,this.i=[],this.j=new $o,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=or("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=or("baseRetryDelayMs",5e3,t),this.hb=or("retryDelaySeedMs",1e4,t),this.eb=or("forwardChannelMaxRetries",2,t),this.xa=or("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new cg(t&&t.concurrentRequestLimit),this.Ja=new o_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}P=Eg.prototype;P.qa=8;P.H=1;function jc(t){if(bg(t),t.H==3){var e=t.W++,n=dn(t.G);xe(n,"SID",t.J),xe(n,"RID",e),xe(n,"TYPE","terminate"),ii(t,n),e=new ti(t,t.j,e,void 0),e.L=2,e.v=qo(dn(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&(new Image().src=e.v,n=!0),n||(e.g=Dg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ni(e)}xg(t)}function Ko(t){t.g&&(Hc(t),t.g.cancel(),t.g=null)}function bg(t){Ko(t),t.u&&(G.clearTimeout(t.u),t.u=null),to(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&G.clearTimeout(t.m),t.m=null)}function Wo(t){ug(t.h)||t.m||(t.m=!0,qp(t.Na,t),t.C=0)}function d_(t,e){return hg(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zr(ot(t.Na,t,e),Cg(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ti(this,this.j,t,void 0);let i=this.s;if(this.U&&(i?(i=Mp(i),Lp(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=_g(this,r,e),n=dn(this.G),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),ii(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(wg(i)))+"&"+e:this.o&&Uc(n,this.o,i)),$c(this.h,r),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),r.ba=!0,Al(r,n,null)):Al(r,n,e),this.H=2}}else this.H==3&&(t?Jh(this,t):this.i.length==0||ug(this.h)||Jh(this))};function Jh(t,e){var n;e?n=e.m:n=t.W++;const s=dn(t.G);xe(s,"SID",t.J),xe(s,"RID",n),xe(s,"AID",t.V),ii(t,s),t.o&&t.s&&Uc(s,t.o,t.s),n=new ti(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=_g(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$c(t.h,n),Al(n,s,e)}function ii(t,e){t.ma&&xc(t.ma,function(n,s){xe(e,s,n)}),t.l&&rg({},function(n,s){xe(e,s,n)})}function _g(t,e,n){n=Math.min(t.i.length,n);var s=t.l?ot(t.l.Va,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{a_(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function Ig(t){t.g||t.u||(t.ba=1,qp(t.Ma,t),t.A=0)}function qc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zr(ot(t.Ma,t),Cg(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,Tg(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Zr(ot(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ft(10),Ko(this),Tg(this))};function Hc(t){t.B!=null&&(G.clearTimeout(t.B),t.B=null)}function Tg(t){t.g=new ti(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dn(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.J),xe(e,"CI",t.M?"0":"1"),xe(e,"AID",t.V),xe(e,"TYPE","xmlhttp"),ii(t,e),t.o&&t.s&&Uc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=qo(dn(e)),n.s=null,n.S=!0,eg(n,t)}P.ib=function(){this.v!=null&&(this.v=null,Ko(this),qc(this),ft(19))};function to(t){t.v!=null&&(G.clearTimeout(t.v),t.v=null)}function Sg(t,e){var n=null;if(t.g==e){to(t),Hc(t),t.g=null;var s=2}else if(kl(t.h,e))n=e.F,fg(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=Bo(),Xe(s,new Yp(s,n)),Wo(t)}else Ig(t);else if(r=e.o,r==3||r==0&&0<t.ta||!(s==1&&d_(t,e)||s==2&&qc(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Zn(t,5);break;case 4:Zn(t,10);break;case 3:Zn(t,6);break;default:Zn(t,2)}}}function Cg(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Zn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=ot(t.pb,t);n||(n=new rs("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||Zi(n,"https"),qo(n)),l_(n.toString(),s)}else ft(2);t.H=0,t.l&&t.l.za(e),xg(t),bg(t)}P.pb=function(t){t?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function xg(t){if(t.H=0,t.pa=[],t.l){const e=dg(t.h);(e.length!=0||t.i.length!=0)&&(Uh(t.pa,e),Uh(t.pa,t.i),t.h.i.length=0,Sc(t.i),t.i.length=0),t.l.ya()}}function Ag(t,e,n){var s=n instanceof rs?dn(n):new rs(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),eo(s,s.m);else{var r=G.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new rs(null,void 0);s&&Zi(i,s),e&&(i.g=e),r&&eo(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&xe(s,n,e),xe(s,"VER",t.qa),ii(t,s),s}function Dg(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Re(new si({ob:!0})):new Re(t.va),e.Oa(t.I),e}function kg(){}P=kg.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.Va=function(){};function no(){if(Vs&&!(10<=Number(kb)))throw Error("Environmental error: no available transport.")}no.prototype.g=function(t,e){return new _t(t,e)};function _t(t,e){ze.call(this),this.g=new Eg(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Js(this)}Ke(_t,ze);_t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;ft(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=Ag(t,null,t.Y),Wo(t)};_t.prototype.close=function(){jc(this.g)};_t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nc(t),t=n);e.i.push(new r_(e.fb++,t)),e.H==3&&Wo(e)};_t.prototype.N=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,_t.$.N.call(this)};function Rg(t){Lc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(Rg,Lc);function Ng(){Fc.call(this),this.status=1}Ke(Ng,Fc);function Js(t){this.g=t}Ke(Js,kg);Js.prototype.Ba=function(){Xe(this.g,"a")};Js.prototype.Aa=function(t){Xe(this.g,new Rg(t))};Js.prototype.za=function(t){Xe(this.g,new Ng)};Js.prototype.ya=function(){Xe(this.g,"b")};function p_(){this.blockSize=-1}function $t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke($t,p_);$t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Pa(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}$t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)Pa(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){Pa(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){Pa(this,s),r=0;break}}this.h=r,this.i+=e};$t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function pe(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var g_={};function zc(t){return-128<=t&&128>t?Rp(g_,t,function(e){return new pe([e|0],0>e?-1:0)}):new pe([t|0],0>t?-1:0)}function Gt(t){if(isNaN(t)||!isFinite(t))return ks;if(0>t)return Qe(Gt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Rl;return new pe(e,0)}function Pg(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qe(Pg(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gt(Math.pow(e,8)),s=ks,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=Gt(Math.pow(e,i)),s=s.R(i).add(Gt(o))):(s=s.R(n),s=s.add(Gt(o)))}return s}var Rl=4294967296,ks=zc(0),Nl=zc(1),Zh=zc(16777216);P=pe.prototype;P.ea=function(){if(Tt(this))return-Qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Rl+s)*e,e*=Rl}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(rn(this))return"0";if(Tt(this))return"-"+Qe(this).toString(t);for(var e=Gt(Math.pow(t,6)),n=this,s="";;){var r=ro(n,e).g;n=so(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,rn(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function rn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}P.X=function(t){return t=so(this,t),Tt(t)?-1:rn(t)?0:1};function Qe(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new pe(n,~t.h).add(Nl)}P.abs=function(){return Tt(this)?Qe(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new pe(n,n[n.length-1]&-2147483648?-1:0)};function so(t,e){return t.add(Qe(e))}P.R=function(t){if(rn(this)||rn(t))return ks;if(Tt(this))return Tt(t)?Qe(this).R(Qe(t)):Qe(Qe(this).R(t));if(Tt(t))return Qe(this.R(Qe(t)));if(0>this.X(Zh)&&0>t.X(Zh))return Gt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*s+2*r]+=o*l,Ii(n,2*s+2*r),n[2*s+2*r+1]+=i*l,Ii(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,Ii(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,Ii(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new pe(n,0)};function Ii(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ar(t,e){this.g=t,this.h=e}function ro(t,e){if(rn(e))throw Error("division by zero");if(rn(t))return new ar(ks,ks);if(Tt(t))return e=ro(Qe(t),e),new ar(Qe(e.g),Qe(e.h));if(Tt(e))return e=ro(t,Qe(e)),new ar(Qe(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Nl,s=e;0>=s.X(t);)n=ef(n),s=ef(s);var r=Es(n,1),i=Es(s,1);for(s=Es(s,2),n=Es(n,2);!rn(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=Es(s,1),n=Es(n,1)}return e=so(t,r.R(e)),new ar(r,e)}for(r=ks;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=Gt(n),o=i.R(e);Tt(o)||0<o.X(t);)n-=s,i=Gt(n),o=i.R(e);rn(i)&&(i=Nl),r=r.add(i),t=so(t,o)}return new ar(r,t)}P.gb=function(t){return ro(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new pe(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new pe(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new pe(n,this.h^t.h)};function ef(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new pe(n,t.h)}function Es(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new pe(r,t.h)}no.prototype.createWebChannel=no.prototype.g;_t.prototype.send=_t.prototype.u;_t.prototype.open=_t.prototype.m;_t.prototype.close=_t.prototype.close;Vo.NO_ERROR=0;Vo.TIMEOUT=8;Vo.HTTP_ERROR=6;Xp.COMPLETE="complete";Jp.EventType=ei;ei.OPEN="a";ei.CLOSE="b";ei.ERROR="c";ei.MESSAGE="d";ze.prototype.listen=ze.prototype.O;Re.prototype.listenOnce=Re.prototype.P;Re.prototype.getLastError=Re.prototype.Sa;Re.prototype.getLastErrorCode=Re.prototype.Ia;Re.prototype.getStatus=Re.prototype.da;Re.prototype.getResponseJson=Re.prototype.Wa;Re.prototype.getResponseText=Re.prototype.ja;Re.prototype.send=Re.prototype.ha;Re.prototype.setWithCredentials=Re.prototype.Oa;$t.prototype.digest=$t.prototype.l;$t.prototype.reset=$t.prototype.reset;$t.prototype.update=$t.prototype.j;pe.prototype.add=pe.prototype.add;pe.prototype.multiply=pe.prototype.R;pe.prototype.modulo=pe.prototype.gb;pe.prototype.compare=pe.prototype.X;pe.prototype.toNumber=pe.prototype.ea;pe.prototype.toString=pe.prototype.toString;pe.prototype.getBits=pe.prototype.D;pe.fromNumber=Gt;pe.fromString=Pg;var m_=function(){return new no},y_=function(){return Bo()},Oa=Vo,v_=Xp,w_=ds,tf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},E_=si,Ti=Jp,b_=Re,__=$t,Rs=pe;const nf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new _c("@firebase/firestore");function sf(){return as.logLevel}function $(t,...e){if(as.logLevel<=ue.DEBUG){const n=e.map(Kc);as.debug(`Firestore (${Zs}): ${t}`,...n)}}function pn(t,...e){if(as.logLevel<=ue.ERROR){const n=e.map(Kc);as.error(`Firestore (${Zs}): ${t}`,...n)}}function Us(t,...e){if(as.logLevel<=ue.WARN){const n=e.map(Kc);as.warn(`Firestore (${Zs}): ${t}`,...n)}}function Kc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function Ie(t,e){t||W()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class T_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S_{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string"),new Og(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new et(e)}}class C_{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class x_{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new C_(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.T=n.token,new A_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=k_(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ae(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new je(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new je(0,0))}static max(){return new Y(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s){n===void 0?n=0:n>e.length&&W(),s===void 0?s=e.length-n:s>e.length-n&&W(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Vr{construct(e,n,s){return new Ae(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(S.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const R_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Vr{construct(e,n,s){return new rt(e,n,s)}static isValidIdentifier(e){return R_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new H(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new H(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Ae.fromString(e))}static fromName(e){return new z(Ae.fromString(e).popFirst(5))}static empty(){return new z(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Ae(e.slice()))}}function N_(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(s===1e9?new je(n+1,0):new je(n,s));return new Fn(r,z.empty(),e)}function P_(t){return new Fn(t.readTime,t.key,-1)}class Fn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fn(Y.min(),z.empty(),-1)}static max(){return new Fn(Y.max(),z.empty(),-1)}}function O_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t){if(t.code!==S.FAILED_PRECONDITION||t.message!==M_)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,s)=>{n(e)})}static reject(e){return new x((n,s)=>{s(e)})}static waitFor(e){return new x((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=x.resolve(!1);for(const s of e)n=n.next(r=>r?x.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new x((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new x((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function ai(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Wc.ct=-1;function Go(t){return t==null}function io(t){return t===0&&1/t==-1/0}function F_(t){return typeof t=="number"&&Number.isInteger(t)&&!io(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function er(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Lg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Si(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Si(this.root,e,this.comparator,!1)}getReverseIterator(){return new Si(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Si(this.root,e,this.comparator,!0)}}class Si{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Ge.RED,this.left=r!=null?r:Ge.EMPTY,this.right=i!=null?i:Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Ge(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class of{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new lt(rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Fg("Invalid base64 string: "+r):r}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const $_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=$_.exec(t);if(Ie(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qc(t){const e=t.mapValue.fields.__previous_value__;return Gc(e)?Qc(e):e}function Ur(t){const e=$n(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,s,r,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gc(t)?4:V_(t)?9007199254740991:10:W()}function Xt(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ur(t).isEqual(Ur(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=$n(s.timestampValue),o=$n(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ls(s.bytesValue).isEqual(ls(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Le(s.geoPointValue.latitude)===Le(r.geoPointValue.latitude)&&Le(s.geoPointValue.longitude)===Le(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Le(s.integerValue)===Le(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Le(s.doubleValue),o=Le(r.doubleValue);return i===o?io(i)===io(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(rf(i)!==rf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Xt(i[a],o[a])))return!1;return!0}(t,e);default:return W()}}function qr(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function qs(t,e){if(t===e)return 0;const n=cs(t),s=cs(e);if(n!==s)return ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Le(r.integerValue||r.doubleValue),a=Le(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return af(t.timestampValue,e.timestampValue);case 4:return af(Ur(t),Ur(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(r,i){const o=ls(r),a=ls(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ae(o[l],a[l]);if(c!==0)return c}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ae(Le(r.latitude),Le(i.latitude));return o!==0?o:ae(Le(r.longitude),Le(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=qs(o[l],a[l]);if(c)return c}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Ci.mapValue&&i===Ci.mapValue)return 0;if(r===Ci.mapValue)return 1;if(i===Ci.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=ae(a[u],c[u]);if(h!==0)return h;const f=qs(o[a[u]],l[c[u]]);if(f!==0)return f}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw W()}}function af(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=$n(t),s=$n(e),r=ae(n.seconds,s.seconds);return r!==0?r:ae(n.nanos,s.nanos)}function Hs(t){return Pl(t)}function Pl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=$n(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ls(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Pl(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Pl(s.fields[a])}`;return i+"}"}(t.mapValue):W();var e,n}function Ol(t){return!!t&&"integerValue"in t}function Yc(t){return!!t&&"arrayValue"in t}function lf(t){return!!t&&"nullValue"in t}function cf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mi(t){return!!t&&"mapValue"in t}function Er(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return er(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Er(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Er(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mi(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Er(n)}setAll(e){let n=rt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Er(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Mi(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Mi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){er(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new St(Er(this.value))}}function $g(t){const e=[];return er(t.fields,(n,s)=>{const r=new rt([n]);if(Mi(s)){const i=$g(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,Y.min(),Y.min(),Y.min(),St.empty(),0)}static newFoundDocument(e,n,s,r){return new nt(e,1,n,Y.min(),s,r,0)}static newNoDocument(e,n){return new nt(e,2,n,Y.min(),Y.min(),St.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,Y.min(),Y.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.position=e,this.inclusive=n}}function uf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=z.comparator(z.fromName(o.referenceValue),n.key):s=qs(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function hf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n="asc"){this.field=e,this.dir=n}}function U_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{}class Ue extends Bg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new q_(e,n,s):n==="array-contains"?new K_(e,s):n==="in"?new W_(e,s):n==="not-in"?new G_(e,s):n==="array-contains-any"?new Q_(e,s):new Ue(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H_(e,s):new z_(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qs(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jt extends Bg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Jt(e,n)}matches(e){return Vg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vg(t){return t.op==="and"}function Ug(t){return j_(t)&&Vg(t)}function j_(t){for(const e of t.filters)if(e instanceof Jt)return!1;return!0}function Ml(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(Ug(t))return t.filters.map(e=>Ml(e)).join(",");{const e=t.filters.map(n=>Ml(n)).join(",");return`${t.op}(${e})`}}function jg(t,e){return t instanceof Ue?function(n,s){return s instanceof Ue&&n.op===s.op&&n.field.isEqual(s.field)&&Xt(n.value,s.value)}(t,e):t instanceof Jt?function(n,s){return s instanceof Jt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&jg(i,s.filters[o]),!0):!1}(t,e):void W()}function qg(t){return t instanceof Ue?function(e){return`${e.field.canonicalString()} ${e.op} ${Hs(e.value)}`}(t):t instanceof Jt?function(e){return e.op.toString()+" {"+e.getFilters().map(qg).join(" ,")+"}"}(t):"Filter"}class q_ extends Ue{constructor(e,n,s){super(e,n,s),this.key=z.fromName(s.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class H_ extends Ue{constructor(e,n){super(e,"in",n),this.keys=Hg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z_ extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=Hg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>z.fromName(s.referenceValue))}class K_ extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yc(n)&&qr(n.arrayValue,this.value)}}class W_ extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qr(this.value.arrayValue,n)}}class G_ extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qr(this.value.arrayValue,n)}}class Q_ extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function ff(t,e=null,n=[],s=[],r=null,i=null,o=null){return new Y_(t,e,n,s,r,i,o)}function Xc(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ml(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Go(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Hs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Hs(s)).join(",")),e.dt=n}return e.dt}function Jc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hf(t.startAt,e.startAt)&&hf(t.endAt,e.endAt)}function Ll(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function X_(t,e,n,s,r,i,o,a){return new Qo(t,e,n,s,r,i,o,a)}function Zc(t){return new Qo(t)}function df(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Z_(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function eI(t){return t.collectionGroup!==null}function Ns(t){const e=J(t);if(e.wt===null){e.wt=[];const n=Z_(e),s=J_(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new br(n)),e.wt.push(new br(rt.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new br(rt.keyField(),i))}}}return e.wt}function gn(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=ff(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ns(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new br(i.field,o))}const s=e.endAt?new oo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new oo(e.startAt.position,e.startAt.inclusive):null;e._t=ff(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function Fl(t,e,n){return new Qo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yo(t,e){return Jc(gn(t),gn(e))&&t.limitType===e.limitType}function zg(t){return`${Xc(gn(t))}|lt:${t.limitType}`}function $l(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>qg(s)).join(", ")}]`),Go(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Hs(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Hs(s)).join(",")),`Target(${n})`}(gn(t))}; limitType=${t.limitType})`}function Xo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Ns(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=uf(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ns(n),s)||n.endAt&&!function(r,i,o){const a=uf(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ns(n),s))}(t,e)}function tI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kg(t){return(e,n)=>{let s=!1;for(const r of Ns(t)){const i=nI(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function nI(t,e,n){const s=t.field.isKeyField()?z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?qs(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){er(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Lg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new De(z.comparator);function mn(){return sI}const Wg=new De(z.comparator);function fr(...t){let e=Wg;for(const n of t)e=e.insert(n.key,n);return e}function Gg(t){let e=Wg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function es(){return _r()}function Qg(){return _r()}function _r(){return new tr(t=>t.toString(),(t,e)=>t.isEqual(e))}const rI=new De(z.comparator),iI=new lt(z.comparator);function ne(...t){let e=iI;for(const n of t)e=e.add(n);return e}const oI=new lt(ae);function aI(){return oI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(e)?"-0":e}}function Xg(t){return{integerValue:""+t}}function lI(t,e){return F_(e)?Xg(e):Yg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this._=void 0}}function cI(t,e,n){return t instanceof ao?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Gc(r)&&(r=Qc(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Hr?Zg(t,e):t instanceof zr?em(t,e):function(s,r){const i=Jg(s,r),o=pf(i)+pf(s.gt);return Ol(i)&&Ol(s.gt)?Xg(o):Yg(s.serializer,o)}(t,e)}function uI(t,e,n){return t instanceof Hr?Zg(t,e):t instanceof zr?em(t,e):n}function Jg(t,e){return t instanceof lo?Ol(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ao extends Jo{}class Hr extends Jo{constructor(e){super(),this.elements=e}}function Zg(t,e){const n=tm(e);for(const s of t.elements)n.some(r=>Xt(r,s))||n.push(s);return{arrayValue:{values:n}}}class zr extends Jo{constructor(e){super(),this.elements=e}}function em(t,e){let n=tm(e);for(const s of t.elements)n=n.filter(r=>!Xt(r,s));return{arrayValue:{values:n}}}class lo extends Jo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function pf(t){return Le(t.integerValue||t.doubleValue)}function tm(t){return Yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hI(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Hr&&s instanceof Hr||n instanceof zr&&s instanceof zr?js(n.elements,s.elements,Xt):n instanceof lo&&s instanceof lo?Xt(n.gt,s.gt):n instanceof ao&&s instanceof ao}(t.transform,e.transform)}class fI{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Li(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zo{}function nm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rm(t.key,an.none()):new li(t.key,t.data,an.none());{const n=t.data,s=St.empty();let r=new lt(rt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new ps(t.key,s,new Ot(r.toArray()),an.none())}}function dI(t,e,n){t instanceof li?function(s,r,i){const o=s.value.clone(),a=mf(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(s,r,i){if(!Li(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=mf(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(sm(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ir(t,e,n,s){return t instanceof li?function(r,i,o,a){if(!Li(r.precondition,i))return o;const l=r.value.clone(),c=yf(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof ps?function(r,i,o,a){if(!Li(r.precondition,i))return o;const l=yf(r.fieldTransforms,a,i),c=i.data;return c.setAll(sm(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Li(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function pI(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Jg(s.transform,r||null);i!=null&&(n===null&&(n=St.empty()),n.set(s.field,i))}return n||null}function gf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&js(n,s,(r,i)=>hI(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class li extends Zo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ps extends Zo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function mf(t,e,n){const s=new Map;Ie(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,uI(o,a,n[r]))}return s}function yf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,cI(i,o,e))}return s}class rm extends Zo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends Zo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&dI(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Qg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=nm(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,s)=>gf(n,s))&&js(this.baseMutations,e.baseMutations,(n,s)=>gf(n,s))}}class eu{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ie(e.mutations.length===s.length);let r=rI;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new eu(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,se;function wI(t){switch(t){default:return W();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function im(t){if(t===void 0)return pn("GRPC error has no .code"),S.UNKNOWN;switch(t){case Me.OK:return S.OK;case Me.CANCELLED:return S.CANCELLED;case Me.UNKNOWN:return S.UNKNOWN;case Me.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Me.INTERNAL:return S.INTERNAL;case Me.UNAVAILABLE:return S.UNAVAILABLE;case Me.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Me.NOT_FOUND:return S.NOT_FOUND;case Me.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Me.ABORTED:return S.ABORTED;case Me.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Me.DATA_LOSS:return S.DATA_LOSS;default:return W()}}(se=Me||(Me={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xi}static getOrCreateInstance(){return xi===null&&(xi=new tu),xi}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xi=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Rs([4294967295,4294967295],0);function vf(t){const e=EI().encode(t),n=new __;return n.update(e),new Uint8Array(n.digest())}function wf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,s],0),new Rs([r,i],0)]}class nu{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dr(`Invalid padding: ${n}`);if(s<0)throw new dr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new dr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Rs.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(Rs.fromNumber(s)));return r.compare(bI)===1&&(r=new Rs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=vf(e),[s,r]=wf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new nu(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=vf(e),[s,r]=wf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class dr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ci.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ea(Y.min(),r,new De(ae),mn(),ne())}}class ci{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ci(s,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class om{constructor(e,n){this.targetId=e,this.Vt=n}}class am{constructor(e,n,s=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Ef{constructor(){this.St=0,this.Dt=_f(),this.Ct=ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),s=ne();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:W()}}),new ci(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=_f()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _I{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=mn(),this.zt=bf(),this.Wt=new De(ae)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(Ll(o))if(r===0){const a=new z(o.path);this.Yt(s,a,nt.newNoDocument(a,Y.min()))}else Ie(r===1);else{const a=this.ie(s);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=tu.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,d,m,v,_,A;const N={localCacheCount:u,existenceFilterCount:h.count},U=h.unchangedNames;return U&&(N.bloomFilter={applied:c===0,hashCount:(f=U==null?void 0:U.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(m=(d=U==null?void 0:U.bits)===null||d===void 0?void 0:d.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(A=(_=U==null?void 0:U.bits)===null||_===void 0?void 0:_.padding)!==null&&A!==void 0?A:0}),N}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=ls(i).toUint8Array()}catch(u){if(u instanceof Fg)return Us("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new nu(l,o,a)}catch(u){return Us(u instanceof dr?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Ll(a.target)){const l=new z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,nt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=ne();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new ea(e,n,this.Wt,this.jt,s);return this.jt=mn(),this.zt=bf(),this.Wt=new De(ae),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Ef,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new lt(ae),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ef),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function bf(){return new De(z.comparator)}function _f(){return new De(z.comparator)}const II=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),TI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SI=(()=>({and:"AND",or:"OR"}))();class CI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bl(t,e){return t.useProto3Json||Go(e)?e:{value:e}}function co(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xI(t,e){return co(t,e.toTimestamp())}function Yt(t){return Ie(!!t),Y.fromTimestamp(function(e){const n=$n(e);return new je(n.seconds,n.nanos)}(t))}function su(t,e){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function cm(t){const e=Ae.fromString(t);return Ie(dm(e)),e}function Vl(t,e){return su(t.databaseId,e.path)}function Ma(t,e){const n=cm(e);if(n.get(1)!==t.databaseId.projectId)throw new H(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(um(n))}function Ul(t,e){return su(t.databaseId,e)}function AI(t){const e=cm(t);return e.length===4?Ae.emptyPath():um(e)}function jl(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function um(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function If(t,e,n){return{name:Vl(t,e),fields:n.value.mapValue.fields}}function DI(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Ie(c===void 0||typeof c=="string"),ct.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Uint8Array),ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?S.UNKNOWN:im(l.code);return new H(c,l.message||"")}(o);n=new am(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ma(t,s.document.name),i=Yt(s.document.updateTime),o=s.document.createTime?Yt(s.document.createTime):Y.min(),a=new St({mapValue:{fields:s.document.fields}}),l=nt.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new Fi(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ma(t,s.document),i=s.readTime?Yt(s.readTime):Y.min(),o=nt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Fi([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ma(t,s.document),i=s.removedTargetIds||[];n=new Fi([],i,r,null)}else{if(!("filter"in e))return W();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new vI(r,i),a=s.targetId;n=new om(a,o)}}return n}function kI(t,e){let n;if(e instanceof li)n={update:If(t,e.key,e.value)};else if(e instanceof rm)n={delete:Vl(t,e.key)};else if(e instanceof ps)n={update:If(t,e.key,e.data),updateMask:BI(e.fieldMask)};else{if(!(e instanceof gI))return W();n={verify:Vl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof ao)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Hr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lo)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw W()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:xI(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W()}(t,e.precondition)),n}function RI(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Yt(s.updateTime):Yt(r);return i.isEqual(Y.min())&&(i=Yt(r)),new fI(i,s.transformResults||[])}(n,e))):[]}function NI(t,e){return{documents:[Ul(t,e.path)]}}function PI(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ul(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ul(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return fm(Jt.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Is(u.field),direction:LI(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Bl(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function OI(t){let e=AI(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ie(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=hm(u);return h instanceof Jt&&Ug(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new br(Ts(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Go(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new oo(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new oo(f,h)}(n.endAt)),X_(e,r,o,i,a,"F",l,c)}function MI(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hm(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ts(e.unaryFilter.field);return Ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ts(e.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ts(e.unaryFilter.field);return Ue.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ts(e.unaryFilter.field);return Ue.create(i,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return Ue.create(Ts(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Jt.create(e.compositeFilter.filters.map(n=>hm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function LI(t){return II[t]}function FI(t){return TI[t]}function $I(t){return SI[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Ts(t){return rt.fromServerFormat(t.fieldPath)}function fm(t){return t instanceof Ue?function(e){if(e.op==="=="){if(cf(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NAN"}};if(lf(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(cf(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NAN"}};if(lf(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(e.field),op:FI(e.op),value:e.value}}}(t):t instanceof Jt?function(e){const n=e.getFilters().map(s=>fm(s));return n.length===1?n[0]:{compositeFilter:{op:$I(e.op),filters:n}}}(t):W()}function BI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,s,r,i=Y.min(),o=Y.min(),a=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.fe=e}}function UI(t){const e=OI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.rn=new qI}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Fn.min())}updateCollectionGroup(e,n,s){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class qI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new lt(Ae.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new lt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zs(0)}static Mn(){return new zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.changes=new tr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?x.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ir(s.mutation,r,Ot.empty(),je.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ne()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ne()){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=fr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=es();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ne()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=mn();const o=_r(),a=_r();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ps)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ir(u.mutation,c,u.mutation.getFieldMask(),je.now())):o.set(c.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new zI(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=_r();let r=new De((o,a)=>o-a),i=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Ot.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||ne()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Qg();u.forEach(f=>{if(!i.has(f)){const d=nm(n.get(f),s.get(f));d!==null&&h.set(f,d),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return x.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):x.resolve(es());let a=-1,l=i;return o.next(c=>x.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?x.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ne())).next(u=>({batchId:a,changes:Gg(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(s=>{let r=fr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=fr();return this.indexManager.getCollectionParents(e,r).next(o=>x.forEach(o,a=>{const l=function(c,u){return new Qo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,nt.newInvalidDocument(c)))});let o=fr();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Ir(c.mutation,l,Ot.empty(),je.now()),Xo(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Yt(s.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:UI(s.bundledQuery),readTime:Yt(s.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.overlays=new De(z.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const s=es();return x.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),x.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),x.resolve()}getOverlaysForCollection(e,n,s){const r=es(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return x.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new De((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=es(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=es(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return x.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new yI(n,s));let i=this.ls.get(n);i===void 0&&(i=ne(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.fs=new lt(qe.ds),this.ws=new lt(qe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new qe(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new qe(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new z(new Ae([])),s=new qe(n,e),r=new qe(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new z(new Ae([])),s=new qe(n,e),r=new qe(n,e+1);let i=ne();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qe(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qe{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return z.comparator(e.key,n.key)||ae(e.As,n.As)}static _s(e,n){return ae(e.As,n.As)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new lt(qe.ds)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mI(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return x.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qe(n,0),r=new qe(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),x.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new lt(ae);return n.forEach(r=>{const i=new qe(r,0),o=new qe(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),x.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;z.isDocumentKey(i)||(i=i.child(""));const o=new qe(new z(i),0);let a=new lt(ae);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),x.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ie(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return x.forEach(n.mutations,r=>{const i=new qe(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new qe(n,0),r=this.Rs.firstAfterOrEqual(s);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Ds=e,this.docs=new De(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return x.resolve(s?s.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let s=mn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():nt.newInvalidDocument(r))}),x.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=mn();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||O_(P_(u),s)<=0||(r.has(u.key)||Xo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(e,n,s,r){W()}Cs(e,n){return x.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new XI(this)}getSize(e){return x.resolve(this.size)}}class XI extends HI{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.xs=new tr(n=>Xc(n),Jc),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ru,this.targetCount=0,this.Ms=zs.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),x.waitFor(i).next(()=>r)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return x.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),x.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),x.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return x.resolve(s)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.$s={},this.overlays={},this.Os=new Wc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new JI(this),this.indexManager=new jI,this.remoteDocumentCache=function(s){return new YI(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new VI(n),this.qs=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new QI(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){$("MemoryPersistence","Starting transaction:",e);const r=new eT(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return x.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class eT extends L_{constructor(e){super(),this.currentSequenceNumber=e}}class iu{constructor(e){this.persistence=e,this.Qs=new ru,this.js=null}static zs(e){return new iu(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),x.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,s=>{const r=z.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,Y.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=ne(),r=ne();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ou(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(df(n))return x.resolve(null);let s=gn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Fl(n,null,"F"),s=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ne(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Fl(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,r){return df(n)||r.isEqual(Y.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(sf()<=ue.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$l(n)),this.Wi(e,o,n,N_(r,-1)))})}ji(e,n){let s=new lt(Kg(e));return n.forEach((r,i)=>{Xo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return sf()<=ue.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",$l(n)),this.Ui.getDocumentsMatchingQuery(e,n,Fn.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new De(ae),this.Yi=new tr(i=>Xc(i),Jc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function sT(t,e,n,s){return new nT(t,e,n,s)}async function pm(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=ne();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function rT(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=x.resolve();return h.forEach(d=>{f=f.next(()=>c.getEntry(a,d)).next(m=>{const v=l.docVersions.get(d);Ie(v!==null),m.version.compareTo(v)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function gm(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function iT(t,e){const n=J(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let d=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(ct.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,s)),r=r.insert(h,d),function(m,v,_){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.Bs.updateTargetData(i,d))});let l=mn(),c=ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(oT(i,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(Y.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return x.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=r,i))}function oT(t,e,n){let s=ne(),r=ne();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=mn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}function aT(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lT(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,x.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new Cn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function ql(t,e,n){const s=J(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ai(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function Tf(t,e,n){const s=J(t);let r=Y.min(),i=ne();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=J(a),h=u.Yi.get(c);return h!==void 0?x.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(s,o,gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:Y.min(),n?i:ne())).next(a=>(cT(s,tI(e),a),{documents:a,ir:i})))}function cT(t,e,n){let s=t.Xi.get(e)||Y.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class Sf{constructor(){this.activeTargetIds=aI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uT{constructor(){this.Hr=new Sf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Sf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai=null;function La(){return Ai===null?Ai=268435456+Math.round(2147483648*Math.random()):Ai++,"0x"+Ai.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class pT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=La(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,r,i),this.Ao(e,a,l,s).then(c=>($("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Us("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=fT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=La();return new Promise((o,a)=>{const l=new b_;l.setWithCredentials(!0),l.listenOnce(v_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Oa.NO_ERROR:const u=l.getResponseJson();$(Ze,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Oa.TIMEOUT:$(Ze,`RPC '${e}' ${i} timed out`),a(new H(S.DEADLINE_EXCEEDED,"Request time out"));break;case Oa.HTTP_ERROR:const h=l.getStatus();if($(Ze,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(_)>=0?_:S.UNKNOWN}(d.status);a(new H(m,d.message))}else a(new H(S.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(S.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{$(Ze,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);$(Ze,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const r=La(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=m_(),a=y_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new E_({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=i.join("");$(Ze,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const m=new dT({ro:_=>{d?$(Ze,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(f||($(Ze,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),$(Ze,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},oo:()=>h.close()}),v=(_,A,N)=>{_.listen(A,U=>{try{N(U)}catch(M){setTimeout(()=>{throw M},0)}})};return v(h,Ti.EventType.OPEN,()=>{d||$(Ze,`RPC '${e}' stream ${r} transport opened.`)}),v(h,Ti.EventType.CLOSE,()=>{d||(d=!0,$(Ze,`RPC '${e}' stream ${r} transport closed`),m.wo())}),v(h,Ti.EventType.ERROR,_=>{d||(d=!0,Us(Ze,`RPC '${e}' stream ${r} transport errored:`,_),m.wo(new H(S.UNAVAILABLE,"The operation could not be completed")))}),v(h,Ti.EventType.MESSAGE,_=>{var A;if(!d){const N=_.data[0];Ie(!!N);const U=N,M=U.error||((A=U[0])===null||A===void 0?void 0:A.error);if(M){$(Ze,`RPC '${e}' stream ${r} received error:`,M);const oe=M.status;let Se=function(X){const ge=Me[X];if(ge!==void 0)return im(ge)}(oe),Be=M.message;Se===void 0&&(Se=S.INTERNAL,Be="Unknown error status: "+oe+" with message "+M.message),d=!0,m.wo(new H(Se,Be)),h.close()}else $(Ze,`RPC '${e}' stream ${r} received:`,N),m._o(N)}}),v(a,w_.STAT_EVENT,_=>{_.stat===tf.PROXY?$(Ze,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===tf.NOPROXY&&$(Ze,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Fa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){return new CI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,s,r,i,o,a,l){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mm(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new H(S.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gT extends ym{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=DI(this.serializer,e),s=function(r){if(!("targetChange"in r))return Y.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?Y.min():i.readTime?Yt(i.readTime):Y.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=jl(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=Ll(a)?{documents:NI(r,a)}:{query:PI(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=lm(r,i.resumeToken);const l=Bl(r,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Y.min())>0){o.readTime=co(r,i.snapshotVersion.toTimestamp());const l=Bl(r,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=MI(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=jl(this.serializer),n.removeTarget=e,this.Wo(n)}}class mT extends ym{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=RI(e.writeResults,e.commitTime),s=Yt(e.commitTime);return this.listener.cu(s,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>kI(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new H(S.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(S.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(S.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class vT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pn(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{gs(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.vu.add(4),await ui(l),l.bu.set("Unknown"),l.vu.delete(4),await na(l)}(this))})}),this.bu=new vT(s,r)}}async function na(t){if(gs(t))for(const e of t.Ru)await e(!0)}async function ui(t){for(const e of t.Ru)await e(!1)}function vm(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),cu(n)?lu(n):nr(n).Ko()&&au(n,e))}function wm(t,e){const n=J(t),s=nr(n);n.Au.delete(e),s.Ko()&&Em(n,e),n.Au.size===0&&(s.Ko()?s.jo():gs(n)&&n.bu.set("Unknown"))}function au(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nr(t).su(e)}function Em(t,e){t.Vu.qt(e),nr(t).iu(e)}function lu(t){t.Vu=new _I({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),nr(t).start(),t.bu.gu()}function cu(t){return gs(t)&&!nr(t).Uo()&&t.Au.size>0}function gs(t){return J(t).vu.size===0}function bm(t){t.Vu=void 0}async function ET(t){t.Au.forEach((e,n)=>{au(t,e)})}async function bT(t,e){bm(t),cu(t)?(t.bu.Iu(e),lu(t)):t.bu.set("Unknown")}async function _T(t,e,n){if(t.bu.set("Online"),e instanceof am&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uo(t,s)}else if(e instanceof Fi?t.Vu.Ht(e):e instanceof om?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Y.min()))try{const s=await gm(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(ct.EMPTY_BYTE_STRING,c.snapshotVersion)),Em(r,a);const u=new Cn(c.target,a,l,c.sequenceNumber);au(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){$("RemoteStore","Failed to raise snapshot:",s),await uo(t,s)}}async function uo(t,e,n){if(!ai(e))throw e;t.vu.add(1),await ui(t),t.bu.set("Offline"),n||(n=()=>gm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await na(t)})}function _m(t,e){return e().catch(n=>uo(t,n,e))}async function sa(t){const e=J(t),n=Bn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;IT(e);)try{const r=await aT(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,TT(e,r)}catch(r){await uo(e,r)}Im(e)&&Tm(e)}function IT(t){return gs(t)&&t.Eu.length<10}function TT(t,e){t.Eu.push(e);const n=Bn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Im(t){return gs(t)&&!Bn(t).Uo()&&t.Eu.length>0}function Tm(t){Bn(t).start()}async function ST(t){Bn(t).hu()}async function CT(t){const e=Bn(t);for(const n of t.Eu)e.uu(n.mutations)}async function xT(t,e,n){const s=t.Eu.shift(),r=eu.from(s,e,n);await _m(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await sa(t)}async function AT(t,e){e&&Bn(t).ou&&await async function(n,s){if(r=s.code,wI(r)&&r!==S.ABORTED){const i=n.Eu.shift();Bn(n).Qo(),await _m(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sa(n)}var r}(t,e),Im(t)&&Tm(t)}async function xf(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=gs(n);n.vu.add(3),await ui(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await na(n)}async function DT(t,e){const n=J(t);e?(n.vu.delete(2),await na(n)):e||(n.vu.add(2),await ui(n),n.bu.set("Unknown"))}function nr(t){return t.Su||(t.Su=function(e,n,s){const r=J(e);return r.fu(),new gT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:ET.bind(null,t),ao:bT.bind(null,t),nu:_T.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),cu(t)?lu(t):t.bu.set("Unknown")):(await t.Su.stop(),bm(t))})),t.Su}function Bn(t){return t.Du||(t.Du=function(e,n,s){const r=J(e);return r.fu(),new mT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:ST.bind(null,t),ao:AT.bind(null,t),au:CT.bind(null,t),cu:xT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await sa(t)):(await t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new uu(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hu(t,e){if(pn("AsyncQueue",`${e}: ${t}`),ai(t))return new H(S.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.comparator=e?(n,s)=>e(n,s)||z.comparator(n.key,s.key):(n,s)=>z.comparator(n.key,s.key),this.keyedMap=fr(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Ps(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ps)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.Cu=new De(z.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ks{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ks(e,n,Ps.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.Nu=void 0,this.listeners=[]}}class RT{constructor(){this.queries=new tr(e=>zg(e),Yo),this.onlineState="Unknown",this.ku=new Set}}async function NT(t,e){const n=J(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new kT),r)try{i.Nu=await n.onListen(s)}catch(o){const a=hu(o,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&fu(n)}async function PT(t,e){const n=J(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function OT(t,e){const n=J(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&fu(n)}function MT(t,e,n){const s=J(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function fu(t){t.ku.forEach(e=>{e.next()})}class LT{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.key=e}}class Cm{constructor(e){this.key=e}}class FT{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=Kg(e),this.ec=new Ps(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Af,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),d=Xo(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?m!==v&&(s.track({type:3,doc:d}),_=!0):this.rc(f,d)||(s.track({type:2,doc:d}),_=!0,(l&&this.tc(d,l)>0||c&&this.tc(d,c)<0)&&(a=!0)):!f&&d?(s.track({type:0,doc:d}),_=!0):f&&!d&&(s.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(d?(o=o.add(d),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,u)=>function(h,f){const d=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return d(h)-d(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Ks(this.query,e.ec,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Af,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Cm(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Sm(s))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ks.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class $T{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BT{constructor(e){this.key=e,this.fc=!1}}class VT{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new tr(a=>zg(a),Yo),this._c=new Map,this.mc=new Set,this.gc=new De(z.comparator),this.yc=new Map,this.Ic=new ru,this.Tc={},this.Ec=new Map,this.Ac=zs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function UT(t,e){const n=XT(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await lT(n.localStore,gn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await jT(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&vm(n.remoteStore,o)}return r}async function jT(t,e,n,s,r){t.Rc=(h,f,d)=>async function(m,v,_,A){let N=v.view.sc(_);N.zi&&(N=await Tf(m.localStore,v.query,!1).then(({documents:oe})=>v.view.sc(oe,N)));const U=A&&A.targetChanges.get(v.targetId),M=v.view.applyChanges(N,m.isPrimaryClient,U);return kf(m,v.targetId,M.cc),M.snapshot}(t,h,f,d);const i=await Tf(t.localStore,e,!0),o=new FT(e,i.ir),a=o.sc(i.documents),l=ci.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);kf(t,n,c.cc);const u=new $T(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function qT(t,e){const n=J(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!Yo(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await ql(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),wm(n.remoteStore,s.targetId),Hl(n,s.targetId)}).catch(oi)):(Hl(n,s.targetId),await ql(n.localStore,s.targetId,!0))}async function HT(t,e,n){const s=JT(t);try{const r=await function(i,o){const a=J(i),l=je.now(),c=o.reduce((f,d)=>f.add(d.key),ne());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=mn(),m=ne();return a.Zi.getEntries(f,c).next(v=>{d=v,d.forEach((_,A)=>{A.isValidDocument()||(m=m.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(v=>{u=v;const _=[];for(const A of o){const N=pI(A,u.get(A.key).overlayedDocument);N!=null&&_.push(new ps(A.key,N,$g(N.value.mapValue),an.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:Gg(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new De(ae)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(s,r.batchId,n),await hi(s,r.changes),await sa(s.remoteStore)}catch(r){const i=hu(r,"Failed to persist write");n.reject(i)}}async function xm(t,e){const n=J(t);try{const s=await iT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Ie(o.fc):r.removedDocuments.size>0&&(Ie(o.fc),o.fc=!1))}),await hi(n,s,e)}catch(s){await oi(s)}}function Df(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=J(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&fu(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zT(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new De(z.comparator);o=o.insert(i,nt.newNoDocument(i,Y.min()));const a=ne().add(i),l=new ea(Y.min(),new Map,new De(ae),o,a);await xm(s,l),s.gc=s.gc.remove(i),s.yc.delete(e),du(s)}else await ql(s.localStore,e,!1).then(()=>Hl(s,e,n)).catch(oi)}async function KT(t,e){const n=J(t),s=e.batch.batchId;try{const r=await rT(n.localStore,e);Dm(n,s,null),Am(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hi(n,r)}catch(r){await oi(r)}}async function WT(t,e,n){const s=J(t);try{const r=await function(i,o){const a=J(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ie(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);Dm(s,e,n),Am(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hi(s,r)}catch(r){await oi(r)}}function Am(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Dm(t,e,n){const s=J(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Hl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||km(t,s)})}function km(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(wm(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),du(t))}function kf(t,e,n){for(const s of n)s instanceof Sm?(t.Ic.addReference(s.key,e),GT(t,s)):s instanceof Cm?($("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||km(t,s.key)):W()}function GT(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||($("SyncEngine","New document in limbo: "+n),t.mc.add(s),du(t))}function du(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new z(Ae.fromString(e)),s=t.Ac.next();t.yc.set(s,new BT(n)),t.gc=t.gc.insert(n,s),vm(t.remoteStore,new Cn(gn(Zc(n.path)),s,"TargetPurposeLimboResolution",Wc.ct))}}async function hi(t,e,n){const s=J(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=ou.Li(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,l){const c=J(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>x.forEach(l,h=>x.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>x.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!ai(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),d=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(d);c.Ji=c.Ji.insert(h,m)}}}(s.localStore,i))}async function QT(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const s=await pm(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new H(S.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hi(n,s.er)}}function YT(t,e){const n=J(t),s=n.yc.get(e);if(s&&s.fc)return ne().add(s.key);{let r=ne();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function XT(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zT.bind(null,e),e.dc.nu=OT.bind(null,e.eventManager),e.dc.Pc=MT.bind(null,e.eventManager),e}function JT(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WT.bind(null,e),e}class Rf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ta(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sT(this.persistence,new tT,e.initialUser,this.serializer)}createPersistence(e){return new ZI(iu.zs,this.serializer)}createSharedClientState(e){return new uT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ZT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Df(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QT.bind(null,this.syncEngine),await DT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new RT}createDatastore(e){const n=ta(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new pT(r));var r;return function(i,o,a,l){return new yT(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>Df(this.syncEngine,a,0),o=Cf.D()?new Cf:new hT,new wT(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new VT(s,r,i,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ui(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=et.UNAUTHENTICATED,this.clientId=Mg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hu(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $a(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await pm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sS(t);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>xf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xf(e.remoteStore,i)),t._onlineComponents=e}function nS(t){return t.name==="FirebaseError"?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await $a(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nS(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await $a(t,new Rf)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await $a(t,new Rf);return t._offlineComponents}async function Rm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Nf(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Nf(t,new ZT))),t._onlineComponents}function rS(t){return Rm(t).then(e=>e.syncEngine)}async function Pf(t){const e=await Rm(t),n=e.eventManager;return n.onListen=UT.bind(null,e.syncEngine),n.onUnlisten=qT.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e,n){if(!n)throw new H(S.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iS(t,e,n,s){if(e===!0&&s===!0)throw new H(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mf(t){if(!z.isDocumentKey(t))throw new H(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(z.isDocumentKey(t))throw new H(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pu(t);throw new H(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new H(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nm((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(S.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(S.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(S.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class ra{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new I_;switch(n.type){case"firstParty":return new x_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Of.get(e);n&&($("ComponentProvider","Removing Datastore"),Of.delete(e),n.terminate())}(this),Promise.resolve()}}function oS(t,e,n,s={}){var r;const i=(t=Tr(t,ra))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=et.MOCK_USER;else{o=sE(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new H(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new et(l)}t._authCredentials=new T_(new Og(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}}class ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class Nn extends ia{constructor(e,n,s){super(e,n,Zc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new z(e))}withConverter(e){return new Nn(this.firestore,e,this._path)}}function ho(t,e,...n){if(t=Mn(t),Pm("collection","path",e),t instanceof ra){const s=Ae.fromString(e,...n);return Lf(s),new Nn(t,null,s)}{if(!(t instanceof At||t instanceof Nn))throw new H(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Lf(s),new Nn(t.firestore,null,s)}}function aS(t,e,...n){if(t=Mn(t),arguments.length===1&&(e=Mg.A()),Pm("doc","path",e),t instanceof ra){const s=Ae.fromString(e,...n);return Mf(s),new At(t,null,new z(s))}{if(!(t instanceof At||t instanceof Nn))throw new H(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Mf(s),new At(t.firestore,t instanceof Nn?t.converter:null,new z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mm(this,"async_queue_retry"),this.Xc=()=>{const n=Fa();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Fa();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Fa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new is;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ai(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw pn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=uu.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&W()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function $f(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class fo extends ra{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new lS,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mm(this),this._firestoreClient.terminate()}}function cS(t,e){const n=typeof t=="object"?t:xp(),s=typeof t=="string"?t:e||"(default)",r=Yr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=tE("firestore");i&&oS(r,...i)}return r}function Om(t){return t._firestoreClient||Mm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Mm(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,l,c){return new B_(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Nm(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new tS(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=r.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=r.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(ct.fromBase64String(e))}catch(n){throw new H(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=/^__.*__$/;class hS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new li(e,this.data,n,this.fieldTransforms)}}function Fm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class yu{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return po(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Fm(this.ca)&&uS.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ta(e)}ya(e,n,s,r=!1){return new yu({ca:e,methodName:n,ga:s,path:rt.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dS(t){const e=t._freezeSettings(),n=ta(t._databaseId);return new fS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pS(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);Um("Data must be an object, but it was:",o,s);const a=Bm(s,o);let l,c;if(i.merge)l=new Ot(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=gS(e,h,n);if(!o.contains(f))throw new H(S.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yS(u,f)||u.push(f)}l=new Ot(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new hS(new St(a),l,c)}function $m(t,e){if(Vm(t=Mn(t)))return Um("Unsupported field value:",e,t),Bm(t,e);if(t instanceof Lm)return function(n,s){if(!Fm(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=$m(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=je.fromDate(n);return{timestampValue:co(s.serializer,r)}}if(n instanceof je){const r=new je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:co(s.serializer,r)}}if(n instanceof mu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ws)return{bytesValue:lm(s.serializer,n._byteString)};if(n instanceof At){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:su(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${pu(n)}`)}(t,e)}function Bm(t,e){const n={};return Lg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):er(t,(s,r)=>{const i=$m(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Vm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof mu||t instanceof Ws||t instanceof At||t instanceof Lm)}function Um(t,e,n){if(!Vm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=pu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function gS(t,e,n){if((e=Mn(e))instanceof gu)return e._internalPath;if(typeof e=="string")return jm(t,e);throw po("Field path arguments must be of type string or ",t,!1,void 0,n)}const mS=new RegExp("[~\\*/\\[\\]]");function jm(t,e,n){if(e.search(mS)>=0)throw po(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gu(...e.split("."))._internalPath}catch{throw po(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function po(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new H(S.INVALID_ARGUMENT,a+t+l)}function yS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vS extends qm{data(){return super.data()}}function Hm(t,e){return typeof e=="string"?jm(t,e):e instanceof gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ES{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return er(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new mu(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ur(e));default:return null}}convertTimestamp(e){const n=$n(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ae.fromString(e);Ie(dm(s));const r=new jr(s.get(1),s.get(3)),i=new z(s.popFirst(5));return r.isEqual(n)||pn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zm extends qm{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Hm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $i extends zm{data(e={}){return super.data(e)}}class _S{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new pr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new $i(this._firestore,this._userDataWriter,s.key,s,new pr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new $i(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new $i(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:IS(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function IS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class Km extends ES{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Wm(t,e){const n=Tr(t.firestore,fo),s=aS(t),r=bS(t.converter,e);return TS(n,[pS(dS(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then(()=>s)}function Gm(t,...e){var n,s,r;t=Mn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||$f(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if($f(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof At)c=Tr(t.firestore,fo),u=Zc(t._key.path),l={next:h=>{e[o]&&e[o](SS(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Tr(t,ia);c=Tr(h.firestore,fo),u=h._query;const f=new Km(c);l={next:d=>{e[o]&&e[o](new _S(c,f,h,d))},error:e[o+1],complete:e[o+2]},wS(t._query)}return function(h,f,d,m){const v=new eS(m),_=new LT(f,v,d);return h.asyncQueue.enqueueAndForget(async()=>NT(await Pf(h),_)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>PT(await Pf(h),_))}}(Om(c),u,a,l)}function TS(t,e){return function(n,s){const r=new is;return n.asyncQueue.enqueueAndForget(async()=>HT(await rS(n),s,r)),r.promise}(Om(t),e)}function SS(t,e,n){const s=n.docs.get(e._key),r=new Km(t);return new zm(t,r,e._key,s,new pr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Zs=n})(cb),Ln(new fn("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new fo(new S_(n.getProvider("auth-internal")),new D_(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Qt(nf,"3.12.0",t),Qt(nf,"3.12.0","esm2017")})();var CS="firebase",xS="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt(CS,xS,"app");const AS=(t,e)=>e.some(n=>t instanceof n);let Bf,Vf;function DS(){return Bf||(Bf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return Vf||(Vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qm=new WeakMap,zl=new WeakMap,Ym=new WeakMap,Ba=new WeakMap,vu=new WeakMap;function RS(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Pn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qm.set(n,t)}).catch(()=>{}),vu.set(e,t),e}function NS(t){if(zl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zl.set(t,e)}let Kl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ym.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PS(t){Kl=t(Kl)}function OS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Va(this),e,...n);return Ym.set(s,e.sort?e.sort():[e]),Pn(s)}:kS().includes(t)?function(...e){return t.apply(Va(this),e),Pn(Qm.get(this))}:function(...e){return Pn(t.apply(Va(this),e))}}function MS(t){return typeof t=="function"?OS(t):(t instanceof IDBTransaction&&NS(t),AS(t,DS())?new Proxy(t,Kl):t)}function Pn(t){if(t instanceof IDBRequest)return RS(t);if(Ba.has(t))return Ba.get(t);const e=MS(t);return e!==t&&(Ba.set(t,e),vu.set(e,t)),e}const Va=t=>vu.get(t);function LS(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Pn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Pn(o.result),l.oldVersion,l.newVersion,Pn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const FS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Ua=new Map;function Uf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ua.get(e))return Ua.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=$S.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||FS.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ua.set(e,i),i}PS(t=>({...t,get:(e,n,s)=>Uf(e,n)||t.get(e,n,s),has:(e,n)=>!!Uf(e,n)||t.has(e,n)}));const Xm="@firebase/installations",wu="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=1e4,Zm=`w:${wu}`,ey="FIS_v2",BS="https://firebaseinstallations.googleapis.com/v1",VS=60*60*1e3,US="installations",jS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},us=new No(US,jS,qS);function ty(t){return t instanceof Vn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny({projectId:t}){return`${BS}/projects/${t}/installations`}function sy(t){return{token:t.token,requestStatus:2,expiresIn:zS(t.expiresIn),creationTime:Date.now()}}async function ry(t,e){const s=(await e.json()).error;return us.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HS(t,{refreshToken:e}){const n=iy(t);return n.append("Authorization",KS(e)),n}async function oy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zS(t){return Number(t.replace("s","000"))}function KS(t){return`${ey} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=ny(t),r=iy(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:ey,appId:t.appId,sdkVersion:Zm},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:sy(c.authToken)}}else throw await ry("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=/^[cdef][\w-]{21}$/,Wl="";function YS(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XS(t);return QS.test(n)?n:Wl}catch{return Wl}}function XS(t){return GS(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function cy(t,e){const n=oa(t);uy(n,e),JS(n,e)}function uy(t,e){const n=ly.get(t);if(!!n)for(const s of n)s(e)}function JS(t,e){const n=ZS();n&&n.postMessage({key:t,fid:e}),eC()}let ts=null;function ZS(){return!ts&&"BroadcastChannel"in self&&(ts=new BroadcastChannel("[Firebase] FID Change"),ts.onmessage=t=>{uy(t.data.key,t.data.fid)}),ts}function eC(){ly.size===0&&ts&&(ts.close(),ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-installations-database",nC=1,hs="firebase-installations-store";let ja=null;function Eu(){return ja||(ja=LS(tC,nC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hs)}}})),ja}async function go(t,e){const n=oa(t),r=(await Eu()).transaction(hs,"readwrite"),i=r.objectStore(hs),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&cy(t,e.fid),e}async function hy(t){const e=oa(t),s=(await Eu()).transaction(hs,"readwrite");await s.objectStore(hs).delete(e),await s.done}async function aa(t,e){const n=oa(t),r=(await Eu()).transaction(hs,"readwrite"),i=r.objectStore(hs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&cy(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){let e;const n=await aa(t.appConfig,s=>{const r=sC(s),i=rC(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Wl?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sC(t){const e=t||{fid:YS(),registrationStatus:0};return fy(e)}function rC(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(us.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iC(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oC(t)}:{installationEntry:e}}async function iC(t,e){try{const n=await WS(t,e);return go(t.appConfig,n)}catch(n){throw ty(n)&&n.customData.serverCode===409?await hy(t.appConfig):await go(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oC(t){let e=await jf(t.appConfig);for(;e.registrationStatus===1;)await ay(100),e=await jf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await bu(t);return s||n}return e}function jf(t){return aa(t,e=>{if(!e)throw us.create("installation-not-found");return fy(e)})}function fy(t){return aC(t)?{fid:t.fid,registrationStatus:0}:t}function aC(t){return t.registrationStatus===1&&t.registrationTime+Jm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC({appConfig:t,heartbeatServiceProvider:e},n){const s=cC(t,n),r=HS(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Zm,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oy(()=>fetch(s,a));if(l.ok){const c=await l.json();return sy(c)}else throw await ry("Generate Auth Token",l)}function cC(t,{fid:e}){return`${ny(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e=!1){let n;const s=await aa(t.appConfig,i=>{if(!dy(i))throw us.create("not-registered");const o=i.authToken;if(!e&&fC(o))return i;if(o.requestStatus===1)return n=uC(t,e),i;{if(!navigator.onLine)throw us.create("app-offline");const a=pC(i);return n=hC(t,a),a}});return n?await n:s.authToken}async function uC(t,e){let n=await qf(t.appConfig);for(;n.authToken.requestStatus===1;)await ay(100),n=await qf(t.appConfig);const s=n.authToken;return s.requestStatus===0?_u(t,e):s}function qf(t){return aa(t,e=>{if(!dy(e))throw us.create("not-registered");const n=e.authToken;return gC(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hC(t,e){try{const n=await lC(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await go(t.appConfig,s),n}catch(n){if(ty(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hy(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await go(t.appConfig,s)}throw n}}function dy(t){return t!==void 0&&t.registrationStatus===2}function fC(t){return t.requestStatus===2&&!dC(t)}function dC(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VS}function pC(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gC(t){return t.requestStatus===1&&t.requestTime+Jm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t){const e=t,{installationEntry:n,registrationPromise:s}=await bu(e);return s?s.catch(console.error):_u(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(t,e=!1){const n=t;return await vC(n),(await _u(n,e)).token}async function vC(t){const{registrationPromise:e}=await bu(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){if(!t||!t.options)throw qa("App Configuration");if(!t.name)throw qa("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qa(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qa(t){return us.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="installations",EC="installations-internal",bC=t=>{const e=t.getProvider("app").getImmediate(),n=wC(e),s=Yr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},_C=t=>{const e=t.getProvider("app").getImmediate(),n=Yr(e,py).getImmediate();return{getId:()=>mC(n),getToken:r=>yC(n,r)}};function IC(){Ln(new fn(py,bC,"PUBLIC")),Ln(new fn(EC,_C,"PRIVATE"))}IC();Qt(Xm,wu);Qt(Xm,wu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="analytics",TC="firebase_id",SC="origin",CC=60*1e3,xC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iu="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new _c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bt=new No("analytics","Analytics",AC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){if(!t.startsWith(Iu)){const e=bt.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function gy(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kC(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function RC(t,e){const n=kC("firebase-js-sdk-policy",{createScriptURL:DC}),s=document.createElement("script"),r=`${Iu}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function NC(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PC(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const l=(await gy(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){gt.error(a)}t("config",r,i)}async function OC(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await gy(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){gt.error(i)}}function MC(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,l]=o;await OC(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await PC(t,e,n,s,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gt.error(a)}}return r}function LC(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=MC(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function FC(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Iu)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=30,BC=1e3;class VC{constructor(e={},n=BC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const my=new VC;function UC(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jC(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:UC(s)},i=xC.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw bt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function qC(t,e=my,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw bt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw bt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KC;return setTimeout(async()=>{a.abort()},n!==void 0?n:CC),yy({appId:s,apiKey:r,measurementId:i},o,a,e)}async function yy(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=my){var i;const{appId:o,measurementId:a}=t;try{await HC(s,e)}catch(l){if(a)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await jC(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!zC(c)){if(r.deleteThrottleMetadata(o),a)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Ph(n,r.intervalMillis,$C):Ph(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),gt.debug(`Calling attemptFetch again in ${u} millis`),yy(t,h,s,r)}}function HC(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zC(t){if(!(t instanceof Vn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WC(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(){if(_p())try{await Ip()}catch(t){return gt.warn(bt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QC(t,e,n,s,r,i,o){var a;const l=qC(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>gt.error(d)),e.push(l);const c=GC().then(d=>{if(d)return s.getId()}),[u,h]=await Promise.all([l,c]);FC(i)||RC(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[SC]="firebase",f.update=!0,h!=null&&(f[TC]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.app=e}_delete(){return delete Sr[this.app.options.appId],Promise.resolve()}}let Sr={},Hf=[];const zf={};let Ha="dataLayer",XC="gtag",Kf,vy,Wf=!1;function JC(){const t=[];if(rE()&&t.push("This is a browser extension environment."),iE()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=bt.create("invalid-analytics-context",{errorInfo:e});gt.warn(n.message)}}function ZC(t,e,n){JC();const s=t.options.appId;if(!s)throw bt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bt.create("no-api-key");if(Sr[s]!=null)throw bt.create("already-exists",{id:s});if(!Wf){NC(Ha);const{wrappedGtag:i,gtagCore:o}=LC(Sr,Hf,zf,Ha,XC);vy=i,Kf=o,Wf=!0}return Sr[s]=QC(t,Hf,zf,e,Kf,Ha,n),new YC(t)}function e2(t=xp()){t=Mn(t);const e=Yr(t,mo);return e.isInitialized()?e.getImmediate():t2(t)}function t2(t,e={}){const n=Yr(t,mo);if(n.isInitialized()){const r=n.getImmediate();if(Wi(e,n.getOptions()))return r;throw bt.create("already-initialized")}return n.initialize({options:e})}function n2(t,e,n,s){t=Mn(t),WC(vy,Sr[t.app.options.appId],e,n,s).catch(r=>gt.error(r))}const Gf="@firebase/analytics",Qf="0.10.0";function s2(){Ln(new fn(mo,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return ZC(s,r,n)},"PUBLIC")),Ln(new fn("analytics-internal",t,"PRIVATE")),Qt(Gf,Qf),Qt(Gf,Qf,"esm2017");function t(e){try{const n=e.getProvider(mo).getImmediate();return{logEvent:(s,r,i)=>n2(n,s,r,i)}}catch(n){throw bt.create("interop-component-reg-failed",{reason:n})}}}s2();const r2={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},wy=Cp(r2);e2(wy);const yo=cS(wy),i2={class:"header"},o2={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},a2={class:"relative flex h-16 items-center justify-between"},l2={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},c2=w("span",{class:"sr-only"},"Open main menu",-1),u2={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},h2=w("div",{class:"flex flex-shrink-0 items-center"},[w("img",{class:"block h-8 w-auto lg:hidden",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"}),w("img",{class:"hidden h-8 w-auto lg:block",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"})],-1),f2={class:"hidden sm:ml-6 sm:block"},d2={class:"flex space-x-4"},p2=["aria-current"],g2=["aria-current"],m2={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},y2={type:"button",class:"rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},v2=w("span",{class:"sr-only"},"View notifications",-1),w2=w("span",{class:"sr-only"},"Open user menu",-1),E2=w("img",{class:"h-8 w-8 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""},null,-1),b2={class:"space-y-1 px-2 pb-3 pt-2"},_2={key:0,class:"bg-white"},I2={key:0,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},T2=w("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Stock Barang",-1),S2={class:"flex flex-col"},C2={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},x2={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},A2={class:"overflow-hidden"},D2={class:"min-w-full text-left text-sm font-light"},k2=w("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[w("tr",null,[w("th",{scope:"col",class:"px-8 py-4"},"No"),w("th",{scope:"col",class:"px-8 py-4"},"Jenis Barang"),w("th",{scope:"col",class:"px-8 py-4"},"Nama Barang"),w("th",{scope:"col",class:"px-8 py-4"},"Warna Barang"),w("th",{scope:"col",class:"px-8 py-4"},"Quantity"),w("th",{scope:"col",class:"px-8 py-4"},"Harga Barang"),w("th",{scope:"col",class:"px-8 py-4"},"Aksi")])],-1),R2={class:"whitespace-nowrap px-8 py-4"},N2={class:"whitespace-nowrap px-8 py-4 font-medium"},P2={class:"whitespace-nowrap px-8 py-4 font-medium"},O2={class:"whitespace-nowrap px-8 py-4"},M2={class:"whitespace-nowrap px-8 py-4"},L2={class:"whitespace-nowrap px-8 py-4 font-medium"},F2=w("td",{class:"whitespace-nowrap px-8 py-4 font-medium"},[w("button",{class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus"),w("button",{class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit")],-1),$2={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},B2=w("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Tambah Stock Barang",-1),V2=["onSubmit"],U2={class:"space-y-12"},j2={class:"border-b border-gray-900/10 pb-12"},q2=w("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Profile",-1),H2=w("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"This information will be displayed publicly so be careful what you share.",-1),z2={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},K2={class:"sm:col-span-4"},W2=w("label",{for:"jenisBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Jenis Barang",-1),G2={class:"mt-2"},Q2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},Y2={class:"sm:col-span-4"},X2=w("label",{for:"namaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Nama Barang",-1),J2={class:"mt-2"},Z2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ex={class:"sm:col-span-4"},tx=w("label",{for:"warnaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Warna Barang",-1),nx={class:"mt-2"},sx={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},rx={class:"sm:col-span-4"},ix=w("label",{for:"qty",class:"block text-sm font-medium leading-6 text-gray-900"},"Quantity",-1),ox={class:"mt-2"},ax={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},lx={class:"sm:col-span-4"},cx=w("label",{for:"hargaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Harga Barang",-1),ux={class:"mt-2"},hx={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},fx={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},dx=["disabled"],px={key:1,class:"bg-white"},gx=w("div",{class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},[w("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Petty Cash")],-1),mx=[gx],yx={__name:"DashboardView",setup(t){let e=ee([]);ee(!1);const n=ee(""),s=ee(""),r=ee(""),i=ee(""),o=ee(""),a=ee("stock_barang"),l=ee(!0),c=ee(!1);cn(async()=>{Gm(ho(yo,"stockBarang"),h=>{let f=[];h.forEach(d=>{let m={id:d.id,varian:d.data().varian,nama:d.data().nama,warna:d.data().warna,qty:d.data().qty,harga:d.data().harga};f.push(m)}),e.value=f})});const u=async()=>{console.log("asd",{id:zi(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});const h=await Wm(ho(yo,"stockBarang"),{id:zi(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});console.log("Document written with ID: ",h.id),n.value="",s.value="",r.value="",i.value="",o.value=""};return(h,f)=>(Pe(),He(tt,null,[w("div",i2,[de(Ce(R1),{as:"nav",class:"bg-gray-800"},{default:vt(({open:d})=>[w("div",o2,[w("div",a2,[w("div",l2,[de(Ce(Ea),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:vt(()=>[c2,d?(Pe(),il(Ce(U1),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(Pe(),il(Ce(B1),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),w("div",u2,[h2,w("div",f2,[w("div",d2,[w("a",{onClick:f[0]||(f[0]=m=>a.value="stock_barang"),class:jt([c.value?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":c.value?"page":void 0},"Stock Barang",10,p2),w("a",{onClick:f[1]||(f[1]=m=>a.value="petty_cash"),class:jt([c.value?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":c.value?"page":void 0},"Petty Cash",10,g2)])])]),w("div",m2,[w("button",y2,[v2,de(Ce(V1),{class:"h-6 w-6","aria-hidden":"true"})]),de(Ce(L1),{as:"div",class:"relative ml-3"},{default:vt(()=>[w("div",null,[de(Ce(F1),{class:"flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:vt(()=>[w2,E2]),_:1})]),de(gc,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:vt(()=>[de(Ce($1),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:vt(()=>[de(Ce(ba),null,{default:vt(({active:m})=>[w("a",{href:"#",class:jt([m?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profile",2)]),_:1}),de(Ce(ba),null,{default:vt(({active:m})=>[w("a",{href:"#",class:jt([m?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),de(Ce(ba),null,{default:vt(({active:m})=>[w("a",{href:"#",class:jt([m?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1})]),_:1})]),_:1})]),_:1})])])]),de(Ce(N1),{class:"sm:hidden"},{default:vt(()=>[w("div",b2,[de(Ce(Ea),{onClick:f[2]||(f[2]=m=>a.value="stock_barang"),as:"a",class:jt([c.value?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":c.value?"page":void 0},{default:vt(()=>[al("Stock Barang")]),_:1},8,["class","aria-current"]),de(Ce(Ea),{onClick:f[3]||(f[3]=m=>a.value="petty_cash"),as:"a",class:jt([c.value?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":c.value?"page":void 0},{default:vt(()=>[al("Petty Cash")]),_:1},8,["class","aria-current"])])]),_:1})]),_:1})]),a.value==="stock_barang"?(Pe(),He("div",_2,[l.value?(Pe(),He("div",I2,[T2,w("button",{onClick:f[4]||(f[4]=d=>l.value=!1),type:"button",class:"mt-4 inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Tambah Barang "),w("div",S2,[w("div",C2,[w("div",x2,[w("div",A2,[w("table",D2,[k2,w("tbody",null,[Ce(e).length!==0?(Pe(!0),He(tt,{key:0},Nd(Ce(e),(d,m)=>(Pe(),He("tr",{key:d.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[w("td",R2,Rt(m+1),1),w("td",N2,Rt(d.varian),1),w("td",P2,Rt(d.nama),1),w("td",O2,Rt(d.warna),1),w("td",M2,Rt(d.qty),1),w("td",L2,"Rp "+Rt(d.harga),1),F2]))),128)):ll("",!0)])])])])])])])):(Pe(),He("div",$2,[B2,w("form",{onSubmit:Kd(u,["prevent"])},[w("div",U2,[w("div",j2,[q2,H2,w("div",z2,[w("div",K2,[W2,w("div",G2,[w("div",Q2,[zt(w("input",{"onUpdate:modelValue":f[5]||(f[5]=d=>n.value=d),type:"text",name:"jenisBarang",id:"jenisBarang",autocomplete:"jenisBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Jenis Barang"},null,512),[[Kt,n.value]])])])]),w("div",Y2,[X2,w("div",J2,[w("div",Z2,[zt(w("input",{"onUpdate:modelValue":f[6]||(f[6]=d=>s.value=d),type:"text",name:"namaBarang",id:"namaBarang",autocomplete:"namaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Nama Barang"},null,512),[[Kt,s.value]])])])]),w("div",ex,[tx,w("div",nx,[w("div",sx,[zt(w("input",{"onUpdate:modelValue":f[7]||(f[7]=d=>r.value=d),type:"text",name:"warnaBarang",id:"warnaBarang",autocomplete:"warnaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Warna Barang"},null,512),[[Kt,r.value]])])])]),w("div",rx,[ix,w("div",ox,[w("div",ax,[zt(w("input",{"onUpdate:modelValue":f[8]||(f[8]=d=>i.value=d),type:"number",name:"qty",id:"qty",autocomplete:"qty",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Quantity"},null,512),[[Kt,i.value]])])])]),w("div",lx,[cx,w("div",ux,[w("div",hx,[zt(w("input",{"onUpdate:modelValue":f[9]||(f[9]=d=>o.value=d),type:"number",name:"hargaBarang",id:"hargaBarang",autocomplete:"hargaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Harga Barang"},null,512),[[Kt,o.value]])])])])])])]),w("div",fx,[w("button",{onClick:f[10]||(f[10]=d=>l.value=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),w("button",{disabled:!n.value||!r.value||!s.value||!o.value||!i.value,type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",8,dx)])],40,V2)]))])):a.value==="petty_cash"?(Pe(),He("div",px,mx)):ll("",!0)],64))}};const vx=["onSubmit"],wx={key:0,class:"add-product"},Ex={class:"field"},bx=w("label",{class:"label"},"Jenis Product",-1),_x={class:"control"},Ix={class:"field"},Tx=w("label",{class:"label"},"Nama Product",-1),Sx={class:"control"},Cx={class:"field"},xx=w("label",{class:"label"},"Warna Product",-1),Ax={class:"control"},Dx={class:"field"},kx=w("label",{class:"label"},"Quantity Product",-1),Rx={class:"control"},Nx={class:"field"},Px=w("label",{class:"label"},"Harga Product",-1),Ox={class:"control"},Mx={class:"field is-grouped pt-4"},Lx={class:"control"},Fx=["disabled"],$x={class:"control"},Bx={key:1,class:"add-product"},Vx={class:"field is-grouped pl-20 pt-4"},Ux={class:"control"},jx={key:0,class:"data-product"},qx={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},Hx=w("thead",null,[w("tr",null,[w("th",null,"Jenis Barang"),w("th",null,"Nama Barang"),w("th",null,"Warna Barang"),w("th",null,"Quantity"),w("th",null,"Harga Barang")])],-1),zx={__name:"DataProduct",setup(t){let e=ee([]);const n=ee(!1),s=ee(""),r=ee(""),i=ee(""),o=ee(""),a=ee("");cn(async()=>{Gm(ho(yo,"stockBarang"),c=>{let u=[];c.forEach(h=>{let f={id:h.id,varian:h.data().varian,nama:h.data().nama,warna:h.data().warna,qty:h.data().qty,harga:h.data().harga};u.push(f)}),e.value=u})});const l=async()=>{console.log("asd",{id:zi(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});const c=await Wm(ho(yo,"stockBarang"),{id:zi(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});console.log("Document written with ID: ",c.id)};return(c,u)=>(Pe(),He(tt,null,[w("form",{onSubmit:Kd(l,["prevent"])},[n.value?(Pe(),He("div",wx,[w("div",Ex,[bx,w("div",_x,[zt(w("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>s.value=h),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[Kt,s.value]])])]),w("div",Ix,[Tx,w("div",Sx,[zt(w("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[Kt,r.value]])])]),w("div",Cx,[xx,w("div",Ax,[zt(w("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),class:"input",type:"text",placeholder:"warna Product"},null,512),[[Kt,i.value]])])]),w("div",Dx,[kx,w("div",Rx,[zt(w("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>o.value=h),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[Kt,o.value]])])]),w("div",Nx,[Px,w("div",Ox,[zt(w("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>a.value=h),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[Kt,a.value]])])]),w("div",Mx,[w("div",Lx,[w("button",{disabled:!s.value||!r.value||!a.value,class:"button is-link"},"Submit",8,Fx)]),w("div",$x,[w("button",{onClick:u[5]||(u[5]=h=>n.value=!1),class:"button is-danger"},"Cancel")])])])):(Pe(),He("div",Bx,[w("div",Vx,[w("div",Ux,[w("button",{class:"button is-link",onClick:u[6]||(u[6]=h=>n.value=!0)},"Tambah Data")])])]))],40,vx),n.value?ll("",!0):(Pe(),He("div",jx,[w("table",qx,[Hx,w("tbody",null,[(Pe(!0),He(tt,null,Nd(Ce(e),h=>(Pe(),He("tr",{key:h.id},[w("th",null,Rt(h.varian),1),w("th",null,Rt(h.nama),1),w("th",null,Rt(h.warna),1),w("th",null,Rt(h.qty)+" pcs",1),w("th",null,Rt(h.harga),1)]))),128))])])]))],64))}},Kx=Jw({history:gw("/"),routes:[{path:"/",name:"home",component:yx},{path:"/data",name:"data",component:zx}]}),Tu=W0(a1);Tu.use(X0());Tu.use(Kx);Tu.mount("#app");
