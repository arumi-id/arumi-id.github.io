(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Cc(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Re={},js=[],Xt=()=>{},Pv=()=>!1,Rv=/^on[^a-z]/,Vo=t=>Rv.test(t),Tc=t=>t.startsWith("onUpdate:"),ot=Object.assign,Ic=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ov=Object.prototype.hasOwnProperty,ve=(t,e)=>Ov.call(t,e),ne=Array.isArray,Us=t=>jo(t)==="[object Map]",rp=t=>jo(t)==="[object Set]",de=t=>typeof t=="function",st=t=>typeof t=="string",Sc=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",op=t=>Le(t)&&de(t.then)&&de(t.catch),ap=Object.prototype.toString,jo=t=>ap.call(t),Nv=t=>jo(t).slice(8,-1),lp=t=>jo(t)==="[object Object]",Ac=t=>st(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Jr=Cc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Mv=/-(\w)/g,Qs=Uo(t=>t.replace(Mv,(e,n)=>n?n.toUpperCase():"")),Lv=/\B([A-Z])/g,ci=Uo(t=>t.replace(Lv,"-$1").toLowerCase()),cp=Uo(t=>t.charAt(0).toUpperCase()+t.slice(1)),ja=Uo(t=>t?`on${cp(t)}`:""),zi=(t,e)=>!Object.is(t,e),Zr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},co=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},bl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Uh;const El=()=>Uh||(Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kc(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=st(s)?Vv(s):kc(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(st(t))return t;if(Le(t))return t}}const $v=/;(?![^(]*\))/g,Bv=/:([^]+)/,Fv=new RegExp("\\/\\*.*?\\*\\/","gs");function Vv(t){const e={};return t.replace(Fv,"").split($v).forEach(n=>{if(n){const s=n.split(Bv);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function rs(t){let e="";if(st(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const s=rs(t[n]);s&&(e+=s+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const jv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uv=Cc(jv);function up(t){return!!t||t===""}const De=t=>st(t)?t:t==null?"":ne(t)||Le(t)&&(t.toString===ap||!de(t.toString))?JSON.stringify(t,hp,2):String(t),hp=(t,e)=>e&&e.__v_isRef?hp(t,e.value):Us(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:rp(e)?{[`Set(${e.size})`]:[...e.values()]}:Le(e)&&!ne(e)&&!lp(e)?String(e):e;let Wt;class dp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Wt,!e&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Wt;try{return Wt=this,e()}finally{Wt=n}}}on(){Wt=this}off(){Wt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Hv(t){return new dp(t)}function qv(t,e=Wt){e&&e.active&&e.effects.push(t)}function zv(){return Wt}const Dc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},fp=t=>(t.w&qn)>0,pp=t=>(t.n&qn)>0,Kv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qn},Wv=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];fp(i)&&!pp(i)?i.delete(t):e[n++]=i,i.w&=~qn,i.n&=~qn}e.length=n}},xl=new WeakMap;let Ii=0,qn=1;const _l=30;let Gt;const hs=Symbol(""),Cl=Symbol("");class Pc{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,qv(this,s)}run(){if(!this.active)return this.fn();let e=Gt,n=$n;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Gt,Gt=this,$n=!0,qn=1<<++Ii,Ii<=_l?Kv(this):Hh(this),this.fn()}finally{Ii<=_l&&Wv(this),qn=1<<--Ii,Gt=this.parent,$n=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gt===this?this.deferStop=!0:this.active&&(Hh(this),this.onStop&&this.onStop(),this.active=!1)}}function Hh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let $n=!0;const gp=[];function ui(){gp.push($n),$n=!1}function hi(){const t=gp.pop();$n=t===void 0?!0:t}function Lt(t,e,n){if($n&&Gt){let s=xl.get(t);s||xl.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Dc()),mp(i)}}function mp(t,e){let n=!1;Ii<=_l?pp(t)||(t.n|=qn,n=!fp(t)):n=!t.has(Gt),n&&(t.add(Gt),Gt.deps.push(t))}function vn(t,e,n,s,i,r){const o=xl.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ne(t)){const u=Number(s);o.forEach((c,d)=>{(d==="length"||d>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ne(t)?Ac(n)&&a.push(o.get("length")):(a.push(o.get(hs)),Us(t)&&a.push(o.get(Cl)));break;case"delete":ne(t)||(a.push(o.get(hs)),Us(t)&&a.push(o.get(Cl)));break;case"set":Us(t)&&a.push(o.get(hs));break}if(a.length===1)a[0]&&Tl(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);Tl(Dc(u))}}function Tl(t,e){const n=ne(t)?t:[...t];for(const s of n)s.computed&&qh(s);for(const s of n)s.computed||qh(s)}function qh(t,e){(t!==Gt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Gv=Cc("__proto__,__v_isRef,__isVue"),wp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sc)),Qv=Rc(),Yv=Rc(!1,!0),Xv=Rc(!0),zh=Jv();function Jv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ee(this);for(let r=0,o=this.length;r<o;r++)Lt(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(Ee)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ui();const s=Ee(this)[e].apply(this,n);return hi(),s}}),t}function Zv(t){const e=Ee(this);return Lt(e,"has",t),e.hasOwnProperty(t)}function Rc(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?gb:xp:e?Ep:bp).get(s))return s;const o=ne(s);if(!t){if(o&&ve(zh,i))return Reflect.get(zh,i,r);if(i==="hasOwnProperty")return Zv}const a=Reflect.get(s,i,r);return(Sc(i)?wp.has(i):Gv(i))||(t||Lt(s,"get",i),e)?a:le(a)?o&&Ac(i)?a:a.value:Le(a)?t?_p(a):hr(a):a}}const eb=yp(),tb=yp(!0);function yp(t=!1){return function(n,s,i,r){let o=n[s];if(Ys(o)&&le(o)&&!le(i))return!1;if(!t&&(!uo(i)&&!Ys(i)&&(o=Ee(o),i=Ee(i)),!ne(n)&&le(o)&&!le(i)))return o.value=i,!0;const a=ne(n)&&Ac(s)?Number(s)<n.length:ve(n,s),u=Reflect.set(n,s,i,r);return n===Ee(r)&&(a?zi(i,o)&&vn(n,"set",s,i):vn(n,"add",s,i)),u}}function nb(t,e){const n=ve(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&vn(t,"delete",e,void 0),s}function sb(t,e){const n=Reflect.has(t,e);return(!Sc(e)||!wp.has(e))&&Lt(t,"has",e),n}function ib(t){return Lt(t,"iterate",ne(t)?"length":hs),Reflect.ownKeys(t)}const vp={get:Qv,set:eb,deleteProperty:nb,has:sb,ownKeys:ib},rb={get:Xv,set(t,e){return!0},deleteProperty(t,e){return!0}},ob=ot({},vp,{get:Yv,set:tb}),Oc=t=>t,Ho=t=>Reflect.getPrototypeOf(t);function Lr(t,e,n=!1,s=!1){t=t.__v_raw;const i=Ee(t),r=Ee(e);n||(e!==r&&Lt(i,"get",e),Lt(i,"get",r));const{has:o}=Ho(i),a=s?Oc:n?$c:Ki;if(o.call(i,e))return a(t.get(e));if(o.call(i,r))return a(t.get(r));t!==i&&t.get(e)}function $r(t,e=!1){const n=this.__v_raw,s=Ee(n),i=Ee(t);return e||(t!==i&&Lt(s,"has",t),Lt(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Br(t,e=!1){return t=t.__v_raw,!e&&Lt(Ee(t),"iterate",hs),Reflect.get(t,"size",t)}function Kh(t){t=Ee(t);const e=Ee(this);return Ho(e).has.call(e,t)||(e.add(t),vn(e,"add",t,t)),this}function Wh(t,e){e=Ee(e);const n=Ee(this),{has:s,get:i}=Ho(n);let r=s.call(n,t);r||(t=Ee(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?zi(e,o)&&vn(n,"set",t,e):vn(n,"add",t,e),this}function Gh(t){const e=Ee(this),{has:n,get:s}=Ho(e);let i=n.call(e,t);i||(t=Ee(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&vn(e,"delete",t,void 0),r}function Qh(){const t=Ee(this),e=t.size!==0,n=t.clear();return e&&vn(t,"clear",void 0,void 0),n}function Fr(t,e){return function(s,i){const r=this,o=r.__v_raw,a=Ee(o),u=e?Oc:t?$c:Ki;return!t&&Lt(a,"iterate",hs),o.forEach((c,d)=>s.call(i,u(c),u(d),r))}}function Vr(t,e,n){return function(...s){const i=this.__v_raw,r=Ee(i),o=Us(r),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=i[t](...s),d=n?Oc:e?$c:Ki;return!e&&Lt(r,"iterate",u?Cl:hs),{next(){const{value:p,done:g}=c.next();return g?{value:p,done:g}:{value:a?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function An(t){return function(...e){return t==="delete"?!1:this}}function ab(){const t={get(r){return Lr(this,r)},get size(){return Br(this)},has:$r,add:Kh,set:Wh,delete:Gh,clear:Qh,forEach:Fr(!1,!1)},e={get(r){return Lr(this,r,!1,!0)},get size(){return Br(this)},has:$r,add:Kh,set:Wh,delete:Gh,clear:Qh,forEach:Fr(!1,!0)},n={get(r){return Lr(this,r,!0)},get size(){return Br(this,!0)},has(r){return $r.call(this,r,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:Fr(!0,!1)},s={get(r){return Lr(this,r,!0,!0)},get size(){return Br(this,!0)},has(r){return $r.call(this,r,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:Fr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Vr(r,!1,!1),n[r]=Vr(r,!0,!1),e[r]=Vr(r,!1,!0),s[r]=Vr(r,!0,!0)}),[t,n,e,s]}const[lb,cb,ub,hb]=ab();function Nc(t,e){const n=e?t?hb:ub:t?cb:lb;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ve(n,i)&&i in s?n:s,i,r)}const db={get:Nc(!1,!1)},fb={get:Nc(!1,!0)},pb={get:Nc(!0,!1)},bp=new WeakMap,Ep=new WeakMap,xp=new WeakMap,gb=new WeakMap;function mb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wb(t){return t.__v_skip||!Object.isExtensible(t)?0:mb(Nv(t))}function hr(t){return Ys(t)?t:Mc(t,!1,vp,db,bp)}function yb(t){return Mc(t,!1,ob,fb,Ep)}function _p(t){return Mc(t,!0,rb,pb,xp)}function Mc(t,e,n,s,i){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=wb(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return i.set(t,a),a}function Hs(t){return Ys(t)?Hs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ys(t){return!!(t&&t.__v_isReadonly)}function uo(t){return!!(t&&t.__v_isShallow)}function Cp(t){return Hs(t)||Ys(t)}function Ee(t){const e=t&&t.__v_raw;return e?Ee(e):t}function Lc(t){return co(t,"__v_skip",!0),t}const Ki=t=>Le(t)?hr(t):t,$c=t=>Le(t)?_p(t):t;function Tp(t){$n&&Gt&&(t=Ee(t),mp(t.dep||(t.dep=Dc())))}function Ip(t,e){t=Ee(t);const n=t.dep;n&&Tl(n)}function le(t){return!!(t&&t.__v_isRef===!0)}function oe(t){return Sp(t,!1)}function vb(t){return Sp(t,!0)}function Sp(t,e){return le(t)?t:new bb(t,e)}class bb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ee(e),this._value=n?e:Ki(e)}get value(){return Tp(this),this._value}set value(e){const n=this.__v_isShallow||uo(e)||Ys(e);e=n?e:Ee(e),zi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ki(e),Ip(this))}}function Z(t){return le(t)?t.value:t}const Eb={get:(t,e,n)=>Z(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return le(i)&&!le(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Ap(t){return Hs(t)?t:new Proxy(t,Eb)}class xb{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pc(e,()=>{this._dirty||(this._dirty=!0,Ip(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=Ee(this);return Tp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function _b(t,e,n=!1){let s,i;const r=de(t);return r?(s=t,i=Xt):(s=t.get,i=t.set),new xb(s,i,r||!i,n)}function Bn(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){qo(r,e,n)}return i}function Jt(t,e,n,s){if(de(t)){const r=Bn(t,e,n,s);return r&&op(r)&&r.catch(o=>{qo(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Jt(t[r],e,n,s));return i}function qo(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,o,a)===!1)return}r=r.parent}const u=e.appContext.config.errorHandler;if(u){Bn(u,null,10,[t,o,a]);return}}Cb(t,n,i,s)}function Cb(t,e,n,s=!0){console.error(t)}let Wi=!1,Il=!1;const yt=[];let an=0;const qs=[];let gn=null,ss=0;const kp=Promise.resolve();let Bc=null;function Dp(t){const e=Bc||kp;return t?e.then(this?t.bind(this):t):e}function Tb(t){let e=an+1,n=yt.length;for(;e<n;){const s=e+n>>>1;Gi(yt[s])<t?e=s+1:n=s}return e}function Fc(t){(!yt.length||!yt.includes(t,Wi&&t.allowRecurse?an+1:an))&&(t.id==null?yt.push(t):yt.splice(Tb(t.id),0,t),Pp())}function Pp(){!Wi&&!Il&&(Il=!0,Bc=kp.then(Op))}function Ib(t){const e=yt.indexOf(t);e>an&&yt.splice(e,1)}function Sb(t){ne(t)?qs.push(...t):(!gn||!gn.includes(t,t.allowRecurse?ss+1:ss))&&qs.push(t),Pp()}function Yh(t,e=Wi?an+1:0){for(;e<yt.length;e++){const n=yt[e];n&&n.pre&&(yt.splice(e,1),e--,n())}}function Rp(t){if(qs.length){const e=[...new Set(qs)];if(qs.length=0,gn){gn.push(...e);return}for(gn=e,gn.sort((n,s)=>Gi(n)-Gi(s)),ss=0;ss<gn.length;ss++)gn[ss]();gn=null,ss=0}}const Gi=t=>t.id==null?1/0:t.id,Ab=(t,e)=>{const n=Gi(t)-Gi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Op(t){Il=!1,Wi=!0,yt.sort(Ab);const e=Xt;try{for(an=0;an<yt.length;an++){const n=yt[an];n&&n.active!==!1&&Bn(n,null,14)}}finally{an=0,yt.length=0,Rp(),Wi=!1,Bc=null,(yt.length||qs.length)&&Op()}}function kb(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Re;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:p,trim:g}=s[d]||Re;g&&(i=n.map(b=>st(b)?b.trim():b)),p&&(i=n.map(bl))}let a,u=s[a=ja(e)]||s[a=ja(Qs(e))];!u&&r&&(u=s[a=ja(ci(e))]),u&&Jt(u,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Jt(c,t,6,i)}}function Np(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!de(t)){const u=c=>{const d=Np(c,e,!0);d&&(a=!0,ot(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!a?(Le(t)&&s.set(t,null),null):(ne(r)?r.forEach(u=>o[u]=null):ot(o,r),Le(t)&&s.set(t,o),o)}function zo(t,e){return!t||!Vo(e)?!1:(e=e.slice(2).replace(/Once$/,""),ve(t,e[0].toLowerCase()+e.slice(1))||ve(t,ci(e))||ve(t,e))}let Qt=null,Mp=null;function ho(t){const e=Qt;return Qt=t,Mp=t&&t.type.__scopeId||null,e}function Ns(t,e=Qt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&od(-1);const r=ho(e);let o;try{o=t(...i)}finally{ho(r),s._d&&od(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ua(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:u,emit:c,render:d,renderCache:p,data:g,setupState:b,ctx:x,inheritAttrs:T}=t;let N,F;const j=ho(t);try{if(n.shapeFlag&4){const V=i||s;N=on(d.call(V,V,p,r,b,g,x)),F=u}else{const V=e;N=on(V.length>1?V(r,{attrs:u,slots:a,emit:c}):V(r,null)),F=e.props?u:Db(u)}}catch(V){Li.length=0,qo(V,t,1),N=Ge(ms)}let G=N;if(F&&T!==!1){const V=Object.keys(F),{shapeFlag:fe}=G;V.length&&fe&7&&(o&&V.some(Tc)&&(F=Pb(F,o)),G=ws(G,F))}return n.dirs&&(G=ws(G),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&(G.transition=n.transition),N=G,ho(j),N}const Db=t=>{let e;for(const n in t)(n==="class"||n==="style"||Vo(n))&&((e||(e={}))[n]=t[n]);return e},Pb=(t,e)=>{const n={};for(const s in t)(!Tc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Rb(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:u}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Xh(s,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(o[g]!==s[g]&&!zo(c,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Xh(s,o,c):!0:!!o;return!1}function Xh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!zo(n,r))return!0}return!1}function Ob({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Nb=t=>t.__isSuspense;function Mb(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Sb(t)}function Ni(t,e){return Vc(t,null,e)}const jr={};function eo(t,e,n){return Vc(t,e,n)}function Vc(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=Re){var a;const u=zv()===((a=vt)==null?void 0:a.scope)?vt:null;let c,d=!1,p=!1;if(le(t)?(c=()=>t.value,d=uo(t)):Hs(t)?(c=()=>t,s=!0):ne(t)?(p=!0,d=t.some(V=>Hs(V)||uo(V)),c=()=>t.map(V=>{if(le(V))return V.value;if(Hs(V))return os(V);if(de(V))return Bn(V,u,2)})):de(t)?e?c=()=>Bn(t,u,2):c=()=>{if(!(u&&u.isUnmounted))return g&&g(),Jt(t,u,3,[b])}:c=Xt,e&&s){const V=c;c=()=>os(V())}let g,b=V=>{g=j.onStop=()=>{Bn(V,u,4)}},x;if(Yi)if(b=Xt,e?n&&Jt(e,u,3,[c(),p?[]:void 0,b]):c(),i==="sync"){const V=I1();x=V.__watcherHandles||(V.__watcherHandles=[])}else return Xt;let T=p?new Array(t.length).fill(jr):jr;const N=()=>{if(!!j.active)if(e){const V=j.run();(s||d||(p?V.some((fe,ge)=>zi(fe,T[ge])):zi(V,T)))&&(g&&g(),Jt(e,u,3,[V,T===jr?void 0:p&&T[0]===jr?[]:T,b]),T=V)}else j.run()};N.allowRecurse=!!e;let F;i==="sync"?F=N:i==="post"?F=()=>Ot(N,u&&u.suspense):(N.pre=!0,u&&(N.id=u.uid),F=()=>Fc(N));const j=new Pc(c,F);e?n?N():T=j.run():i==="post"?Ot(j.run.bind(j),u&&u.suspense):j.run();const G=()=>{j.stop(),u&&u.scope&&Ic(u.scope.effects,j)};return x&&x.push(G),G}function Lb(t,e,n){const s=this.proxy,i=st(t)?t.includes(".")?Lp(s,t):()=>s[t]:t.bind(s,s);let r;de(e)?r=e:(r=e.handler,n=e);const o=vt;Xs(this);const a=Vc(i,r.bind(s),n);return o?Xs(o):fs(),a}function Lp(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function os(t,e){if(!Le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),le(t))os(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)os(t[n],e);else if(rp(t)||Us(t))t.forEach(n=>{os(n,e)});else if(lp(t))for(const n in t)os(t[n],e);return t}function Ue(t,e){const n=Qt;if(n===null)return t;const s=Yo(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,u,c=Re]=e[r];o&&(de(o)&&(o={mounted:o,updated:o}),o.deep&&os(a),i.push({dir:o,instance:s,value:a,oldValue:void 0,arg:u,modifiers:c}))}return t}function es(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let u=a.dir[s];u&&(ui(),Jt(u,n,8,[t.el,a,t,e]),hi())}}function dr(t,e){return de(t)?(()=>ot({name:t.name},e,{setup:t}))():t}const to=t=>!!t.type.__asyncLoader,$p=t=>t.type.__isKeepAlive;function $b(t,e){Bp(t,"a",e)}function Bb(t,e){Bp(t,"da",e)}function Bp(t,e,n=vt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ko(e,s,n),n){let i=n.parent;for(;i&&i.parent;)$p(i.parent.vnode)&&Fb(s,e,n,i),i=i.parent}}function Fb(t,e,n,s){const i=Ko(e,t,s,!0);Wo(()=>{Ic(s[e],i)},n)}function Ko(t,e,n=vt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ui(),Xs(n);const a=Jt(e,n,t,o);return fs(),hi(),a});return s?i.unshift(r):i.push(r),r}}const Tn=t=>(e,n=vt)=>(!Yi||t==="sp")&&Ko(t,(...s)=>e(...s),n),Vb=Tn("bm"),di=Tn("m"),jb=Tn("bu"),Ub=Tn("u"),Hb=Tn("bum"),Wo=Tn("um"),qb=Tn("sp"),zb=Tn("rtg"),Kb=Tn("rtc");function Wb(t,e=vt){Ko("ec",t,e)}const Gb=Symbol.for("v-ndc");function Sl(t,e,n,s){let i;const r=n&&n[s];if(ne(t)||st(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Le(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const c=o[a];i[a]=e(t[c],c,a,r&&r[a])}}else i=[];return n&&(n[s]=i),i}const Al=t=>t?Qp(t)?Yo(t)||t.proxy:Al(t.parent):null,Mi=ot(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Al(t.parent),$root:t=>Al(t.root),$emit:t=>t.emit,$options:t=>jc(t),$forceUpdate:t=>t.f||(t.f=()=>Fc(t.update)),$nextTick:t=>t.n||(t.n=Dp.bind(t.proxy)),$watch:t=>Lb.bind(t)}),Ha=(t,e)=>t!==Re&&!t.__isScriptSetup&&ve(t,e),Qb={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Ha(s,e))return o[e]=1,s[e];if(i!==Re&&ve(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&ve(c,e))return o[e]=3,r[e];if(n!==Re&&ve(n,e))return o[e]=4,n[e];kl&&(o[e]=0)}}const d=Mi[e];let p,g;if(d)return e==="$attrs"&&Lt(t,"get",e),d(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==Re&&ve(n,e))return o[e]=4,n[e];if(g=u.config.globalProperties,ve(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Ha(i,e)?(i[e]=n,!0):s!==Re&&ve(s,e)?(s[e]=n,!0):ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||t!==Re&&ve(t,o)||Ha(e,o)||(a=r[0])&&ve(a,o)||ve(s,o)||ve(Mi,o)||ve(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Jh(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let kl=!0;function Yb(t){const e=jc(t),n=t.proxy,s=t.ctx;kl=!1,e.beforeCreate&&Zh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:p,mounted:g,beforeUpdate:b,updated:x,activated:T,deactivated:N,beforeDestroy:F,beforeUnmount:j,destroyed:G,unmounted:V,render:fe,renderTracked:ge,renderTriggered:ae,errorCaptured:Te,serverPrefetch:me,expose:Q,inheritAttrs:ke,components:Ke,directives:Ve,filters:Xe}=e;if(c&&Xb(c,s,null),o)for(const we in o){const ie=o[we];de(ie)&&(s[we]=ie.bind(n))}if(i){const we=i.call(n,n);Le(we)&&(t.data=hr(we))}if(kl=!0,r)for(const we in r){const ie=r[we],Je=de(ie)?ie.bind(n,n):de(ie.get)?ie.get.bind(n,n):Xt,Ze=!de(ie)&&de(ie.set)?ie.set.bind(n):Xt,kt=bt({get:Je,set:Ze});Object.defineProperty(s,we,{enumerable:!0,configurable:!0,get:()=>kt.value,set:$e=>kt.value=$e})}if(a)for(const we in a)Fp(a[we],s,n,we);if(u){const we=de(u)?u.call(n):u;Reflect.ownKeys(we).forEach(ie=>{ds(ie,we[ie])})}d&&Zh(d,t,"c");function Ae(we,ie){ne(ie)?ie.forEach(Je=>we(Je.bind(n))):ie&&we(ie.bind(n))}if(Ae(Vb,p),Ae(di,g),Ae(jb,b),Ae(Ub,x),Ae($b,T),Ae(Bb,N),Ae(Wb,Te),Ae(Kb,ge),Ae(zb,ae),Ae(Hb,j),Ae(Wo,V),Ae(qb,me),ne(Q))if(Q.length){const we=t.exposed||(t.exposed={});Q.forEach(ie=>{Object.defineProperty(we,ie,{get:()=>n[ie],set:Je=>n[ie]=Je})})}else t.exposed||(t.exposed={});fe&&t.render===Xt&&(t.render=fe),ke!=null&&(t.inheritAttrs=ke),Ke&&(t.components=Ke),Ve&&(t.directives=Ve)}function Xb(t,e,n=Xt){ne(t)&&(t=Dl(t));for(const s in t){const i=t[s];let r;Le(i)?"default"in i?r=Ht(i.from||s,i.default,!0):r=Ht(i.from||s):r=Ht(i),le(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Zh(t,e,n){Jt(ne(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Fp(t,e,n,s){const i=s.includes(".")?Lp(n,s):()=>n[s];if(st(t)){const r=e[t];de(r)&&eo(i,r)}else if(de(t))eo(i,t.bind(n));else if(Le(t))if(ne(t))t.forEach(r=>Fp(r,e,n,s));else{const r=de(t.handler)?t.handler.bind(n):e[t.handler];de(r)&&eo(i,r,t)}}function jc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let u;return a?u=a:!i.length&&!n&&!s?u=e:(u={},i.length&&i.forEach(c=>fo(u,c,o,!0)),fo(u,e,o)),Le(e)&&r.set(e,u),u}function fo(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&fo(t,r,n,!0),i&&i.forEach(o=>fo(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Jb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Jb={data:ed,props:td,emits:td,methods:Si,computed:Si,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:Si,directives:Si,watch:e1,provide:ed,inject:Zb};function ed(t,e){return e?t?function(){return ot(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function Zb(t,e){return Si(Dl(t),Dl(e))}function Dl(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function St(t,e){return t?[...new Set([].concat(t,e))]:e}function Si(t,e){return t?ot(Object.create(null),t,e):e}function td(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:ot(Object.create(null),Jh(t),Jh(e!=null?e:{})):e}function e1(t,e){if(!t)return e;if(!e)return t;const n=ot(Object.create(null),t);for(const s in e)n[s]=St(t[s],e[s]);return n}function Vp(){return{app:null,config:{isNativeTag:Pv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let t1=0;function n1(t,e){return function(s,i=null){de(s)||(s=ot({},s)),i!=null&&!Le(i)&&(i=null);const r=Vp(),o=new Set;let a=!1;const u=r.app={_uid:t1++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:S1,get config(){return r.config},set config(c){},use(c,...d){return o.has(c)||(c&&de(c.install)?(o.add(c),c.install(u,...d)):de(c)&&(o.add(c),c(u,...d))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,d){return d?(r.components[c]=d,u):r.components[c]},directive(c,d){return d?(r.directives[c]=d,u):r.directives[c]},mount(c,d,p){if(!a){const g=Ge(s,i);return g.appContext=r,d&&e?e(g,c):t(g,c,p),a=!0,u._container=c,c.__vue_app__=u,Yo(g.component)||g.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return r.provides[c]=d,u},runWithContext(c){po=u;try{return c()}finally{po=null}}};return u}}let po=null;function ds(t,e){if(vt){let n=vt.provides;const s=vt.parent&&vt.parent.provides;s===n&&(n=vt.provides=Object.create(s)),n[t]=e}}function Ht(t,e,n=!1){const s=vt||Qt;if(s||po){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:po._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&de(e)?e.call(s&&s.proxy):e}}function s1(t,e,n,s=!1){const i={},r={};co(r,Qo,1),t.propsDefaults=Object.create(null),jp(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:yb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function i1(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Ee(i),[u]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(zo(t.emitsOptions,g))continue;const b=e[g];if(u)if(ve(r,g))b!==r[g]&&(r[g]=b,c=!0);else{const x=Qs(g);i[x]=Pl(u,a,x,b,t,!1)}else b!==r[g]&&(r[g]=b,c=!0)}}}else{jp(t,e,i,r)&&(c=!0);let d;for(const p in a)(!e||!ve(e,p)&&((d=ci(p))===p||!ve(e,d)))&&(u?n&&(n[p]!==void 0||n[d]!==void 0)&&(i[p]=Pl(u,a,p,void 0,t,!0)):delete i[p]);if(r!==a)for(const p in r)(!e||!ve(e,p)&&!0)&&(delete r[p],c=!0)}c&&vn(t,"set","$attrs")}function jp(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(Jr(u))continue;const c=e[u];let d;i&&ve(i,d=Qs(u))?!r||!r.includes(d)?n[d]=c:(a||(a={}))[d]=c:zo(t.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,o=!0)}if(r){const u=Ee(n),c=a||Re;for(let d=0;d<r.length;d++){const p=r[d];n[p]=Pl(i,u,p,c[p],t,!ve(c,p))}}return o}function Pl(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=ve(o,"default");if(a&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&de(u)){const{propsDefaults:c}=i;n in c?s=c[n]:(Xs(i),s=c[n]=u.call(null,e),fs())}else s=u}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===ci(n))&&(s=!0))}return s}function Up(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let u=!1;if(!de(t)){const d=p=>{u=!0;const[g,b]=Up(p,e,!0);ot(o,g),b&&a.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!u)return Le(t)&&s.set(t,js),js;if(ne(r))for(let d=0;d<r.length;d++){const p=Qs(r[d]);nd(p)&&(o[p]=Re)}else if(r)for(const d in r){const p=Qs(d);if(nd(p)){const g=r[d],b=o[p]=ne(g)||de(g)?{type:g}:ot({},g);if(b){const x=rd(Boolean,b.type),T=rd(String,b.type);b[0]=x>-1,b[1]=T<0||x<T,(x>-1||ve(b,"default"))&&a.push(p)}}}const c=[o,a];return Le(t)&&s.set(t,c),c}function nd(t){return t[0]!=="$"}function sd(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function id(t,e){return sd(t)===sd(e)}function rd(t,e){return ne(e)?e.findIndex(n=>id(n,t)):de(e)&&id(e,t)?0:-1}const Hp=t=>t[0]==="_"||t==="$stable",Uc=t=>ne(t)?t.map(on):[on(t)],r1=(t,e,n)=>{if(e._n)return e;const s=Ns((...i)=>Uc(e(...i)),n);return s._c=!1,s},qp=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Hp(i))continue;const r=t[i];if(de(r))e[i]=r1(i,r,s);else if(r!=null){const o=Uc(r);e[i]=()=>o}}},zp=(t,e)=>{const n=Uc(e);t.slots.default=()=>n},o1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ee(e),co(e,"_",n)):qp(e,t.slots={})}else t.slots={},e&&zp(t,e);co(t.slots,Qo,1)},a1=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=Re;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(ot(i,e),!n&&a===1&&delete i._):(r=!e.$stable,qp(e,i)),o=e}else e&&(zp(t,e),o={default:1});if(r)for(const a in i)!Hp(a)&&!(a in o)&&delete i[a]};function Rl(t,e,n,s,i=!1){if(ne(t)){t.forEach((g,b)=>Rl(g,e&&(ne(e)?e[b]:e),n,s,i));return}if(to(s)&&!i)return;const r=s.shapeFlag&4?Yo(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:u}=t,c=e&&e.r,d=a.refs===Re?a.refs={}:a.refs,p=a.setupState;if(c!=null&&c!==u&&(st(c)?(d[c]=null,ve(p,c)&&(p[c]=null)):le(c)&&(c.value=null)),de(u))Bn(u,a,12,[o,d]);else{const g=st(u),b=le(u);if(g||b){const x=()=>{if(t.f){const T=g?ve(p,u)?p[u]:d[u]:u.value;i?ne(T)&&Ic(T,r):ne(T)?T.includes(r)||T.push(r):g?(d[u]=[r],ve(p,u)&&(p[u]=d[u])):(u.value=[r],t.k&&(d[t.k]=u.value))}else g?(d[u]=o,ve(p,u)&&(p[u]=o)):b&&(u.value=o,t.k&&(d[t.k]=o))};o?(x.id=-1,Ot(x,n)):x()}}}const Ot=Mb;function l1(t){return c1(t)}function c1(t,e){const n=El();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:p,nextSibling:g,setScopeId:b=Xt,insertStaticContent:x}=t,T=(m,y,E,I=null,P=null,O=null,U=!1,A=null,$=!!y.dynamicChildren)=>{if(m===y)return;m&&!xi(m,y)&&(I=k(m),$e(m,P,O,!0),m=null),y.patchFlag===-2&&($=!1,y.dynamicChildren=null);const{type:R,ref:K,shapeFlag:B}=y;switch(R){case Go:N(m,y,E,I);break;case ms:F(m,y,E,I);break;case no:m==null&&j(y,E,I,U);break;case mt:Ke(m,y,E,I,P,O,U,A,$);break;default:B&1?fe(m,y,E,I,P,O,U,A,$):B&6?Ve(m,y,E,I,P,O,U,A,$):(B&64||B&128)&&R.process(m,y,E,I,P,O,U,A,$,D)}K!=null&&P&&Rl(K,m&&m.ref,O,y||m,!y)},N=(m,y,E,I)=>{if(m==null)s(y.el=a(y.children),E,I);else{const P=y.el=m.el;y.children!==m.children&&c(P,y.children)}},F=(m,y,E,I)=>{m==null?s(y.el=u(y.children||""),E,I):y.el=m.el},j=(m,y,E,I)=>{[m.el,m.anchor]=x(m.children,y,E,I,m.el,m.anchor)},G=({el:m,anchor:y},E,I)=>{let P;for(;m&&m!==y;)P=g(m),s(m,E,I),m=P;s(y,E,I)},V=({el:m,anchor:y})=>{let E;for(;m&&m!==y;)E=g(m),i(m),m=E;i(y)},fe=(m,y,E,I,P,O,U,A,$)=>{U=U||y.type==="svg",m==null?ge(y,E,I,P,O,U,A,$):me(m,y,P,O,U,A,$)},ge=(m,y,E,I,P,O,U,A)=>{let $,R;const{type:K,props:B,shapeFlag:z,transition:ee,dirs:ue}=m;if($=m.el=o(m.type,O,B&&B.is,B),z&8?d($,m.children):z&16&&Te(m.children,$,null,I,P,O&&K!=="foreignObject",U,A),ue&&es(m,null,I,"created"),ae($,m,m.scopeId,U,I),B){for(const xe in B)xe!=="value"&&!Jr(xe)&&r($,xe,null,B[xe],O,m.children,I,P,je);"value"in B&&r($,"value",null,B.value),(R=B.onVnodeBeforeMount)&&rn(R,I,m)}ue&&es(m,null,I,"beforeMount");const he=(!P||P&&!P.pendingBranch)&&ee&&!ee.persisted;he&&ee.beforeEnter($),s($,y,E),((R=B&&B.onVnodeMounted)||he||ue)&&Ot(()=>{R&&rn(R,I,m),he&&ee.enter($),ue&&es(m,null,I,"mounted")},P)},ae=(m,y,E,I,P)=>{if(E&&b(m,E),I)for(let O=0;O<I.length;O++)b(m,I[O]);if(P){let O=P.subTree;if(y===O){const U=P.vnode;ae(m,U,U.scopeId,U.slotScopeIds,P.parent)}}},Te=(m,y,E,I,P,O,U,A,$=0)=>{for(let R=$;R<m.length;R++){const K=m[R]=A?Rn(m[R]):on(m[R]);T(null,K,y,E,I,P,O,U,A)}},me=(m,y,E,I,P,O,U)=>{const A=y.el=m.el;let{patchFlag:$,dynamicChildren:R,dirs:K}=y;$|=m.patchFlag&16;const B=m.props||Re,z=y.props||Re;let ee;E&&ts(E,!1),(ee=z.onVnodeBeforeUpdate)&&rn(ee,E,y,m),K&&es(y,m,E,"beforeUpdate"),E&&ts(E,!0);const ue=P&&y.type!=="foreignObject";if(R?Q(m.dynamicChildren,R,A,E,I,ue,O):U||ie(m,y,A,null,E,I,ue,O,!1),$>0){if($&16)ke(A,y,B,z,E,I,P);else if($&2&&B.class!==z.class&&r(A,"class",null,z.class,P),$&4&&r(A,"style",B.style,z.style,P),$&8){const he=y.dynamicProps;for(let xe=0;xe<he.length;xe++){const Be=he[xe],Pt=B[Be],sn=z[Be];(sn!==Pt||Be==="value")&&r(A,Be,Pt,sn,P,m.children,E,I,je)}}$&1&&m.children!==y.children&&d(A,y.children)}else!U&&R==null&&ke(A,y,B,z,E,I,P);((ee=z.onVnodeUpdated)||K)&&Ot(()=>{ee&&rn(ee,E,y,m),K&&es(y,m,E,"updated")},I)},Q=(m,y,E,I,P,O,U)=>{for(let A=0;A<y.length;A++){const $=m[A],R=y[A],K=$.el&&($.type===mt||!xi($,R)||$.shapeFlag&70)?p($.el):E;T($,R,K,null,I,P,O,U,!0)}},ke=(m,y,E,I,P,O,U)=>{if(E!==I){if(E!==Re)for(const A in E)!Jr(A)&&!(A in I)&&r(m,A,E[A],null,U,y.children,P,O,je);for(const A in I){if(Jr(A))continue;const $=I[A],R=E[A];$!==R&&A!=="value"&&r(m,A,R,$,U,y.children,P,O,je)}"value"in I&&r(m,"value",E.value,I.value)}},Ke=(m,y,E,I,P,O,U,A,$)=>{const R=y.el=m?m.el:a(""),K=y.anchor=m?m.anchor:a("");let{patchFlag:B,dynamicChildren:z,slotScopeIds:ee}=y;ee&&(A=A?A.concat(ee):ee),m==null?(s(R,E,I),s(K,E,I),Te(y.children,E,K,P,O,U,A,$)):B>0&&B&64&&z&&m.dynamicChildren?(Q(m.dynamicChildren,z,E,P,O,U,A),(y.key!=null||P&&y===P.subTree)&&Kp(m,y,!0)):ie(m,y,E,K,P,O,U,A,$)},Ve=(m,y,E,I,P,O,U,A,$)=>{y.slotScopeIds=A,m==null?y.shapeFlag&512?P.ctx.activate(y,E,I,U,$):Xe(y,E,I,P,O,U,$):jt(m,y,$)},Xe=(m,y,E,I,P,O,U)=>{const A=m.component=v1(m,I,P);if($p(m)&&(A.ctx.renderer=D),b1(A),A.asyncDep){if(P&&P.registerDep(A,Ae),!m.el){const $=A.subTree=Ge(ms);F(null,$,y,E)}return}Ae(A,m,y,E,P,O,U)},jt=(m,y,E)=>{const I=y.component=m.component;if(Rb(m,y,E))if(I.asyncDep&&!I.asyncResolved){we(I,y,E);return}else I.next=y,Ib(I.update),I.update();else y.el=m.el,I.vnode=y},Ae=(m,y,E,I,P,O,U)=>{const A=()=>{if(m.isMounted){let{next:K,bu:B,u:z,parent:ee,vnode:ue}=m,he=K,xe;ts(m,!1),K?(K.el=ue.el,we(m,K,U)):K=ue,B&&Zr(B),(xe=K.props&&K.props.onVnodeBeforeUpdate)&&rn(xe,ee,K,ue),ts(m,!0);const Be=Ua(m),Pt=m.subTree;m.subTree=Be,T(Pt,Be,p(Pt.el),k(Pt),m,P,O),K.el=Be.el,he===null&&Ob(m,Be.el),z&&Ot(z,P),(xe=K.props&&K.props.onVnodeUpdated)&&Ot(()=>rn(xe,ee,K,ue),P)}else{let K;const{el:B,props:z}=y,{bm:ee,m:ue,parent:he}=m,xe=to(y);if(ts(m,!1),ee&&Zr(ee),!xe&&(K=z&&z.onVnodeBeforeMount)&&rn(K,he,y),ts(m,!0),B&&_){const Be=()=>{m.subTree=Ua(m),_(B,m.subTree,m,P,null)};xe?y.type.__asyncLoader().then(()=>!m.isUnmounted&&Be()):Be()}else{const Be=m.subTree=Ua(m);T(null,Be,E,I,m,P,O),y.el=Be.el}if(ue&&Ot(ue,P),!xe&&(K=z&&z.onVnodeMounted)){const Be=y;Ot(()=>rn(K,he,Be),P)}(y.shapeFlag&256||he&&to(he.vnode)&&he.vnode.shapeFlag&256)&&m.a&&Ot(m.a,P),m.isMounted=!0,y=E=I=null}},$=m.effect=new Pc(A,()=>Fc(R),m.scope),R=m.update=()=>$.run();R.id=m.uid,ts(m,!0),R()},we=(m,y,E)=>{y.component=m;const I=m.vnode.props;m.vnode=y,m.next=null,i1(m,y.props,I,E),a1(m,y.children,E),ui(),Yh(),hi()},ie=(m,y,E,I,P,O,U,A,$=!1)=>{const R=m&&m.children,K=m?m.shapeFlag:0,B=y.children,{patchFlag:z,shapeFlag:ee}=y;if(z>0){if(z&128){Ze(R,B,E,I,P,O,U,A,$);return}else if(z&256){Je(R,B,E,I,P,O,U,A,$);return}}ee&8?(K&16&&je(R,P,O),B!==R&&d(E,B)):K&16?ee&16?Ze(R,B,E,I,P,O,U,A,$):je(R,P,O,!0):(K&8&&d(E,""),ee&16&&Te(B,E,I,P,O,U,A,$))},Je=(m,y,E,I,P,O,U,A,$)=>{m=m||js,y=y||js;const R=m.length,K=y.length,B=Math.min(R,K);let z;for(z=0;z<B;z++){const ee=y[z]=$?Rn(y[z]):on(y[z]);T(m[z],ee,E,null,P,O,U,A,$)}R>K?je(m,P,O,!0,!1,B):Te(y,E,I,P,O,U,A,$,B)},Ze=(m,y,E,I,P,O,U,A,$)=>{let R=0;const K=y.length;let B=m.length-1,z=K-1;for(;R<=B&&R<=z;){const ee=m[R],ue=y[R]=$?Rn(y[R]):on(y[R]);if(xi(ee,ue))T(ee,ue,E,null,P,O,U,A,$);else break;R++}for(;R<=B&&R<=z;){const ee=m[B],ue=y[z]=$?Rn(y[z]):on(y[z]);if(xi(ee,ue))T(ee,ue,E,null,P,O,U,A,$);else break;B--,z--}if(R>B){if(R<=z){const ee=z+1,ue=ee<K?y[ee].el:I;for(;R<=z;)T(null,y[R]=$?Rn(y[R]):on(y[R]),E,ue,P,O,U,A,$),R++}}else if(R>z)for(;R<=B;)$e(m[R],P,O,!0),R++;else{const ee=R,ue=R,he=new Map;for(R=ue;R<=z;R++){const It=y[R]=$?Rn(y[R]):on(y[R]);It.key!=null&&he.set(It.key,R)}let xe,Be=0;const Pt=z-ue+1;let sn=!1,kr=0;const In=new Array(Pt);for(R=0;R<Pt;R++)In[R]=0;for(R=ee;R<=B;R++){const It=m[R];if(Be>=Pt){$e(It,P,O,!0);continue}let it;if(It.key!=null)it=he.get(It.key);else for(xe=ue;xe<=z;xe++)if(In[xe-ue]===0&&xi(It,y[xe])){it=xe;break}it===void 0?$e(It,P,O,!0):(In[it-ue]=R+1,it>=kr?kr=it:sn=!0,T(It,y[it],E,null,P,O,U,A,$),Be++)}const Dr=sn?u1(In):js;for(xe=Dr.length-1,R=Pt-1;R>=0;R--){const It=ue+R,it=y[It],Pr=It+1<K?y[It+1].el:I;In[R]===0?T(null,it,E,Pr,P,O,U,A,$):sn&&(xe<0||R!==Dr[xe]?kt(it,E,Pr,2):xe--)}}},kt=(m,y,E,I,P=null)=>{const{el:O,type:U,transition:A,children:$,shapeFlag:R}=m;if(R&6){kt(m.component.subTree,y,E,I);return}if(R&128){m.suspense.move(y,E,I);return}if(R&64){U.move(m,y,E,D);return}if(U===mt){s(O,y,E);for(let B=0;B<$.length;B++)kt($[B],y,E,I);s(m.anchor,y,E);return}if(U===no){G(m,y,E);return}if(I!==2&&R&1&&A)if(I===0)A.beforeEnter(O),s(O,y,E),Ot(()=>A.enter(O),P);else{const{leave:B,delayLeave:z,afterLeave:ee}=A,ue=()=>s(O,y,E),he=()=>{B(O,()=>{ue(),ee&&ee()})};z?z(O,ue,he):he()}else s(O,y,E)},$e=(m,y,E,I=!1,P=!1)=>{const{type:O,props:U,ref:A,children:$,dynamicChildren:R,shapeFlag:K,patchFlag:B,dirs:z}=m;if(A!=null&&Rl(A,null,E,m,!0),K&256){y.ctx.deactivate(m);return}const ee=K&1&&z,ue=!to(m);let he;if(ue&&(he=U&&U.onVnodeBeforeUnmount)&&rn(he,y,m),K&6)zt(m.component,E,I);else{if(K&128){m.suspense.unmount(E,I);return}ee&&es(m,null,y,"beforeUnmount"),K&64?m.type.remove(m,y,E,P,D,I):R&&(O!==mt||B>0&&B&64)?je(R,y,E,!1,!0):(O===mt&&B&384||!P&&K&16)&&je($,y,E),I&&Dt(m)}(ue&&(he=U&&U.onVnodeUnmounted)||ee)&&Ot(()=>{he&&rn(he,y,m),ee&&es(m,null,y,"unmounted")},E)},Dt=m=>{const{type:y,el:E,anchor:I,transition:P}=m;if(y===mt){qt(E,I);return}if(y===no){V(m);return}const O=()=>{i(E),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(m.shapeFlag&1&&P&&!P.persisted){const{leave:U,delayLeave:A}=P,$=()=>U(E,O);A?A(m.el,O,$):$()}else O()},qt=(m,y)=>{let E;for(;m!==y;)E=g(m),i(m),m=E;i(y)},zt=(m,y,E)=>{const{bum:I,scope:P,update:O,subTree:U,um:A}=m;I&&Zr(I),P.stop(),O&&(O.active=!1,$e(U,m,y,E)),A&&Ot(A,y),Ot(()=>{m.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},je=(m,y,E,I=!1,P=!1,O=0)=>{for(let U=O;U<m.length;U++)$e(m[U],y,E,I,P)},k=m=>m.shapeFlag&6?k(m.component.subTree):m.shapeFlag&128?m.suspense.next():g(m.anchor||m.el),H=(m,y,E)=>{m==null?y._vnode&&$e(y._vnode,null,null,!0):T(y._vnode||null,m,y,null,null,null,E),Yh(),Rp(),y._vnode=m},D={p:T,um:$e,m:kt,r:Dt,mt:Xe,mc:Te,pc:ie,pbc:Q,n:k,o:t};let S,_;return e&&([S,_]=e(D)),{render:H,hydrate:S,createApp:n1(H,S)}}function ts({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Kp(t,e,n=!1){const s=t.children,i=e.children;if(ne(s)&&ne(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Rn(i[r]),a.el=o.el),n||Kp(o,a)),a.type===Go&&(a.el=o.el)}}function u1(t){const e=t.slice(),n=[0];let s,i,r,o,a;const u=t.length;for(s=0;s<u;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const h1=t=>t.__isTeleport,mt=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),ms=Symbol.for("v-cmt"),no=Symbol.for("v-stc"),Li=[];let Yt=null;function Pe(t=!1){Li.push(Yt=t?null:[])}function d1(){Li.pop(),Yt=Li[Li.length-1]||null}let Qi=1;function od(t){Qi+=t}function Wp(t){return t.dynamicChildren=Qi>0?Yt||js:null,d1(),Qi>0&&Yt&&Yt.push(t),t}function qe(t,e,n,s,i,r){return Wp(v(t,e,n,s,i,r,!0))}function Ol(t,e,n,s,i){return Wp(Ge(t,e,n,s,i,!0))}function Nl(t){return t?t.__v_isVNode===!0:!1}function xi(t,e){return t.type===e.type&&t.key===e.key}const Qo="__vInternal",Gp=({key:t})=>t!=null?t:null,so=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?st(t)||le(t)||de(t)?{i:Qt,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,s=0,i=null,r=t===mt?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Gp(e),ref:e&&so(e),scopeId:Mp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qt};return a?(Hc(u,n),r&128&&t.normalize(u)):n&&(u.shapeFlag|=st(n)?8:16),Qi>0&&!o&&Yt&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&Yt.push(u),u}const Ge=f1;function f1(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===Gb)&&(t=ms),Nl(t)){const a=ws(t,e,!0);return n&&Hc(a,n),Qi>0&&!r&&Yt&&(a.shapeFlag&6?Yt[Yt.indexOf(t)]=a:Yt.push(a)),a.patchFlag|=-2,a}if(C1(t)&&(t=t.__vccOpts),e){e=p1(e);let{class:a,style:u}=e;a&&!st(a)&&(e.class=rs(a)),Le(u)&&(Cp(u)&&!ne(u)&&(u=ot({},u)),e.style=kc(u))}const o=st(t)?1:Nb(t)?128:h1(t)?64:Le(t)?4:de(t)?2:0;return v(t,e,n,s,i,o,r,!0)}function p1(t){return t?Cp(t)||Qo in t?ot({},t):t:null}function ws(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,a=e?m1(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Gp(a),ref:e&&e.ref?n&&i?ne(i)?i.concat(so(e)):[i,so(e)]:so(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==mt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ws(t.ssContent),ssFallback:t.ssFallback&&ws(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function io(t=" ",e=0){return Ge(Go,null,t,e)}function g1(t,e){const n=Ge(no,null,t);return n.staticCount=e,n}function Ml(t="",e=!1){return e?(Pe(),Ol(ms,null,t)):Ge(ms,null,t)}function on(t){return t==null||typeof t=="boolean"?Ge(ms):ne(t)?Ge(mt,null,t.slice()):typeof t=="object"?Rn(t):Ge(Go,null,String(t))}function Rn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ws(t)}function Hc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),Hc(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Qo in e)?e._ctx=Qt:i===3&&Qt&&(Qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:Qt},n=32):(e=String(e),s&64?(n=16,e=[io(e)]):n=8);t.children=e,t.shapeFlag|=n}function m1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=rs([e.class,s.class]));else if(i==="style")e.style=kc([e.style,s.style]);else if(Vo(i)){const r=e[i],o=s[i];o&&r!==o&&!(ne(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function rn(t,e,n,s=null){Jt(t,e,7,[n,s])}const w1=Vp();let y1=0;function v1(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||w1,r={uid:y1++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new dp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Up(s,i),emitsOptions:Np(s,i),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:s.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=kb.bind(null,r),t.ce&&t.ce(r),r}let vt=null,qc,Rs,ad="__VUE_INSTANCE_SETTERS__";(Rs=El()[ad])||(Rs=El()[ad]=[]),Rs.push(t=>vt=t),qc=t=>{Rs.length>1?Rs.forEach(e=>e(t)):Rs[0](t)};const Xs=t=>{qc(t),t.scope.on()},fs=()=>{vt&&vt.scope.off(),qc(null)};function Qp(t){return t.vnode.shapeFlag&4}let Yi=!1;function b1(t,e=!1){Yi=e;const{props:n,children:s}=t.vnode,i=Qp(t);s1(t,n,i,e),o1(t,s);const r=i?E1(t,e):void 0;return Yi=!1,r}function E1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Lc(new Proxy(t.ctx,Qb));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?_1(t):null;Xs(t),ui();const r=Bn(s,t,0,[t.props,i]);if(hi(),fs(),op(r)){if(r.then(fs,fs),e)return r.then(o=>{ld(t,o,e)}).catch(o=>{qo(o,t,0)});t.asyncDep=r}else ld(t,r,e)}else Yp(t,e)}function ld(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=Ap(e)),Yp(t,n)}let cd;function Yp(t,e,n){const s=t.type;if(!t.render){if(!e&&cd&&!s.render){const i=s.template||jc(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:u}=s,c=ot(ot({isCustomElement:r,delimiters:a},o),u);s.render=cd(i,c)}}t.render=s.render||Xt}Xs(t),ui(),Yb(t),hi(),fs()}function x1(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Lt(t,"get","$attrs"),e[n]}}))}function _1(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return x1(t)},slots:t.slots,emit:t.emit,expose:e}}function Yo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ap(Lc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Mi)return Mi[n](t)},has(e,n){return n in e||n in Mi}}))}function C1(t){return de(t)&&"__vccOpts"in t}const bt=(t,e)=>_b(t,e,Yi);function zc(t,e,n){const s=arguments.length;return s===2?Le(e)&&!ne(e)?Nl(e)?Ge(t,null,[e]):Ge(t,e):Ge(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Nl(n)&&(n=[n]),Ge(t,e,n))}const T1=Symbol.for("v-scx"),I1=()=>Ht(T1),S1="3.3.2",A1="http://www.w3.org/2000/svg",is=typeof document<"u"?document:null,ud=is&&is.createElement("template"),k1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?is.createElementNS(A1,t):is.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>is.createTextNode(t),createComment:t=>is.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>is.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{ud.innerHTML=s?`<svg>${t}</svg>`:t;const a=ud.content;if(s){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function D1(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function P1(t,e,n){const s=t.style,i=st(n);if(n&&!i){if(e&&!st(e))for(const r in e)n[r]==null&&Ll(s,r,"");for(const r in n)Ll(s,r,n[r])}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const hd=/\s*!important$/;function Ll(t,e,n){if(ne(n))n.forEach(s=>Ll(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=R1(t,e);hd.test(n)?t.setProperty(ci(s),n.replace(hd,""),"important"):t[s]=n}}const dd=["Webkit","Moz","ms"],qa={};function R1(t,e){const n=qa[e];if(n)return n;let s=Qs(e);if(s!=="filter"&&s in t)return qa[e]=s;s=cp(s);for(let i=0;i<dd.length;i++){const r=dd[i]+s;if(r in t)return qa[e]=r}return e}const fd="http://www.w3.org/1999/xlink";function O1(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(fd,e.slice(6,e.length)):t.setAttributeNS(fd,e,n);else{const r=Uv(e);n==null||r&&!up(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function N1(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,d=n==null?"":n;c!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=up(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function Ms(t,e,n,s){t.addEventListener(e,n,s)}function M1(t,e,n,s){t.removeEventListener(e,n,s)}function L1(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[a,u]=$1(e);if(s){const c=r[e]=V1(s,i);Ms(t,a,c,u)}else o&&(M1(t,a,o,u),r[e]=void 0)}}const pd=/(?:Once|Passive|Capture)$/;function $1(t){let e;if(pd.test(t)){e={};let s;for(;s=t.match(pd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ci(t.slice(2)),e]}let za=0;const B1=Promise.resolve(),F1=()=>za||(B1.then(()=>za=0),za=Date.now());function V1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Jt(j1(s,n.value),e,5,[s])};return n.value=t,n.attached=F1(),n}function j1(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const gd=/^on[a-z]/,U1=(t,e,n,s,i=!1,r,o,a,u)=>{e==="class"?D1(t,s,i):e==="style"?P1(t,n,s):Vo(e)?Tc(e)||L1(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):H1(t,e,s,i))?N1(t,e,s,r,o,a,u):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),O1(t,e,s,i))};function H1(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&gd.test(e)&&de(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||gd.test(e)&&st(n)?!1:e in t}const md=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>Zr(e,n):e};function q1(t){t.target.composing=!0}function wd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const He={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=md(i);const r=s||i.props&&i.props.type==="number";Ms(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=bl(a)),t._assign(a)}),n&&Ms(t,"change",()=>{t.value=t.value.trim()}),e||(Ms(t,"compositionstart",q1),Ms(t,"compositionend",wd),Ms(t,"change",wd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=md(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&bl(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},z1=["ctrl","shift","alt","meta"],K1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>z1.some(n=>t[`${n}Key`]&&!e.includes(n))},$l=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const r=K1[e[i]];if(r&&r(n,e))return}return t(n,...s)},W1=ot({patchProp:U1},k1);let yd;function G1(){return yd||(yd=l1(W1))}const Q1=(...t)=>{const e=G1().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=Y1(s);if(!i)return;const r=e._component;!de(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Y1(t){return st(t)?document.querySelector(t):t}var X1=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const J1=Symbol();var vd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(vd||(vd={}));function Z1(){const t=Hv(!0),e=t.run(()=>oe({}));let n=[],s=[];const i=Lc({install(r){i._a=r,r.provide(J1,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return!this._a&&!X1?s.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof window<"u";function e2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ie=Object.assign;function Ka(t,e){const n={};for(const s in e){const i=e[s];n[s]=en(i)?i.map(t):t(i)}return n}const $i=()=>{},en=Array.isArray,t2=/\/$/,n2=t=>t.replace(t2,"");function Wa(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(s=e.slice(0,u),r=e.slice(u+1,a>-1?a:e.length),i=t(r)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=o2(s!=null?s:e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function s2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function bd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function i2(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Js(e.matched[s],n.matched[i])&&Xp(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Js(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Xp(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!r2(t[n],e[n]))return!1;return!0}function r2(t,e){return en(t)?Ed(t,e):en(e)?Ed(e,t):t===e}function Ed(t,e){return en(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function o2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Xi;(function(t){t.pop="pop",t.push="push"})(Xi||(Xi={}));var Bi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Bi||(Bi={}));function a2(t){if(!t)if(Ls){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),n2(t)}const l2=/^[^#]+#/;function c2(t,e){return t.replace(l2,"#")+e}function u2(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Xo=()=>({left:window.pageXOffset,top:window.pageYOffset});function h2(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=u2(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function xd(t,e){return(history.state?history.state.position-e:-1)+t}const Bl=new Map;function d2(t,e){Bl.set(t,e)}function f2(t){const e=Bl.get(t);return Bl.delete(t),e}let p2=()=>location.protocol+"//"+location.host;function Jp(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,u=i.slice(a);return u[0]!=="/"&&(u="/"+u),bd(u,"")}return bd(n,t)+s+i}function g2(t,e,n,s){let i=[],r=[],o=null;const a=({state:g})=>{const b=Jp(t,location),x=n.value,T=e.value;let N=0;if(g){if(n.value=b,e.value=g,o&&o===x){o=null;return}N=T?g.position-T.position:0}else s(b);i.forEach(F=>{F(n.value,x,{delta:N,type:Xi.pop,direction:N?N>0?Bi.forward:Bi.back:Bi.unknown})})};function u(){o=n.value}function c(g){i.push(g);const b=()=>{const x=i.indexOf(g);x>-1&&i.splice(x,1)};return r.push(b),b}function d(){const{history:g}=window;!g.state||g.replaceState(Ie({},g.state,{scroll:Xo()}),"")}function p(){for(const g of r)g();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:p}}function _d(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Xo():null}}function m2(t){const{history:e,location:n}=window,s={value:Jp(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,c,d){const p=t.indexOf("#"),g=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+u:p2()+t+u;try{e[d?"replaceState":"pushState"](c,"",g),i.value=c}catch(b){console.error(b),n[d?"replace":"assign"](g)}}function o(u,c){const d=Ie({},e.state,_d(i.value.back,u,i.value.forward,!0),c,{position:i.value.position});r(u,d,!0),s.value=u}function a(u,c){const d=Ie({},i.value,e.state,{forward:u,scroll:Xo()});r(d.current,d,!0);const p=Ie({},_d(s.value,u,null),{position:d.position+1},c);r(u,p,!1),s.value=u}return{location:s,state:i,push:a,replace:o}}function w2(t){t=a2(t);const e=m2(t),n=g2(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ie({location:"",base:t,go:s,createHref:c2.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function y2(t){return typeof t=="string"||t&&typeof t=="object"}function Zp(t){return typeof t=="string"||typeof t=="symbol"}const kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eg=Symbol("");var Cd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Cd||(Cd={}));function Zs(t,e){return Ie(new Error,{type:t,[eg]:!0},e)}function pn(t,e){return t instanceof Error&&eg in t&&(e==null||!!(t.type&e))}const Td="[^/]+?",v2={sensitive:!1,strict:!1,start:!0,end:!0},b2=/[.+*?^${}()[\]/\\]/g;function E2(t,e){const n=Ie({},v2,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let p=0;p<c.length;p++){const g=c[p];let b=40+(n.sensitive?.25:0);if(g.type===0)p||(i+="/"),i+=g.value.replace(b2,"\\$&"),b+=40;else if(g.type===1){const{value:x,repeatable:T,optional:N,regexp:F}=g;r.push({name:x,repeatable:T,optional:N});const j=F||Td;if(j!==Td){b+=10;try{new RegExp(`(${j})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${x}" (${j}): `+V.message)}}let G=T?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;p||(G=N&&c.length<2?`(?:/${G})`:"/"+G),N&&(G+="?"),i+=G,b+=20,N&&(b+=-8),T&&(b+=-20),j===".*"&&(b+=-50)}d.push(b)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const d=c.match(o),p={};if(!d)return null;for(let g=1;g<d.length;g++){const b=d[g]||"",x=r[g-1];p[x.name]=b&&x.repeatable?b.split("/"):b}return p}function u(c){let d="",p=!1;for(const g of t){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const b of g)if(b.type===0)d+=b.value;else if(b.type===1){const{value:x,repeatable:T,optional:N}=b,F=x in c?c[x]:"";if(en(F)&&!T)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const j=en(F)?F.join("/"):F;if(!j)if(N)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);d+=j}}return d||"/"}return{re:o,score:s,keys:r,parse:a,stringify:u}}function x2(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function _2(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=x2(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Id(s))return 1;if(Id(i))return-1}return i.length-s.length}function Id(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const C2={type:0,value:""},T2=/[a-zA-Z0-9_]/;function I2(t){if(!t)return[[]];if(t==="/")return[[C2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${c}": ${b}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,u,c="",d="";function p(){!c||(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function g(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&p(),o()):u===":"?(p(),n=1):g();break;case 4:g(),n=s;break;case 1:u==="("?n=2:T2.test(u)?g():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),p(),o(),i}function S2(t,e,n){const s=E2(I2(t.path),n),i=Ie(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function A2(t,e){const n=[],s=new Map;e=kd({strict:!1,end:!0,sensitive:!1},e);function i(d){return s.get(d)}function r(d,p,g){const b=!g,x=k2(d);x.aliasOf=g&&g.record;const T=kd(e,d),N=[x];if("alias"in d){const G=typeof d.alias=="string"?[d.alias]:d.alias;for(const V of G)N.push(Ie({},x,{components:g?g.record.components:x.components,path:V,aliasOf:g?g.record:x}))}let F,j;for(const G of N){const{path:V}=G;if(p&&V[0]!=="/"){const fe=p.record.path,ge=fe[fe.length-1]==="/"?"":"/";G.path=p.record.path+(V&&ge+V)}if(F=S2(G,p,T),g?g.alias.push(F):(j=j||F,j!==F&&j.alias.push(F),b&&d.name&&!Ad(F)&&o(d.name)),x.children){const fe=x.children;for(let ge=0;ge<fe.length;ge++)r(fe[ge],F,g&&g.children[ge])}g=g||F,(F.record.components&&Object.keys(F.record.components).length||F.record.name||F.record.redirect)&&u(F)}return j?()=>{o(j)}:$i}function o(d){if(Zp(d)){const p=s.get(d);p&&(s.delete(d),n.splice(n.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=n.indexOf(d);p>-1&&(n.splice(p,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function u(d){let p=0;for(;p<n.length&&_2(d,n[p])>=0&&(d.record.path!==n[p].record.path||!tg(d,n[p]));)p++;n.splice(p,0,d),d.record.name&&!Ad(d)&&s.set(d.record.name,d)}function c(d,p){let g,b={},x,T;if("name"in d&&d.name){if(g=s.get(d.name),!g)throw Zs(1,{location:d});T=g.record.name,b=Ie(Sd(p.params,g.keys.filter(j=>!j.optional).map(j=>j.name)),d.params&&Sd(d.params,g.keys.map(j=>j.name))),x=g.stringify(b)}else if("path"in d)x=d.path,g=n.find(j=>j.re.test(x)),g&&(b=g.parse(x),T=g.record.name);else{if(g=p.name?s.get(p.name):n.find(j=>j.re.test(p.path)),!g)throw Zs(1,{location:d,currentLocation:p});T=g.record.name,b=Ie({},p.params,d.params),x=g.stringify(b)}const N=[];let F=g;for(;F;)N.unshift(F.record),F=F.parent;return{name:T,path:x,params:b,matched:N,meta:P2(N)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Sd(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function k2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:D2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function D2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Ad(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function P2(t){return t.reduce((e,n)=>Ie(e,n.meta),{})}function kd(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function tg(t,e){return e.children.some(n=>n===t||tg(t,n))}const ng=/#/g,R2=/&/g,O2=/\//g,N2=/=/g,M2=/\?/g,sg=/\+/g,L2=/%5B/g,$2=/%5D/g,ig=/%5E/g,B2=/%60/g,rg=/%7B/g,F2=/%7C/g,og=/%7D/g,V2=/%20/g;function Kc(t){return encodeURI(""+t).replace(F2,"|").replace(L2,"[").replace($2,"]")}function j2(t){return Kc(t).replace(rg,"{").replace(og,"}").replace(ig,"^")}function Fl(t){return Kc(t).replace(sg,"%2B").replace(V2,"+").replace(ng,"%23").replace(R2,"%26").replace(B2,"`").replace(rg,"{").replace(og,"}").replace(ig,"^")}function U2(t){return Fl(t).replace(N2,"%3D")}function H2(t){return Kc(t).replace(ng,"%23").replace(M2,"%3F")}function q2(t){return t==null?"":H2(t).replace(O2,"%2F")}function go(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function z2(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(sg," "),o=r.indexOf("="),a=go(o<0?r:r.slice(0,o)),u=o<0?null:go(r.slice(o+1));if(a in e){let c=e[a];en(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function Dd(t){let e="";for(let n in t){const s=t[n];if(n=U2(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(en(s)?s.map(r=>r&&Fl(r)):[s&&Fl(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function K2(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=en(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const W2=Symbol(""),Pd=Symbol(""),Wc=Symbol(""),ag=Symbol(""),Vl=Symbol("");function _i(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function On(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const u=p=>{p===!1?a(Zs(4,{from:n,to:e})):p instanceof Error?a(p):y2(p)?a(Zs(2,{from:e,to:p})):(r&&s.enterCallbacks[i]===r&&typeof p=="function"&&r.push(p),o())},c=t.call(s&&s.instances[i],e,n,u);let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(p=>a(p))})}function Ga(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let a=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(G2(a)){const c=(a.__vccOpts||a)[e];c&&i.push(On(c,n,s,r,o))}else{let u=a();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const d=e2(c)?c.default:c;r.components[o]=d;const g=(d.__vccOpts||d)[e];return g&&On(g,n,s,r,o)()}))}}return i}function G2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Rd(t){const e=Ht(Wc),n=Ht(ag),s=bt(()=>e.resolve(Z(t.to))),i=bt(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],p=n.matched;if(!d||!p.length)return-1;const g=p.findIndex(Js.bind(null,d));if(g>-1)return g;const b=Od(u[c-2]);return c>1&&Od(d)===b&&p[p.length-1].path!==b?p.findIndex(Js.bind(null,u[c-2])):g}),r=bt(()=>i.value>-1&&J2(n.params,s.value.params)),o=bt(()=>i.value>-1&&i.value===n.matched.length-1&&Xp(n.params,s.value.params));function a(u={}){return X2(u)?e[Z(t.replace)?"replace":"push"](Z(t.to)).catch($i):Promise.resolve()}return{route:s,href:bt(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const Q2=dr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Rd,setup(t,{slots:e}){const n=hr(Rd(t)),{options:s}=Ht(Wc),i=bt(()=>({[Nd(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Nd(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:zc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Y2=Q2;function X2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function J2(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!en(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Od(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Nd=(t,e,n)=>t!=null?t:e!=null?e:n,Z2=dr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ht(Vl),i=bt(()=>t.route||s.value),r=Ht(Pd,0),o=bt(()=>{let c=Z(r);const{matched:d}=i.value;let p;for(;(p=d[c])&&!p.components;)c++;return c}),a=bt(()=>i.value.matched[o.value]);ds(Pd,bt(()=>o.value+1)),ds(W2,a),ds(Vl,i);const u=oe();return eo(()=>[u.value,a.value,t.name],([c,d,p],[g,b,x])=>{d&&(d.instances[p]=c,b&&b!==d&&c&&c===g&&(d.leaveGuards.size||(d.leaveGuards=b.leaveGuards),d.updateGuards.size||(d.updateGuards=b.updateGuards))),c&&d&&(!b||!Js(d,b)||!g)&&(d.enterCallbacks[p]||[]).forEach(T=>T(c))},{flush:"post"}),()=>{const c=i.value,d=t.name,p=a.value,g=p&&p.components[d];if(!g)return Md(n.default,{Component:g,route:c});const b=p.props[d],x=b?b===!0?c.params:typeof b=="function"?b(c):b:null,N=zc(g,Ie({},x,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(p.instances[d]=null)},ref:u}));return Md(n.default,{Component:N,route:c})||N}}});function Md(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const lg=Z2;function eE(t){const e=A2(t.routes,t),n=t.parseQuery||z2,s=t.stringifyQuery||Dd,i=t.history,r=_i(),o=_i(),a=_i(),u=vb(kn);let c=kn;Ls&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Ka.bind(null,k=>""+k),p=Ka.bind(null,q2),g=Ka.bind(null,go);function b(k,H){let D,S;return Zp(k)?(D=e.getRecordMatcher(k),S=H):S=k,e.addRoute(S,D)}function x(k){const H=e.getRecordMatcher(k);H&&e.removeRoute(H)}function T(){return e.getRoutes().map(k=>k.record)}function N(k){return!!e.getRecordMatcher(k)}function F(k,H){if(H=Ie({},H||u.value),typeof k=="string"){const E=Wa(n,k,H.path),I=e.resolve({path:E.path},H),P=i.createHref(E.fullPath);return Ie(E,I,{params:g(I.params),hash:go(E.hash),redirectedFrom:void 0,href:P})}let D;if("path"in k)D=Ie({},k,{path:Wa(n,k.path,H.path).path});else{const E=Ie({},k.params);for(const I in E)E[I]==null&&delete E[I];D=Ie({},k,{params:p(E)}),H.params=p(H.params)}const S=e.resolve(D,H),_=k.hash||"";S.params=d(g(S.params));const m=s2(s,Ie({},k,{hash:j2(_),path:S.path})),y=i.createHref(m);return Ie({fullPath:m,hash:_,query:s===Dd?K2(k.query):k.query||{}},S,{redirectedFrom:void 0,href:y})}function j(k){return typeof k=="string"?Wa(n,k,u.value.path):Ie({},k)}function G(k,H){if(c!==k)return Zs(8,{from:H,to:k})}function V(k){return ae(k)}function fe(k){return V(Ie(j(k),{replace:!0}))}function ge(k){const H=k.matched[k.matched.length-1];if(H&&H.redirect){const{redirect:D}=H;let S=typeof D=="function"?D(k):D;return typeof S=="string"&&(S=S.includes("?")||S.includes("#")?S=j(S):{path:S},S.params={}),Ie({query:k.query,hash:k.hash,params:"path"in S?{}:k.params},S)}}function ae(k,H){const D=c=F(k),S=u.value,_=k.state,m=k.force,y=k.replace===!0,E=ge(D);if(E)return ae(Ie(j(E),{state:typeof E=="object"?Ie({},_,E.state):_,force:m,replace:y}),H||D);const I=D;I.redirectedFrom=H;let P;return!m&&i2(s,S,D)&&(P=Zs(16,{to:I,from:S}),kt(S,S,!0,!1)),(P?Promise.resolve(P):Q(I,S)).catch(O=>pn(O)?pn(O,2)?O:Ze(O):ie(O,I,S)).then(O=>{if(O){if(pn(O,2))return ae(Ie({replace:y},j(O.to),{state:typeof O.to=="object"?Ie({},_,O.to.state):_,force:m}),H||I)}else O=Ke(I,S,!0,y,_);return ke(I,S,O),O})}function Te(k,H){const D=G(k,H);return D?Promise.reject(D):Promise.resolve()}function me(k){const H=qt.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(k):k()}function Q(k,H){let D;const[S,_,m]=tE(k,H);D=Ga(S.reverse(),"beforeRouteLeave",k,H);for(const E of S)E.leaveGuards.forEach(I=>{D.push(On(I,k,H))});const y=Te.bind(null,k,H);return D.push(y),je(D).then(()=>{D=[];for(const E of r.list())D.push(On(E,k,H));return D.push(y),je(D)}).then(()=>{D=Ga(_,"beforeRouteUpdate",k,H);for(const E of _)E.updateGuards.forEach(I=>{D.push(On(I,k,H))});return D.push(y),je(D)}).then(()=>{D=[];for(const E of k.matched)if(E.beforeEnter&&!H.matched.includes(E))if(en(E.beforeEnter))for(const I of E.beforeEnter)D.push(On(I,k,H));else D.push(On(E.beforeEnter,k,H));return D.push(y),je(D)}).then(()=>(k.matched.forEach(E=>E.enterCallbacks={}),D=Ga(m,"beforeRouteEnter",k,H),D.push(y),je(D))).then(()=>{D=[];for(const E of o.list())D.push(On(E,k,H));return D.push(y),je(D)}).catch(E=>pn(E,8)?E:Promise.reject(E))}function ke(k,H,D){for(const S of a.list())me(()=>S(k,H,D))}function Ke(k,H,D,S,_){const m=G(k,H);if(m)return m;const y=H===kn,E=Ls?history.state:{};D&&(S||y?i.replace(k.fullPath,Ie({scroll:y&&E&&E.scroll},_)):i.push(k.fullPath,_)),u.value=k,kt(k,H,D,y),Ze()}let Ve;function Xe(){Ve||(Ve=i.listen((k,H,D)=>{if(!zt.listening)return;const S=F(k),_=ge(S);if(_){ae(Ie(_,{replace:!0}),S).catch($i);return}c=S;const m=u.value;Ls&&d2(xd(m.fullPath,D.delta),Xo()),Q(S,m).catch(y=>pn(y,12)?y:pn(y,2)?(ae(y.to,S).then(E=>{pn(E,20)&&!D.delta&&D.type===Xi.pop&&i.go(-1,!1)}).catch($i),Promise.reject()):(D.delta&&i.go(-D.delta,!1),ie(y,S,m))).then(y=>{y=y||Ke(S,m,!1),y&&(D.delta&&!pn(y,8)?i.go(-D.delta,!1):D.type===Xi.pop&&pn(y,20)&&i.go(-1,!1)),ke(S,m,y)}).catch($i)}))}let jt=_i(),Ae=_i(),we;function ie(k,H,D){Ze(k);const S=Ae.list();return S.length?S.forEach(_=>_(k,H,D)):console.error(k),Promise.reject(k)}function Je(){return we&&u.value!==kn?Promise.resolve():new Promise((k,H)=>{jt.add([k,H])})}function Ze(k){return we||(we=!k,Xe(),jt.list().forEach(([H,D])=>k?D(k):H()),jt.reset()),k}function kt(k,H,D,S){const{scrollBehavior:_}=t;if(!Ls||!_)return Promise.resolve();const m=!D&&f2(xd(k.fullPath,0))||(S||!D)&&history.state&&history.state.scroll||null;return Dp().then(()=>_(k,H,m)).then(y=>y&&h2(y)).catch(y=>ie(y,k,H))}const $e=k=>i.go(k);let Dt;const qt=new Set,zt={currentRoute:u,listening:!0,addRoute:b,removeRoute:x,hasRoute:N,getRoutes:T,resolve:F,options:t,push:V,replace:fe,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Ae.add,isReady:Je,install(k){const H=this;k.component("RouterLink",Y2),k.component("RouterView",lg),k.config.globalProperties.$router=H,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Z(u)}),Ls&&!Dt&&u.value===kn&&(Dt=!0,V(i.location).catch(_=>{}));const D={};for(const _ in kn)D[_]=bt(()=>u.value[_]);k.provide(Wc,H),k.provide(ag,hr(D)),k.provide(Vl,u);const S=k.unmount;qt.add(k),k.unmount=function(){qt.delete(k),qt.size<1&&(c=kn,Ve&&Ve(),Ve=null,u.value=kn,Dt=!1,we=!1),S()}}};function je(k){return k.reduce((H,D)=>H.then(()=>me(D)),Promise.resolve())}return zt}function tE(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Js(c,a))?s.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>Js(c,u))||i.push(u))}return[n,s,i]}const nE=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},sE={name:"Footer"},iE={id:"footer",class:"bg-pink-50 text-center text-white dark:bg-neutral-600"},rE=g1('<div class="pt-4"><div class="mb-4 flex justify-center"><a href="https://www.facebook.com/profile.php?id=100090460875885" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://www.instagram.com/arumi_id/" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="https://api.whatsapp.com/send?phone=6285777040200" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="#000000" viewBox="0 0 30.667 30.667"><path d="M30.667,14.939c0,8.25-6.74,14.938-15.056,14.938c-2.639,0-5.118-0.675-7.276-1.857L0,30.667l2.717-8.017 c-1.37-2.25-2.159-4.892-2.159-7.712C0.559,6.688,7.297,0,15.613,0C23.928,0.002,30.667,6.689,30.667,14.939z M15.61,2.382 c-6.979,0-12.656,5.634-12.656,12.56c0,2.748,0.896,5.292,2.411,7.362l-1.58,4.663l4.862-1.545c2,1.312,4.393,2.076,6.963,2.076 c6.979,0,12.658-5.633,12.658-12.559C28.27,8.016,22.59,2.382,15.61,2.382z M23.214,18.38c-0.094-0.151-0.34-0.243-0.708-0.427 c-0.367-0.184-2.184-1.069-2.521-1.189c-0.34-0.123-0.586-0.185-0.832,0.182c-0.243,0.367-0.951,1.191-1.168,1.437 c-0.215,0.245-0.43,0.276-0.799,0.095c-0.369-0.186-1.559-0.57-2.969-1.817c-1.097-0.972-1.838-2.169-2.052-2.536 c-0.217-0.366-0.022-0.564,0.161-0.746c0.165-0.165,0.369-0.428,0.554-0.643c0.185-0.213,0.246-0.364,0.369-0.609 c0.121-0.245,0.06-0.458-0.031-0.643c-0.092-0.184-0.829-1.984-1.138-2.717c-0.307-0.732-0.614-0.611-0.83-0.611 c-0.215,0-0.461-0.03-0.707-0.03S9.897,8.215,9.56,8.582s-1.291,1.252-1.291,3.054c0,1.804,1.321,3.543,1.506,3.787 c0.186,0.243,2.554,4.062,6.305,5.528c3.753,1.465,3.753,0.976,4.429,0.914c0.678-0.062,2.184-0.885,2.49-1.739 C23.307,19.268,23.307,18.533,23.214,18.38z"></path></svg></a></div></div><div class="bg-pink-100 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://www.instagram.com/arumi_id/">Arumi_id</a></div>',2),oE=[rE];function aE(t,e,n,s,i,r){return Pe(),qe("div",iE,oE)}const lE=nE(sE,[["render",aE]]);const cE={__name:"App",setup(t){return(e,n)=>(Pe(),qe(mt,null,[Ge(Z(lg),{class:"pb-40 mb-5"}),Ge(lE)],64))}},Ld="/assets/logoArumi.925cc7ae.png";function mo(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,mo),s}var jl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(jl||{}),uE=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(uE||{});function Gc({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...i}){var r;let o=ug(s,n),a=Object.assign(i,{props:o});if(t||e&2&&o.static)return Qa(a);if(e&1){let u=(r=o.unmount)==null||r?0:1;return mo(u,{[0](){return null},[1](){return Qa({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Qa(a)}function Qa({props:t,attrs:e,slots:n,slot:s,name:i}){var r,o;let{as:a,...u}=hE(t,["unmount","static"]),c=(r=n.default)==null?void 0:r.call(n,s),d={};if(s){let p=!1,g=[];for(let[b,x]of Object.entries(s))typeof x=="boolean"&&(p=!0),x===!0&&g.push(b);p&&(d["data-headlessui-state"]=g.join(" "))}if(a==="template"){if(c=cg(c!=null?c:[]),Object.keys(u).length>0||Object.keys(e).length>0){let[p,...g]=c!=null?c:[];if(!dE(p)||g.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(e)).map(T=>T.trim()).filter((T,N,F)=>F.indexOf(T)===N).sort((T,N)=>T.localeCompare(N)).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`));let b=ug((o=p.props)!=null?o:{},u),x=ws(p,b);for(let T in b)T.startsWith("on")&&(x.props||(x.props={}),x.props[T]=b[T]);return x}return Array.isArray(c)&&c.length===1?c[0]:c}return zc(a,Object.assign({},u,d),{default:()=>c})}function cg(t){return t.flatMap(e=>e.type===mt?cg(e.children):[e])}function ug(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let i in s)i.startsWith("on")&&typeof s[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(s[i])):e[i]=s[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](i,...r){let o=n[s];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return e}function hE(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function dE(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let fE=0;function pE(){return++fE}function hg(){return pE()}var $s=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))($s||{});function yn(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let dg=Symbol("Context");var Ji=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ji||{});function gE(){return Ht(dg,null)}function mE(t){ds(dg,t)}function $d(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function wE(t,e){let n=oe($d(t.value.type,t.value.as));return di(()=>{n.value=$d(t.value.type,t.value.as)}),Ni(()=>{var s;n.value||yn(e)&&yn(e)instanceof HTMLButtonElement&&!((s=yn(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var yE=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(yE||{});let fg=Symbol("DisclosureContext");function Qc(t){let e=Ht(fg,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qc),n}return e}let pg=Symbol("DisclosurePanelContext");function vE(){return Ht(pg,null)}let bE=dr({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=oe(t.defaultOpen?0:1),i=oe(null),r=oe(null),o={buttonId:oe(null),panelId:oe(null),disclosureState:s,panel:i,button:r,toggleDisclosure(){s.value=mo(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let u=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?yn(a):yn(o.button):yn(o.button))();u==null||u.focus()}};return ds(fg,o),mE(bt(()=>mo(s.value,{[0]:Ji.Open,[1]:Ji.Closed}))),()=>{let{defaultOpen:a,...u}=t,c={open:s.value===0,close:o.close};return Gc({theirProps:u,ourProps:{},slot:c,slots:e,attrs:n,name:"Disclosure"})}}}),Ya=dr({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${hg()}`}},setup(t,{attrs:e,slots:n,expose:s}){let i=Qc("DisclosureButton");di(()=>{i.buttonId.value=t.id}),Wo(()=>{i.buttonId.value=null});let r=vE(),o=bt(()=>r===null?!1:r.value===i.panelId.value),a=oe(null);s({el:a,$el:a}),o.value||Ni(()=>{i.button.value=a.value});let u=wE(bt(()=>({as:t.as,type:e.type})),a);function c(){var g;t.disabled||(o.value?(i.toggleDisclosure(),(g=yn(i.button))==null||g.focus()):i.toggleDisclosure())}function d(g){var b;if(!t.disabled)if(o.value)switch(g.key){case $s.Space:case $s.Enter:g.preventDefault(),g.stopPropagation(),i.toggleDisclosure(),(b=yn(i.button))==null||b.focus();break}else switch(g.key){case $s.Space:case $s.Enter:g.preventDefault(),g.stopPropagation(),i.toggleDisclosure();break}}function p(g){switch(g.key){case $s.Space:g.preventDefault();break}}return()=>{let g={open:i.disclosureState.value===0},{id:b,...x}=t,T=o.value?{ref:a,type:u.value,onClick:c,onKeydown:d}:{id:b,ref:a,type:u.value,"aria-expanded":t.disabled?void 0:i.disclosureState.value===0,"aria-controls":yn(i.panel)?i.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:d,onKeyup:p};return Gc({ourProps:T,theirProps:x,slot:g,attrs:e,slots:n,name:"DisclosureButton"})}}}),EE=dr({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${hg()}`}},setup(t,{attrs:e,slots:n,expose:s}){let i=Qc("DisclosurePanel");di(()=>{i.panelId.value=t.id}),Wo(()=>{i.panelId.value=null}),s({el:i.panel,$el:i.panel}),ds(pg,i.panelId);let r=gE(),o=bt(()=>r!==null?(r.value&Ji.Open)===Ji.Open:i.disclosureState.value===0);return()=>{let a={open:i.disclosureState.value===0,close:i.close},{id:u,...c}=t,d={id:u,ref:i.panel};return Gc({ourProps:d,theirProps:c,slot:a,attrs:e,slots:n,features:jl.RenderStrategy|jl.Static,visible:o.value,name:"DisclosurePanel"})}}});function xE(t,e){return Pe(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function _E(t,e){return Pe(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=r>>2,p=(r&3)<<4|a>>4;let g=(a&15)<<2|c>>6,b=c&63;u||(b=64,o||(g=64)),s.push(n[d],n[p],n[g],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||a==null||c==null||p==null)throw new TE;const g=r<<2|a>>4;if(s.push(g),c!==64){const b=a<<4&240|c>>2;if(s.push(b),p!==64){const x=c<<6&192|p;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IE=function(t){const e=gg(t);return mg.encodeByteArray(e,!0)},wo=function(t){return IE(t).replace(/\./g,"")},SE=function(t){try{return mg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=()=>AE().__FIREBASE_DEFAULTS__,DE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SE(t[1]);return e&&JSON.parse(e)},wg=()=>{try{return kE()||DE()||PE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=t=>{var e,n;return(n=(e=wg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OE=t=>{const e=RE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yg=()=>{var t;return(t=wg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[wo(JSON.stringify(n)),wo(JSON.stringify(o)),a].join(".")}function LE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vg(){try{return typeof indexedDB=="object"}catch{return!1}}function bg(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function $E(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="FirebaseError";class Qn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=BE,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?FE(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,s)}}function FE(t,e){return t.replace(VE,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const VE=/\{\$([^}]+)}/g;function yo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Bd(r)&&Bd(o)){if(!yo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Bd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1e3,UE=2,HE=4*60*60*1e3,qE=.5;function Fd(t,e=jE,n=UE){const s=e*Math.pow(n,t),i=Math.round(qE*s*(Math.random()-.5)*2);return Math.min(HE,s+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class bn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new NE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WE(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(t){return t===ns?void 0:t}function WE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const QE={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},YE=Ce.INFO,XE={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},JE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=XE[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yc{constructor(e){this.name=e,this._logLevel=YE,this._logHandler=JE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const ZE=(t,e)=>e.some(n=>t instanceof n);let Vd,jd;function ex(){return Vd||(Vd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tx(){return jd||(jd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eg=new WeakMap,Ul=new WeakMap,xg=new WeakMap,Xa=new WeakMap,Xc=new WeakMap;function nx(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Fn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Eg.set(n,t)}).catch(()=>{}),Xc.set(e,t),e}function sx(t){if(Ul.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ul.set(t,e)}let Hl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ix(t){Hl=t(Hl)}function rx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ja(this),e,...n);return xg.set(s,e.sort?e.sort():[e]),Fn(s)}:tx().includes(t)?function(...e){return t.apply(Ja(this),e),Fn(Eg.get(this))}:function(...e){return Fn(t.apply(Ja(this),e))}}function ox(t){return typeof t=="function"?rx(t):(t instanceof IDBTransaction&&sx(t),ZE(t,ex())?new Proxy(t,Hl):t)}function Fn(t){if(t instanceof IDBRequest)return nx(t);if(Xa.has(t))return Xa.get(t);const e=ox(t);return e!==t&&(Xa.set(t,e),Xc.set(e,t)),e}const Ja=t=>Xc.get(t);function ax(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Fn(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Fn(o.result),u.oldVersion,u.newVersion,Fn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lx=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],Za=new Map;function Ud(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Za.get(e))return Za.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=cx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||lx.includes(n)))return;const r=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Za.set(e,r),r}ix(t=>({...t,get:(e,n,s)=>Ud(e,n)||t.get(e,n,s),has:(e,n)=>!!Ud(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ql="@firebase/app",Hd="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Yc("@firebase/app"),dx="@firebase/app-compat",fx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",mx="@firebase/app-check",wx="@firebase/auth",yx="@firebase/auth-compat",vx="@firebase/database",bx="@firebase/database-compat",Ex="@firebase/functions",xx="@firebase/functions-compat",_x="@firebase/installations",Cx="@firebase/installations-compat",Tx="@firebase/messaging",Ix="@firebase/messaging-compat",Sx="@firebase/performance",Ax="@firebase/performance-compat",kx="@firebase/remote-config",Dx="@firebase/remote-config-compat",Px="@firebase/storage",Rx="@firebase/storage-compat",Ox="@firebase/firestore",Nx="@firebase/firestore-compat",Mx="firebase",Lx="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="[DEFAULT]",$x={[ql]:"fire-core",[dx]:"fire-core-compat",[px]:"fire-analytics",[fx]:"fire-analytics-compat",[mx]:"fire-app-check",[gx]:"fire-app-check-compat",[wx]:"fire-auth",[yx]:"fire-auth-compat",[vx]:"fire-rtdb",[bx]:"fire-rtdb-compat",[Ex]:"fire-fn",[xx]:"fire-fn-compat",[_x]:"fire-iid",[Cx]:"fire-iid-compat",[Tx]:"fire-fcm",[Ix]:"fire-fcm-compat",[Sx]:"fire-perf",[Ax]:"fire-perf-compat",[kx]:"fire-rc",[Dx]:"fire-rc-compat",[Px]:"fire-gcs",[Rx]:"fire-gcs-compat",[Ox]:"fire-fst",[Nx]:"fire-fst-compat","fire-js":"fire-js",[Mx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,Kl=new Map;function Bx(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zn(t){const e=t.name;if(Kl.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Kl.set(e,t);for(const n of vo.values())Bx(n,t);return!0}function fr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vn=new Jo("app","Firebase",Fx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=Lx;function _g(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zl,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=yg()),!n)throw Vn.create("no-options");const r=vo.get(i);if(r){if(yo(n,r.options)&&yo(s,r.config))return r;throw Vn.create("duplicate-app",{appName:i})}const o=new GE(i);for(const u of Kl.values())o.addComponent(u);const a=new Vx(n,s,o);return vo.set(i,a),a}function Cg(t=zl){const e=vo.get(t);if(!e&&t===zl&&yg())return _g();if(!e)throw Vn.create("no-app",{appName:t});return e}function un(t,e,n){var s;let i=(s=$x[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}zn(new bn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebase-heartbeat-database",Hx=1,Zi="firebase-heartbeat-store";let el=null;function Tg(){return el||(el=ax(Ux,Hx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zi)}}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),el}async function qx(t){try{return await(await Tg()).transaction(Zi).objectStore(Zi).get(Ig(t))}catch(e){if(e instanceof Qn)ys.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function qd(t,e){try{const s=(await Tg()).transaction(Zi,"readwrite");await s.objectStore(Zi).put(e,Ig(t)),await s.done}catch(n){if(n instanceof Qn)ys.warn(n.message);else{const s=Vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(s.message)}}}function Ig(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1024,Kx=30*24*60*60*1e3;class Wx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=Kx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zd(),{heartbeatsToSend:n,unsentEntries:s}=Gx(this._heartbeatsCache.heartbeats),i=wo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zd(){return new Date().toISOString().substring(0,10)}function Gx(t,e=zx){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Kd(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kd(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vg()?bg().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await qx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Kd(t){return wo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){zn(new bn("platform-logger",e=>new ux(e),"PRIVATE")),zn(new bn("heartbeat",e=>new Wx(e),"PRIVATE")),un(ql,Hd,t),un(ql,Hd,"esm2017"),un("fire-js","")}Yx("");var Xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Jc=Jc||{},se=Xx||self;function bo(){}function Zo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jx(t){return Object.prototype.hasOwnProperty.call(t,tl)&&t[tl]||(t[tl]=++Zx)}var tl="closure_uid_"+(1e9*Math.random()>>>0),Zx=0;function e_(t,e,n){return t.call.apply(t.bind,arguments)}function t_(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xt=e_:xt=t_,xt.apply(null,arguments)}function Ur(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,i,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(s,o)}}function Yn(){this.s=this.s,this.o=this.o}var n_=0;Yn.prototype.s=!1;Yn.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),n_!=0)&&Jx(this)};Yn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Wd(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Zo(s)){const i=t.length||0,r=s.length||0;t.length=i+r;for(let o=0;o<r;o++)t[i+o]=s[o]}else t.push(s)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var s_=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",bo,e),se.removeEventListener("test",bo,e)}catch{}return t}();function Eo(t){return/^[\s\xa0]*$/.test(t)}var Gd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nl(t,e){return t<e?-1:t>e?1:0}function ea(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function ln(t){return ea().indexOf(t)!=-1}function eu(t){return eu[" "](t),t}eu[" "]=bo;function Ag(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var i_=ln("Opera"),ei=ln("Trident")||ln("MSIE"),kg=ln("Edge"),Wl=kg||ei,Dg=ln("Gecko")&&!(ea().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge"))&&!(ln("Trident")||ln("MSIE"))&&!ln("Edge"),r_=ea().toLowerCase().indexOf("webkit")!=-1&&!ln("Edge");function Pg(){var t=se.document;return t?t.documentMode:void 0}var xo;e:{var sl="",il=function(){var t=ea();if(Dg)return/rv:([^\);]+)(\)|;)/.exec(t);if(kg)return/Edge\/([\d\.]+)/.exec(t);if(ei)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(r_)return/WebKit\/(\S+)/.exec(t);if(i_)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(il&&(sl=il?il[1]:""),ei){var rl=Pg();if(rl!=null&&rl>parseFloat(sl)){xo=String(rl);break e}}xo=sl}var o_={};function a_(){return Ag(o_,9,function(){let t=0;const e=Gd(String(xo)).split("."),n=Gd("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var i=e[o]||"",r=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i[0].length==0&&r[0].length==0)break;t=nl(i[1].length==0?0:parseInt(i[1],10),r[1].length==0?0:parseInt(r[1],10))||nl(i[2].length==0,r[2].length==0)||nl(i[2],r[2]),i=i[3],r=r[3]}while(t==0)}return 0<=t})}var Gl;if(se.document&&ei){var Qd=Pg();Gl=Qd||parseInt(xo,10)||void 0}else Gl=void 0;var l_=Gl;function er(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Dg){e:{try{eu(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:c_[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&er.$.h.call(this)}}lt(er,_t);var c_={2:"touch",3:"pen",4:"mouse"};er.prototype.h=function(){er.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gr="closure_listenable_"+(1e6*Math.random()|0),u_=0;function h_(t,e,n,s,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=i,this.key=++u_,this.fa=this.ia=!1}function ta(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tu(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Rg(t){const e={};for(const n in t)e[n]=t[n];return e}const Yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Og(t,e){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)t[n]=s[n];for(let r=0;r<Yd.length;r++)n=Yd[r],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function na(t){this.src=t,this.g={},this.h=0}na.prototype.add=function(t,e,n,s,i){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=Yl(t,e,s,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new h_(e,this.src,r,!!s,i),e.ia=n,t.push(e)),e};function Ql(t,e){var n=e.type;if(n in t.g){var s=t.g[n],i=Sg(s,e),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(ta(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yl(t,e,n,s){for(var i=0;i<t.length;++i){var r=t[i];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==s)return i}return-1}var nu="closure_lm_"+(1e6*Math.random()|0),ol={};function Ng(t,e,n,s,i){if(s&&s.once)return Lg(t,e,n,s,i);if(Array.isArray(e)){for(var r=0;r<e.length;r++)Ng(t,e[r],n,s,i);return null}return n=ru(n),t&&t[gr]?t.O(e,n,pr(s)?!!s.capture:!!s,i):Mg(t,e,n,!1,s,i)}function Mg(t,e,n,s,i,r){if(!e)throw Error("Invalid event type");var o=pr(i)?!!i.capture:!!i,a=iu(t);if(a||(t[nu]=a=new na(t)),n=a.add(e,n,s,o,r),n.proxy)return n;if(s=d_(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)s_||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),s,i);else if(t.attachEvent)t.attachEvent(Bg(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function d_(){function t(n){return e.call(t.src,t.listener,n)}const e=f_;return t}function Lg(t,e,n,s,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)Lg(t,e[r],n,s,i);return null}return n=ru(n),t&&t[gr]?t.P(e,n,pr(s)?!!s.capture:!!s,i):Mg(t,e,n,!0,s,i)}function $g(t,e,n,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)$g(t,e[r],n,s,i);else s=pr(s)?!!s.capture:!!s,n=ru(n),t&&t[gr]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Yl(r,n,s,i),-1<n&&(ta(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=iu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yl(e,n,s,i)),(n=-1<t?e[t]:null)&&su(n))}function su(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gr])Ql(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Bg(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=iu(e))?(Ql(n,t),n.h==0&&(n.src=null,e[nu]=null)):ta(t)}}}function Bg(t){return t in ol?ol[t]:ol[t]="on"+t}function f_(t,e){if(t.fa)t=!0;else{e=new er(e,this);var n=t.listener,s=t.la||t.src;t.ia&&su(t),t=n.call(s,e)}return t}function iu(t){return t=t[nu],t instanceof na?t:null}var al="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(t){return typeof t=="function"?t:(t[al]||(t[al]=function(e){return t.handleEvent(e)}),t[al])}function at(){Yn.call(this),this.i=new na(this),this.S=this,this.J=null}lt(at,Yn);at.prototype[gr]=!0;at.prototype.removeEventListener=function(t,e,n,s){$g(this,t,e,n,s)};function ft(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var i=e;e=new _t(s,t),Og(e,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];i=Hr(o,s,!0,e)&&i}if(o=e.g=t,i=Hr(o,s,!0,e)&&i,i=Hr(o,s,!1,e)&&i,n)for(r=0;r<n.length;r++)o=e.g=n[r],i=Hr(o,s,!1,e)&&i}at.prototype.N=function(){if(at.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)ta(n[s]);delete t.g[e],t.h--}}this.J=null};at.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};at.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Hr(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Ql(t.i,o),i=a.call(u,s)!==!1&&i}}return i&&!s.defaultPrevented}var ou=se.JSON.stringify;function p_(){var t=jg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class g_{constructor(){this.h=this.g=null}add(e,n){const s=Fg.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Fg=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new m_,t=>t.reset());class m_{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function w_(t){se.setTimeout(()=>{throw t},0)}function Vg(t,e){Xl||y_(),Jl||(Xl(),Jl=!0),jg.add(t,e)}var Xl;function y_(){var t=se.Promise.resolve(void 0);Xl=function(){t.then(v_)}}var Jl=!1,jg=new g_;function v_(){for(var t;t=p_();){try{t.h.call(t.g)}catch(n){w_(n)}var e=Fg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jl=!1}function sa(t,e){at.call(this),this.h=t||1,this.g=e||se,this.j=xt(this.qb,this),this.l=Date.now()}lt(sa,at);q=sa.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ft(this,"tick"),this.ga&&(au(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function au(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){sa.$.N.call(this),au(this),delete this.g};function lu(t,e,n){if(typeof t=="function")n&&(t=xt(t,n));else if(t&&typeof t.handleEvent=="function")t=xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function Ug(t){t.g=lu(()=>{t.g=null,t.i&&(t.i=!1,Ug(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class b_ extends Yn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ug(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(t){Yn.call(this),this.h=t,this.g={}}lt(tr,Yn);var Xd=[];function Hg(t,e,n,s){Array.isArray(n)||(n&&(Xd[0]=n.toString()),n=Xd);for(var i=0;i<n.length;i++){var r=Ng(e,n[i],s||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function qg(t){tu(t.g,function(e,n){this.g.hasOwnProperty(n)&&su(e)},t),t.g={}}tr.prototype.N=function(){tr.$.N.call(this),qg(this)};tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ia(){this.g=!0}ia.prototype.Ea=function(){this.g=!1};function E_(t,e,n,s,i,r){t.info(function(){if(t.g)if(r)for(var o="",a=r.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var d=c[0];c=c[1];var p=d.split("_");o=2<=p.length&&p[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function x_(t,e,n,s,i,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+e+`
`+n+`
`+r+" "+o})}function Vs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+C_(t,n)+(s?" "+s:"")})}function __(t,e){t.info(function(){return"TIMEOUT: "+e})}ia.prototype.info=function(){};function C_(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ou(n)}catch{return e}}var Cs={},Jd=null;function ra(){return Jd=Jd||new at}Cs.Ta="serverreachability";function zg(t){_t.call(this,Cs.Ta,t)}lt(zg,_t);function nr(t){const e=ra();ft(e,new zg(e))}Cs.STAT_EVENT="statevent";function Kg(t,e){_t.call(this,Cs.STAT_EVENT,t),this.stat=e}lt(Kg,_t);function At(t){const e=ra();ft(e,new Kg(e,t))}Cs.Ua="timingevent";function Wg(t,e){_t.call(this,Cs.Ua,t),this.size=e}lt(Wg,_t);function mr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var oa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cu(){}cu.prototype.h=null;function Zd(t){return t.h||(t.h=t.i())}function Qg(){}var wr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uu(){_t.call(this,"d")}lt(uu,_t);function hu(){_t.call(this,"c")}lt(hu,_t);var Zl;function aa(){}lt(aa,cu);aa.prototype.g=function(){return new XMLHttpRequest};aa.prototype.i=function(){return{}};Zl=new aa;function yr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new tr(this),this.P=T_,t=Wl?125:void 0,this.V=new sa(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}var T_=45e3,ec={},_o={};q=yr.prototype;q.setTimeout=function(t){this.P=t};function tc(t,e,n){t.L=1,t.v=ca(En(e)),t.s=n,t.S=!0,Xg(t,null)}function Xg(t,e){t.G=Date.now(),vr(t),t.A=En(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),rm(n.i,"t",s),t.C=0,n=t.l.I,t.h=new Yg,t.g=Im(t.l,n?e:null,!t.s),0<t.O&&(t.M=new b_(xt(t.Pa,t,t.g),t.O)),Hg(t.U,t.g,"readystatechange",t.nb),e=t.I?Rg(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),nr(),E_(t.j,t.u,t.A,t.m,t.W,t.s)}q.nb=function(t){t=t.target;const e=this.M;e&&mn(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const d=mn(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>d)&&(d!=3||Wl||this.g&&(this.h.h||this.g.ja()||sf(this.g)))){this.J||d!=4||e==7||(e==8||0>=p?nr(3):nr(2)),la(this);var n=this.g.da();this.aa=n;t:if(Jg(this)){var s=sf(this.g);t="";var i=s.length,r=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Fi(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:r&&e==i-1});s.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,x_(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(a)){var c=a;break t}}c=null}if(n=c)Vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nc(this,n);else{this.i=!1,this.o=3,At(12),as(this),Fi(this);break e}}this.S?(Zg(this,d,o),Wl&&this.i&&d==3&&(Hg(this.U,this.V,"tick",this.mb),this.V.start())):(Vs(this.j,this.m,o,null),nc(this,o)),d==4&&as(this),this.i&&!this.J&&(d==4?xm(this.l,this):(this.i=!1,vr(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),as(this),Fi(this)}}}catch{}finally{}};function Jg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Zg(t,e,n){let s=!0,i;for(;!t.J&&t.C<n.length;)if(i=I_(t,n),i==_o){e==4&&(t.o=4,At(14),s=!1),Vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ec){t.o=4,At(15),Vs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Vs(t.j,t.m,i,null),nc(t,i);Jg(t)&&i!=_o&&i!=ec&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),yu(e),e.L=!0,At(11))):(Vs(t.j,t.m,n,"[Invalid Chunked Response]"),as(t),Fi(t))}q.mb=function(){if(this.g){var t=mn(this.g),e=this.g.ja();this.C<e.length&&(la(this),Zg(this,t,e),this.i&&t!=4&&vr(this))}};function I_(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?_o:(n=Number(e.substring(n,s)),isNaN(n)?ec:(s+=1,s+n>e.length?_o:(e=e.substr(s,n),t.C=s+n,e)))}q.cancel=function(){this.J=!0,as(this)};function vr(t){t.Y=Date.now()+t.P,em(t,t.P)}function em(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=mr(xt(t.lb,t),e)}function la(t){t.B&&(se.clearTimeout(t.B),t.B=null)}q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(__(this.j,this.A),this.L!=2&&(nr(),At(17)),as(this),this.o=2,Fi(this)):em(this,this.Y-t)};function Fi(t){t.l.H==0||t.J||xm(t.l,t)}function as(t){la(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,au(t.V),qg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function nc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sc(n.h,t))){if(!t.K&&sc(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Io(n),da(n);else break e;wu(n),At(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=mr(xt(n.ib,n),6e3));if(1>=lm(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else ls(n,11)}else if((t.K||n.g==t)&&Io(n),!Eo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const d=c[3];d!=null&&(n.qa=d,n.j.info("VER="+n.qa));const p=c[4];p!=null&&(n.Ga=p,n.j.info("SVER="+n.Ga));const g=c[5];g!=null&&typeof g=="number"&&0<g&&(s=1.5*g,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const b=t.g;if(b){const x=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var r=s.h;r.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(du(r,r.h),r.h=null))}if(s.F){const T=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(s.Da=T,Ne(s.G,s.F,T))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Tm(s,s.I?s.oa:null,s.Y),o.K){cm(s.h,o);var a=o,u=s.K;u&&a.setTimeout(u),a.B&&(la(a),vr(a)),s.g=o}else bm(s);0<n.i.length&&fa(n)}else c[0]!="stop"&&c[0]!="close"||ls(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ls(n,7):mu(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}nr(4)}catch{}}function S_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Zo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function A_(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function tm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Zo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=A_(t),s=S_(t),i=s.length,r=0;r<i;r++)e.call(void 0,s[r],n&&n[r],t)}var nm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function k_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),i=null;if(0<=s){var r=t[n].substring(0,s);i=t[n].substring(s+1)}else r=t[n];e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ps(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ps){this.h=e!==void 0?e:t.h,Co(this,t.j),this.s=t.s,this.g=t.g,To(this,t.m),this.l=t.l,e=t.i;var n=new sr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ef(this,n),this.o=t.o}else t&&(n=String(t).match(nm))?(this.h=!!e,Co(this,n[1]||"",!0),this.s=Ai(n[2]||""),this.g=Ai(n[3]||"",!0),To(this,n[4]),this.l=Ai(n[5]||"",!0),ef(this,n[6]||"",!0),this.o=Ai(n[7]||"")):(this.h=!!e,this.i=new sr(null,this.h))}ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ki(e,tf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ki(e,tf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ki(n,n.charAt(0)=="/"?R_:P_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ki(n,N_)),t.join("")};function En(t){return new ps(t)}function Co(t,e,n){t.j=n?Ai(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function To(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ef(t,e,n){e instanceof sr?(t.i=e,M_(t.i,t.h)):(n||(e=ki(e,O_)),t.i=new sr(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function ca(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ai(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ki(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,D_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function D_(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tf=/[#\/\?@]/g,P_=/[#\?:]/g,R_=/[#\?]/g,O_=/[#\?@]/g,N_=/#/g;function sr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xn(t){t.g||(t.g=new Map,t.h=0,t.i&&k_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=sr.prototype;q.add=function(t,e){Xn(this),this.i=null,t=fi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sm(t,e){Xn(t),e=fi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function im(t,e){return Xn(t),e=fi(t,e),t.g.has(e)}q.forEach=function(t,e){Xn(this),this.g.forEach(function(n,s){n.forEach(function(i){t.call(e,i,s,this)},this)},this)};q.sa=function(){Xn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const i=t[s];for(let r=0;r<i.length;r++)n.push(e[s])}return n};q.Z=function(t){Xn(this);let e=[];if(typeof t=="string")im(this,t)&&(e=e.concat(this.g.get(fi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Xn(this),this.i=null,t=fi(this,t),im(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rm(t,e,n){sm(t,e),0<n.length&&(t.i=null,t.g.set(fi(t,e),Zc(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const r=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),t.push(i)}}return this.i=t.join("&")};function fi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function M_(t,e){e&&!t.j&&(Xn(t),t.i=null,t.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(sm(this,s),rm(this,i,n))},t)),t.j=e}var L_=class{constructor(t,e){this.h=t,this.g=e}};function om(t){this.l=t||$_,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $_=10;function am(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lm(t){return t.h?1:t.g?t.g.size:0}function sc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function du(t,e){t.g?t.g.add(e):t.h=e}function cm(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}om.prototype.cancel=function(){if(this.i=um(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function um(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zc(t.i)}function fu(){}fu.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};fu.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function B_(){this.g=new fu}function F_(t,e,n){const s=n||"";try{tm(t,function(i,r){let o=i;pr(i)&&(o=ou(i)),e.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw e.push(s+"type="+encodeURIComponent("_badmap")),i}}function V_(t,e){const n=new ia;if(se.Image){const s=new Image;s.onload=Ur(qr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ur(qr,n,s,"TestLoadImage: error",!1,e),s.onabort=Ur(qr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ur(qr,n,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function qr(t,e,n,s,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(s)}catch{}}function br(t){this.l=t.fc||null,this.j=t.ob||!1}lt(br,cu);br.prototype.g=function(){return new ua(this.l,this.j)};br.prototype.i=function(t){return function(){return t}}({});function ua(t,e){at.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lt(ua,at);var pu=0;q=ua.prototype;q.open=function(t,e){if(this.readyState!=pu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ir(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=pu};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hm(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hm(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Er(this):ir(this),this.readyState==3&&hm(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,Er(this))};q.Ya=function(t){this.g&&(this.response=t,Er(this))};q.ka=function(){this.g&&Er(this)};function Er(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ir(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ir(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j_=se.JSON.parse;function ze(t){at.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dm,this.L=this.M=!1}lt(ze,at);var dm="",U_=/^https?$/i,H_=["POST","PUT"];q=ze.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zl.g(),this.C=this.u?Zd(this.u):Zd(Zl),this.g.onreadystatechange=xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){nf(this,r);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=se.FormData&&t instanceof se.FormData,!(0<=Sg(H_,e))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gm(this),0<this.B&&((this.L=q_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.ua,this)):this.A=lu(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){nf(this,r)}};function q_(t){return ei&&a_()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof Jc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function nf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fm(t),ha(t)}function fm(t){t.F||(t.F=!0,ft(t,"complete"),ft(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ft(this,"complete"),ft(this,"abort"),ha(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ha(this,!0)),ze.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?pm(this):this.kb())};q.kb=function(){pm(this)};function pm(t){if(t.h&&typeof Jc<"u"&&(!t.C[1]||mn(t)!=4||t.da()!=2)){if(t.v&&mn(t)==4)lu(t.La,0,t);else if(ft(t,"readystatechange"),mn(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var i=String(t.I).match(nm)[1]||null;if(!i&&se.self&&se.self.location){var r=se.self.location.protocol;i=r.substr(0,r.length-1)}s=!U_.test(i?i.toLowerCase():"")}n=s}if(n)ft(t,"complete"),ft(t,"success");else{t.m=6;try{var o=2<mn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",fm(t)}}finally{ha(t)}}}}function ha(t,e){if(t.g){gm(t);const n=t.g,s=t.C[0]?bo:null;t.g=null,t.C=null,e||ft(t,"ready");try{n.onreadystatechange=s}catch{}}}function gm(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function mn(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j_(e)}};function sf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mm(t){let e="";return tu(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function gu(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=mm(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ci(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wm(t){this.Ga=0,this.i=[],this.j=new ia,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ci("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ci("baseRetryDelayMs",5e3,t),this.hb=Ci("retryDelaySeedMs",1e4,t),this.eb=Ci("forwardChannelMaxRetries",2,t),this.xa=Ci("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new om(t&&t.concurrentRequestLimit),this.Ja=new B_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}q=wm.prototype;q.qa=8;q.H=1;function mu(t){if(ym(t),t.H==3){var e=t.W++,n=En(t.G);Ne(n,"SID",t.J),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),xr(t,n),e=new yr(t,t.j,e,void 0),e.L=2,e.v=ca(En(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=Im(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vr(e)}Cm(t)}function da(t){t.g&&(yu(t),t.g.cancel(),t.g=null)}function ym(t){da(t),t.u&&(se.clearTimeout(t.u),t.u=null),Io(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function fa(t){am(t.h)||t.m||(t.m=!0,Vg(t.Na,t),t.C=0)}function z_(t,e){return lm(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=mr(xt(t.Na,t,e),_m(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yr(this,this.j,t,void 0);let r=this.s;if(this.U&&(r?(r=Rg(r),Og(r,this.U)):r=this.U),this.o!==null||this.O||(i.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vm(this,i,e),n=En(this.G),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),xr(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(mm(r)))+"&"+e:this.o&&gu(n,this.o,r)),du(this.h,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.ba=!0,tc(i,n,null)):tc(i,n,e),this.H=2}}else this.H==3&&(t?rf(this,t):this.i.length==0||am(this.h)||rf(this))};function rf(t,e){var n;e?n=e.m:n=t.W++;const s=En(t.G);Ne(s,"SID",t.J),Ne(s,"RID",n),Ne(s,"AID",t.V),xr(t,s),t.o&&t.s&&gu(s,t.o,t.s),n=new yr(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=vm(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),du(t.h,n),tc(n,s,e)}function xr(t,e){t.ma&&tu(t.ma,function(n,s){Ne(e,s,n)}),t.l&&tm({},function(n,s){Ne(e,s,n)})}function vm(t,e,n){n=Math.min(t.i.length,n);var s=t.l?xt(t.l.Va,t.l,t):null;e:{var i=t.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const d=i[u].g;if(c-=r,0>c)r=Math.max(0,i[u].h-100),a=!1;else try{F_(d,o,"req"+c+"_")}catch{s&&s(d)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function bm(t){t.g||t.u||(t.ba=1,Vg(t.Ma,t),t.A=0)}function wu(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=mr(xt(t.Ma,t),_m(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,Em(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=mr(xt(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,At(10),da(this),Em(this))};function yu(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function Em(t){t.g=new yr(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=En(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.J),Ne(e,"CI",t.M?"0":"1"),Ne(e,"AID",t.V),Ne(e,"TYPE","xmlhttp"),xr(t,e),t.o&&t.s&&gu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=ca(En(e)),n.s=null,n.S=!0,Xg(n,t)}q.ib=function(){this.v!=null&&(this.v=null,da(this),wu(this),At(19))};function Io(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function xm(t,e){var n=null;if(t.g==e){Io(t),yu(t),t.g=null;var s=2}else if(sc(t.h,e))n=e.F,cm(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;s=ra(),ft(s,new Wg(s,n)),fa(t)}else bm(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(s==1&&z_(t,e)||s==2&&wu(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ls(t,5);break;case 4:ls(t,10);break;case 3:ls(t,6);break;default:ls(t,2)}}}function _m(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function ls(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=xt(t.pb,t);n||(n=new ps("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Co(n,"https"),ca(n)),V_(n.toString(),s)}else At(2);t.H=0,t.l&&t.l.za(e),Cm(t),ym(t)}q.pb=function(t){t?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Cm(t){if(t.H=0,t.pa=[],t.l){const e=um(t.h);(e.length!=0||t.i.length!=0)&&(Wd(t.pa,e),Wd(t.pa,t.i),t.h.i.length=0,Zc(t.i),t.i.length=0),t.l.ya()}}function Tm(t,e,n){var s=n instanceof ps?En(n):new ps(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),To(s,s.m);else{var i=se.location;s=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var r=new ps(null,void 0);s&&Co(r,s),e&&(r.g=e),i&&To(r,i),n&&(r.l=n),s=r}return n=t.F,e=t.Da,n&&e&&Ne(s,n,e),Ne(s,"VER",t.qa),xr(t,s),s}function Im(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ze(new br({ob:!0})):new ze(t.va),e.Oa(t.I),e}function Sm(){}q=Sm.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.Va=function(){};function So(){if(ei&&!(10<=Number(l_)))throw Error("Environmental error: no available transport.")}So.prototype.g=function(t,e){return new Vt(t,e)};function Vt(t,e){at.call(this),this.g=new wm(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Eo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new pi(this)}lt(Vt,at);Vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=Tm(t,null,t.Y),fa(t)};Vt.prototype.close=function(){mu(this.g)};Vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ou(t),t=n);e.i.push(new L_(e.fb++,t)),e.H==3&&fa(e)};Vt.prototype.N=function(){this.g.l=null,delete this.j,mu(this.g),delete this.g,Vt.$.N.call(this)};function Am(t){uu.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}lt(Am,uu);function km(){hu.call(this),this.status=1}lt(km,hu);function pi(t){this.g=t}lt(pi,Sm);pi.prototype.Ba=function(){ft(this.g,"a")};pi.prototype.Aa=function(t){ft(this.g,new Am(t))};pi.prototype.za=function(t){ft(this.g,new km)};pi.prototype.ya=function(){ft(this.g,"b")};function K_(){this.blockSize=-1}function nn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}lt(nn,K_);nn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ll(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)s[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)s[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var r=t.g[3],o=e+(r^n&(i^r))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[2]+606105819&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[6]+2821735955&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[10]+4294925233&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[14]+2792965006&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^r&(n^i))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[11]+643717713&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[15]+3634488961&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[3]+4107603335&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[7]+1735328473&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^r)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[11]+1839030562&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[7]+4139469664&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[3]+3572445317&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[15]+530742520&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~r))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[14]+2878612391&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[10]+4293915773&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[6]+2734768916&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[2]+718787259&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+r&4294967295}nn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,i=this.h,r=0;r<e;){if(i==0)for(;r<=n;)ll(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(s[i++]=t.charCodeAt(r++),i==this.blockSize){ll(this,s),i=0;break}}else for(;r<e;)if(s[i++]=t[r++],i==this.blockSize){ll(this,s),i=0;break}}this.h=i,this.i+=e};nn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Se(t,e){this.h=e;for(var n=[],s=!0,i=t.length-1;0<=i;i--){var r=t[i]|0;s&&r==e||(n[i]=r,s=!1)}this.g=n}var W_={};function vu(t){return-128<=t&&128>t?Ag(W_,t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function cn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return dt(cn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=ic;return new Se(e,0)}function Dm(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(Dm(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=cn(Math.pow(e,8)),s=zs,i=0;i<t.length;i+=8){var r=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+r),e);8>r?(r=cn(Math.pow(e,r)),s=s.R(r).add(cn(o))):(s=s.R(n),s=s.add(cn(o)))}return s}var ic=4294967296,zs=vu(0),rc=vu(1),of=vu(16777216);q=Se.prototype;q.ea=function(){if(Ut(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:ic+s)*e,e*=ic}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wn(this))return"0";if(Ut(this))return"-"+dt(this).toString(t);for(var e=cn(Math.pow(t,6)),n=this,s="";;){var i=ko(n,e).g;n=Ao(n,i.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,wn(n))return r+s;for(;6>r.length;)r="0"+r;s=r+s}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ut(t){return t.h==-1}q.X=function(t){return t=Ao(this,t),Ut(t)?-1:wn(t)?0:1};function dt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Se(n,~t.h).add(rc)}q.abs=function(){return Ut(this)?dt(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,i=0;i<=e;i++){var r=s+(this.D(i)&65535)+(t.D(i)&65535),o=(r>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);s=o>>>16,r&=65535,o&=65535,n[i]=o<<16|r}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function Ao(t,e){return t.add(dt(e))}q.R=function(t){if(wn(this)||wn(t))return zs;if(Ut(this))return Ut(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(Ut(t))return dt(this.R(dt(t)));if(0>this.X(of)&&0>t.X(of))return cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<t.g.length;i++){var r=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*s+2*i]+=o*u,zr(n,2*s+2*i),n[2*s+2*i+1]+=r*u,zr(n,2*s+2*i+1),n[2*s+2*i+1]+=o*a,zr(n,2*s+2*i+1),n[2*s+2*i+2]+=r*a,zr(n,2*s+2*i+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Se(n,0)};function zr(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ti(t,e){this.g=t,this.h=e}function ko(t,e){if(wn(e))throw Error("division by zero");if(wn(t))return new Ti(zs,zs);if(Ut(t))return e=ko(dt(t),e),new Ti(dt(e.g),dt(e.h));if(Ut(e))return e=ko(t,dt(e)),new Ti(dt(e.g),e.h);if(30<t.g.length){if(Ut(t)||Ut(e))throw Error("slowDivide_ only works with positive integers.");for(var n=rc,s=e;0>=s.X(t);)n=af(n),s=af(s);var i=Os(n,1),r=Os(s,1);for(s=Os(s,2),n=Os(n,2);!wn(s);){var o=r.add(s);0>=o.X(t)&&(i=i.add(n),r=o),s=Os(s,1),n=Os(n,1)}return e=Ao(t,i.R(e)),new Ti(i,e)}for(i=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),r=cn(n),o=r.R(e);Ut(o)||0<o.X(t);)n-=s,r=cn(n),o=r.R(e);wn(r)&&(r=rc),i=i.add(r),t=Ao(t,o)}return new Ti(i,t)}q.gb=function(t){return ko(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Se(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Se(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Se(n,this.h^t.h)};function af(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Se(n,t.h)}function Os(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,i=[],r=0;r<s;r++)i[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new Se(i,t.h)}So.prototype.createWebChannel=So.prototype.g;Vt.prototype.send=Vt.prototype.u;Vt.prototype.open=Vt.prototype.m;Vt.prototype.close=Vt.prototype.close;oa.NO_ERROR=0;oa.TIMEOUT=8;oa.HTTP_ERROR=6;Gg.COMPLETE="complete";Qg.EventType=wr;wr.OPEN="a";wr.CLOSE="b";wr.ERROR="c";wr.MESSAGE="d";at.prototype.listen=at.prototype.O;ze.prototype.listenOnce=ze.prototype.P;ze.prototype.getLastError=ze.prototype.Sa;ze.prototype.getLastErrorCode=ze.prototype.Ia;ze.prototype.getStatus=ze.prototype.da;ze.prototype.getResponseJson=ze.prototype.Wa;ze.prototype.getResponseText=ze.prototype.ja;ze.prototype.send=ze.prototype.ha;ze.prototype.setWithCredentials=ze.prototype.Oa;nn.prototype.digest=nn.prototype.l;nn.prototype.reset=nn.prototype.reset;nn.prototype.update=nn.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=cn;Se.fromString=Dm;var G_=function(){return new So},Q_=function(){return ra()},cl=oa,Y_=Gg,X_=Cs,lf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J_=br,Kr=Qg,Z_=ze,eC=nn,Ks=Se;const cf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Yc("@firebase/firestore");function uf(){return vs.logLevel}function W(t,...e){if(vs.logLevel<=Ce.DEBUG){const n=e.map(bu);vs.debug(`Firestore (${gi}): ${t}`,...n)}}function xn(t,...e){if(vs.logLevel<=Ce.ERROR){const n=e.map(bu);vs.error(`Firestore (${gi}): ${t}`,...n)}}function ti(t,...e){if(vs.logLevel<=Ce.WARN){const n=e.map(bu);vs.warn(`Firestore (${gi}): ${t}`,...n)}}function bu(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: `+t;throw xn(e),new Error(e)}function Oe(t,e){t||te()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class nC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sC{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const i=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let r=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new gs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new Pm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new gt(e)}}class iC{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rC{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new iC(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=r=>{r.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?i(r):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.T=n.token,new oC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=lC(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%e.length))}return s}}function be(t,e){return t<e?-1:t>e?1:0}function ni(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new nt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new nt(0,0))}static max(){return new re(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,s){n===void 0?n=0:n>e.length&&te(),s===void 0?s=e.length-n:s>e.length-n&&te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=e.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends rr{construct(e,n,s){return new Me(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Y(M.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const cC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends rr{construct(e,n,s){return new Et(e,n,s)}static isValidIdentifier(e){return cC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new Y(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new Y(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Me.fromString(e))}static fromName(e){return new J(Me.fromString(e).popFirst(5))}static empty(){return new J(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Me(e.slice()))}}function uC(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Kn(i,J.empty(),e)}function hC(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kn(re.min(),J.empty(),-1)}static max(){return new Kn(re.max(),J.empty(),-1)}}function dC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==fC)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,s)=>{n(e)})}static reject(e){return new L((n,s)=>{s(e)})}static waitFor(e){return new L((n,s)=>{let i=0,r=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},u=>s(u))}),o=!0,r===i&&n()})}static or(e){let n=L.resolve(!1);for(const s of e)n=n.next(i=>i?L.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new L((s,i)=>{const r=e.length,o=new Array(r);let a=0;for(let u=0;u<r;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===r&&s(o)},d=>i(d))}})}static doWhile(e,n){return new L((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function Cr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Eu.ct=-1;function pa(t){return t==null}function Do(t){return t===0&&1/t==-1/0}function gC(t){return typeof t=="number"&&Number.isInteger(t)&&!Do(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Om(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wr(this.root,e,this.comparator,!0)}}class Wr{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s!=null?s:ht.RED,this.left=i!=null?i:ht.EMPTY,this.right=r!=null?r:ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new ht(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,i!=null?i:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(t,e,n,s,i){return this}insert(t,e,n){return new ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new df(this.data.getIterator())}getIteratorFrom(e){return new df(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class df{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Ct(Et.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ni(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Nm("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let r=0;r<s.length;++r)i+=String.fromCharCode(s[r]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=mC.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _u(t){const e=t.mapValue.fields.__previous_value__;return xu(e)?_u(e):e}function or(t){const e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,s,i,r,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ar{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ar("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ar&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xu(t)?4:yC(t)?9007199254740991:10:te()}function dn(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return or(t).isEqual(or(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const r=Wn(s.timestampValue),o=Wn(i.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bs(s.bytesValue).isEqual(bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const r=Ye(s.doubleValue),o=Ye(i.doubleValue);return r===o?Do(r)===Do(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return ni(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:return function(s,i){const r=s.mapValue.fields||{},o=i.mapValue.fields||{};if(hf(r)!==hf(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!dn(r[a],o[a])))return!1;return!0}(t,e);default:return te()}}function lr(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=Es(t),s=Es(e);if(n!==s)return be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,r){const o=Ye(i.integerValue||i.doubleValue),a=Ye(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ff(t.timestampValue,e.timestampValue);case 4:return ff(or(t),or(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,r){const o=bs(i),a=bs(r);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,r){const o=i.split("/"),a=r.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=be(o[u],a[u]);if(c!==0)return c}return be(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,r){const o=be(Ye(i.latitude),Ye(r.latitude));return o!==0?o:be(Ye(i.longitude),Ye(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,r){const o=i.values||[],a=r.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=si(o[u],a[u]);if(c)return c}return be(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,r){if(i===Gr.mapValue&&r===Gr.mapValue)return 0;if(i===Gr.mapValue)return 1;if(r===Gr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=r.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const p=be(a[d],c[d]);if(p!==0)return p;const g=si(o[a[d]],u[c[d]]);if(g!==0)return g}return be(a.length,c.length)}(t.mapValue,e.mapValue);default:throw te()}}function ff(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Wn(t),s=Wn(e),i=be(n.seconds,s.seconds);return i!==0?i:be(n.nanos,s.nanos)}function ii(t){return oc(t)}function oc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const i=Wn(s);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let i="[",r=!0;for(const o of s.values||[])r?r=!1:i+=",",i+=oc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(s){const i=Object.keys(s.fields||{}).sort();let r="{",o=!0;for(const a of i)o?o=!1:r+=",",r+=`${a}:${oc(s.fields[a])}`;return r+"}"}(t.mapValue):te();var e,n}function ac(t){return!!t&&"integerValue"in t}function Cu(t){return!!t&&"arrayValue"in t}function pf(t){return!!t&&"nullValue"in t}function gf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ro(t){return!!t&&"mapValue"in t}function Vi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ro(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vi(n)}setAll(e){let n=Et.emptyPath(),s={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Vi(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());ro(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];ro(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Nt(Vi(this.value))}}function Mm(t){const e=[];return Ts(t.fields,(n,s)=>{const i=new Et([n]);if(ro(s)){const r=Mm(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,s,i,r,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,re.min(),re.min(),re.min(),Nt.empty(),0)}static newFoundDocument(e,n,s,i){return new wt(e,1,n,re.min(),s,i,0)}static newNoDocument(e,n){return new wt(e,2,n,re.min(),re.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,re.min(),re.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.position=e,this.inclusive=n}}function mf(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=J.comparator(J.fromName(o.referenceValue),n.key):s=si(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function wf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n="asc"){this.field=e,this.dir=n}}function vC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{}class tt extends Lm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new EC(e,n,s):n==="array-contains"?new CC(e,s):n==="in"?new TC(e,s):n==="not-in"?new IC(e,s):n==="array-contains-any"?new SC(e,s):new tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xC(e,s):new _C(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(si(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends Lm{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fn(e,n)}matches(e){return $m(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $m(t){return t.op==="and"}function Bm(t){return bC(t)&&$m(t)}function bC(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function lc(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+ii(t.value);if(Bm(t))return t.filters.map(e=>lc(e)).join(",");{const e=t.filters.map(n=>lc(n)).join(",");return`${t.op}(${e})`}}function Fm(t,e){return t instanceof tt?function(n,s){return s instanceof tt&&n.op===s.op&&n.field.isEqual(s.field)&&dn(n.value,s.value)}(t,e):t instanceof fn?function(n,s){return s instanceof fn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,r,o)=>i&&Fm(r,s.filters[o]),!0):!1}(t,e):void te()}function Vm(t){return t instanceof tt?function(e){return`${e.field.canonicalString()} ${e.op} ${ii(e.value)}`}(t):t instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(Vm).join(" ,")+"}"}(t):"Filter"}class EC extends tt{constructor(e,n,s){super(e,n,s),this.key=J.fromName(s.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class xC extends tt{constructor(e,n){super(e,"in",n),this.keys=jm("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _C extends tt{constructor(e,n){super(e,"not-in",n),this.keys=jm("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jm(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>J.fromName(s.referenceValue))}class CC extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cu(n)&&lr(n.arrayValue,this.value)}}class TC extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lr(this.value.arrayValue,n)}}class IC extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lr(this.value.arrayValue,n)}}class SC extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n=null,s=[],i=[],r=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.dt=null}}function yf(t,e=null,n=[],s=[],i=null,r=null,o=null){return new AC(t,e,n,s,i,r,o)}function Tu(t){const e=ce(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ii(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ii(s)).join(",")),e.dt=n}return e.dt}function Iu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wf(t.startAt,e.startAt)&&wf(t.endAt,e.endAt)}function cc(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,s=[],i=[],r=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function kC(t,e,n,s,i,r,o,a){return new ga(t,e,n,s,i,r,o,a)}function Su(t){return new ga(t)}function vf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function PC(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function RC(t){return t.collectionGroup!==null}function Ws(t){const e=ce(t);if(e.wt===null){e.wt=[];const n=PC(e),s=DC(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new ji(n)),e.wt.push(new ji(Et.keyField(),"asc"));else{let i=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(i=!0);if(!i){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ji(Et.keyField(),r))}}}return e.wt}function _n(t){const e=ce(t);if(!e._t)if(e.limitType==="F")e._t=yf(e.path,e.collectionGroup,Ws(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of Ws(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new ji(r.field,o))}const s=e.endAt?new Po(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Po(e.startAt.position,e.startAt.inclusive):null;e._t=yf(e.path,e.collectionGroup,n,e.filters,e.limit,s,i)}return e._t}function uc(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ma(t,e){return Iu(_n(t),_n(e))&&t.limitType===e.limitType}function Um(t){return`${Tu(_n(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Vm(s)).join(", ")}]`),pa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ii(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ii(s)).join(",")),`Target(${n})`}(_n(t))}; limitType=${t.limitType})`}function wa(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Ws(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(i,r,o){const a=mf(i,r,o);return i.inclusive?a<=0:a<0}(n.startAt,Ws(n),s)||n.endAt&&!function(i,r,o){const a=mf(i,r,o);return i.inclusive?a>=0:a>0}(n.endAt,Ws(n),s))}(t,e)}function OC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hm(t){return(e,n)=>{let s=!1;for(const i of Ws(t)){const r=NC(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function NC(t,e,n){const s=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,r,o){const a=r.data.field(i),u=o.data.field(i);return a!==null&&u!==null?si(a,u):te()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return Om(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Fe(J.comparator);function Cn(){return MC}const qm=new Fe(J.comparator);function Di(...t){let e=qm;for(const n of t)e=e.insert(n.key,n);return e}function zm(t){let e=qm;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function cs(){return Ui()}function Km(){return Ui()}function Ui(){return new mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const LC=new Fe(J.comparator),$C=new Ct(J.comparator);function pe(...t){let e=$C;for(const n of t)e=e.add(n);return e}const BC=new Ct(be);function FC(){return BC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(e)?"-0":e}}function Gm(t){return{integerValue:""+t}}function VC(t,e){return gC(e)?Gm(e):Wm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this._=void 0}}function jC(t,e,n){return t instanceof Ro?function(s,i){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xu(i)&&(i=_u(i)),i&&(r.fields.__previous_value__=i),{mapValue:r}}(n,e):t instanceof cr?Ym(t,e):t instanceof ur?Xm(t,e):function(s,i){const r=Qm(s,i),o=bf(r)+bf(s.gt);return ac(r)&&ac(s.gt)?Gm(o):Wm(s.serializer,o)}(t,e)}function UC(t,e,n){return t instanceof cr?Ym(t,e):t instanceof ur?Xm(t,e):n}function Qm(t,e){return t instanceof Oo?ac(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Ro extends ya{}class cr extends ya{constructor(e){super(),this.elements=e}}function Ym(t,e){const n=Jm(e);for(const s of t.elements)n.some(i=>dn(i,s))||n.push(s);return{arrayValue:{values:n}}}class ur extends ya{constructor(e){super(),this.elements=e}}function Xm(t,e){let n=Jm(e);for(const s of t.elements)n=n.filter(i=>!dn(i,s));return{arrayValue:{values:n}}}class Oo extends ya{constructor(e,n){super(),this.serializer=e,this.gt=n}}function bf(t){return Ye(t.integerValue||t.doubleValue)}function Jm(t){return Cu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HC(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof cr&&s instanceof cr||n instanceof ur&&s instanceof ur?ni(n.elements,s.elements,dn):n instanceof Oo&&s instanceof Oo?dn(n.gt,s.gt):n instanceof Ro&&s instanceof Ro}(t.transform,e.transform)}class qC{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class va{}function Zm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Au(t.key,Zt.none()):new Tr(t.key,t.data,Zt.none());{const n=t.data,s=Nt.empty();let i=new Ct(Et.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Jn(t.key,s,new $t(i.toArray()),Zt.none())}}function zC(t,e,n){t instanceof Tr?function(s,i,r){const o=s.value.clone(),a=xf(s.fieldTransforms,i,r.transformResults);o.setAll(a),i.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(s,i,r){if(!oo(s.precondition,i))return void i.convertToUnknownDocument(r.version);const o=xf(s.fieldTransforms,i,r.transformResults),a=i.data;a.setAll(ew(s)),a.setAll(o),i.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(t,e,n):function(s,i,r){i.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function Hi(t,e,n,s){return t instanceof Tr?function(i,r,o,a){if(!oo(i.precondition,r))return o;const u=i.value.clone(),c=_f(i.fieldTransforms,a,r);return u.setAll(c),r.convertToFoundDocument(r.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof Jn?function(i,r,o,a){if(!oo(i.precondition,r))return o;const u=_f(i.fieldTransforms,a,r),c=r.data;return c.setAll(ew(i)),c.setAll(u),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,s):function(i,r,o){return oo(i.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function KC(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Qm(s.transform,i||null);r!=null&&(n===null&&(n=Nt.empty()),n.set(s.field,r))}return n||null}function Ef(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ni(n,s,(i,r)=>HC(i,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tr extends va{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jn extends va{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ew(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function xf(t,e,n){const s=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,a=e.data.field(r.field);s.set(r.field,UC(o,a,n[i]))}return s}function _f(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,jC(r,o,e))}return s}class Au extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WC extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&zC(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Hi(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Hi(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Km();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const u=Zm(o,a);u!==null&&s.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ni(this.mutations,e.mutations,(n,s)=>Ef(n,s))&&ni(this.baseMutations,e.baseMutations,(n,s)=>Ef(n,s))}}class ku{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Oe(e.mutations.length===s.length);let i=LC;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new ku(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ye;function XC(t){switch(t){default:return te();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function tw(t){if(t===void 0)return xn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Qe.OK:return M.OK;case Qe.CANCELLED:return M.CANCELLED;case Qe.UNKNOWN:return M.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return M.INTERNAL;case Qe.UNAVAILABLE:return M.UNAVAILABLE;case Qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Qe.NOT_FOUND:return M.NOT_FOUND;case Qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Qe.ABORTED:return M.ABORTED;case Qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Qe.DATA_LOSS:return M.DATA_LOSS;default:return te()}}(ye=Qe||(Qe={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Qr}static getOrCreateInstance(){return Qr===null&&(Qr=new Du),Qr}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Qr=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Ks([4294967295,4294967295],0);function Cf(t){const e=JC().encode(t),n=new eC;return n.update(e),new Uint8Array(n.digest())}function Tf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Ks([n,s],0),new Ks([i,r],0)]}class Pu{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pi(`Invalid padding: ${n}`);if(s<0)throw new Pi(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pi(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ks.fromNumber(this.It)}Et(e,n,s){let i=e.add(n.multiply(Ks.fromNumber(s)));return i.compare(ZC)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Cf(e),[s,i]=Tf(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);if(!this.At(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new Pu(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Cf(e),[s,i]=Tf(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Ir.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ba(re.min(),i,new Fe(be),Cn(),pe())}}class Ir{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ir(s,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,s,i){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=i}}class nw{constructor(e,n){this.targetId=e,this.Vt=n}}class sw{constructor(e,n,s=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class If{constructor(){this.St=0,this.Dt=Af(),this.Ct=Tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pe(),n=pe(),s=pe();return this.Dt.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:te()}}),new Ir(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Af()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class eT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Cn(),this.zt=Sf(),this.Wt=new Fe(be)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,i)=>{this.te(i)&&n(i)})}ne(e){var n;const s=e.targetId,i=e.Vt.count,r=this.se(s);if(r){const o=r.target;if(cc(o))if(i===0){const a=new J(o.path);this.Yt(s,a,wt.newNoDocument(a,re.min()))}else Oe(i===1);else{const a=this.ie(s);if(a!==i){const u=this.re(e,a);if(u!==0){this.ee(s);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=Du.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,p){var g,b,x,T,N,F;const j={localCacheCount:d,existenceFilterCount:p.count},G=p.unchangedNames;return G&&(j.bloomFilter={applied:c===0,hashCount:(g=G==null?void 0:G.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(T=(x=(b=G==null?void 0:G.bits)===null||b===void 0?void 0:b.bitmap)===null||x===void 0?void 0:x.length)!==null&&T!==void 0?T:0,padding:(F=(N=G==null?void 0:G.bits)===null||N===void 0?void 0:N.padding)!==null&&F!==void 0?F:0}),j}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:i}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=s;let u,c;try{u=bs(r).toUint8Array()}catch(d){if(d instanceof Nm)return ti("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new Pu(u,o,a)}catch(d){return ti(d instanceof Pi?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let i=0;return s.forEach(r=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;n.vt(a)||(this.Yt(e,r,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((r,o)=>{const a=this.se(o);if(a){if(r.current&&cc(a.target)){const u=new J(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,wt.newNoDocument(u,e))}r.Mt&&(n.set(o,r.Ot()),r.Ft())}});let s=pe();this.zt.forEach((r,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.jt.forEach((r,o)=>o.setReadTime(e));const i=new ba(e,n,this.Wt,this.jt,s);return this.jt=Cn(),this.zt=Sf(),this.Wt=new Fe(be),i}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new If,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ct(be),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new If),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new Fe(J.comparator)}function Af(){return new Fe(J.comparator)}const tT=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nT=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sT=(()=>({and:"AND",or:"OR"}))();class iT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dc(t,e){return t.useProto3Json||pa(e)?e:{value:e}}function No(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rT(t,e){return No(t,e.toTimestamp())}function hn(t){return Oe(!!t),re.fromTimestamp(function(e){const n=Wn(e);return new nt(n.seconds,n.nanos)}(t))}function Ru(t,e){return function(n){return new Me(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function rw(t){const e=Me.fromString(t);return Oe(cw(e)),e}function fc(t,e){return Ru(t.databaseId,e.path)}function ul(t,e){const n=rw(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(ow(n))}function pc(t,e){return Ru(t.databaseId,e)}function oT(t){const e=rw(t);return e.length===4?Me.emptyPath():ow(e)}function gc(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ow(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kf(t,e,n){return{name:fc(t,e),fields:n.value.mapValue.fields}}function aT(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(u,c){return u.useProto3Json?(Oe(c===void 0||typeof c=="string"),Tt.fromBase64String(c||"")):(Oe(c===void 0||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?M.UNKNOWN:tw(u.code);return new Y(c,u.message||"")}(o);n=new sw(s,i,r,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=ul(t,s.document.name),r=hn(s.document.updateTime),o=s.document.createTime?hn(s.document.createTime):re.min(),a=new Nt({mapValue:{fields:s.document.fields}}),u=wt.newFoundDocument(i,r,o,a),c=s.targetIds||[],d=s.removedTargetIds||[];n=new ao(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=ul(t,s.document),r=s.readTime?hn(s.readTime):re.min(),o=wt.newNoDocument(i,r),a=s.removedTargetIds||[];n=new ao([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=ul(t,s.document),r=s.removedTargetIds||[];n=new ao([],r,i,null)}else{if(!("filter"in e))return te();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new YC(i,r),a=s.targetId;n=new nw(a,o)}}return n}function lT(t,e){let n;if(e instanceof Tr)n={update:kf(t,e.key,e.value)};else if(e instanceof Au)n={delete:fc(t,e.key)};else if(e instanceof Jn)n={update:kf(t,e.key,e.data),updateMask:wT(e.fieldMask)};else{if(!(e instanceof WC))return te();n={verify:fc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,r){const o=r.transform;if(o instanceof Ro)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof cr)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ur)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oo)return{fieldPath:r.field.canonicalString(),increment:o.gt};throw te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rT(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(t,e.precondition)),n}function cT(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(s,i){let r=s.updateTime?hn(s.updateTime):hn(i);return r.isEqual(re.min())&&(r=hn(i)),new qC(r,s.transformResults||[])}(n,e))):[]}function uT(t,e){return{documents:[pc(t,e.path)]}}function hT(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=pc(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pc(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(u){if(u.length!==0)return lw(fn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const r=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Bs(d.field),direction:pT(d.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=dc(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function dT(t){let e=oT(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Oe(s===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(d){const p=aw(d);return p instanceof fn&&Bm(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(p){return new ji(Fs(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d)));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,pa(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,g=d.values||[];return new Po(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Po(g,p)}(n.endAt)),kC(e,i,o,r,a,"F",u,c)}function fT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fs(e.unaryFilter.field);return tt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Fs(e.unaryFilter.field);return tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fs(e.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Fs(e.unaryFilter.field);return tt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(e){return tt.create(Fs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fn.create(e.compositeFilter.filters.map(n=>aw(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return te()}}(e.compositeFilter.op))}(t):te()}function pT(t){return tT[t]}function gT(t){return nT[t]}function mT(t){return sT[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function Fs(t){return Et.fromServerFormat(t.fieldPath)}function lw(t){return t instanceof tt?function(e){if(e.op==="=="){if(gf(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NAN"}};if(pf(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gf(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NAN"}};if(pf(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(e.field),op:gT(e.op),value:e.value}}}(t):t instanceof fn?function(e){const n=e.getFilters().map(s=>lw(s));return n.length===1?n[0]:{compositeFilter:{op:mT(e.op),filters:n}}}(t):te()}function wT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,s,i,r=re.min(),o=re.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ln(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ln(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.fe=e}}function vT(t){const e=dT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.rn=new ET}addToCollectionParentIndex(e,n){return this.rn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Kn.min())}updateCollectionGroup(e,n,s){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class ET{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new Ct(Me.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ct(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ri(0)}static Mn(){return new ri(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.changes=new mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&Hi(s.mutation,i,$t.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=pe()){const i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Di();return r.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=cs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,pe()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,i){let r=Cn();const o=Ui(),a=Ui();return n.forEach((u,c)=>{const d=s.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Jn)?r=r.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Hi(d.mutation,c,d.mutation.getFieldMask(),nt.now())):o.set(c.key,$t.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new _T(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Ui();let i=new Fe((o,a)=>o-a),r=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=s.get(u)||$t.empty();d=a.applyToLocalView(c,d),s.set(u,d);const p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=Km();d.forEach(g=>{if(!r.has(g)){const b=Zm(n.get(g),s.get(g));b!==null&&p.set(g,b),r=r.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(i){return J.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):L.resolve(cs());let a=-1,u=r;return o.next(c=>L.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),r.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,u,c,pe())).next(d=>({batchId:a,changes:zm(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(s=>{let i=Di();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const i=n.collectionGroup;let r=Di();return this.indexManager.getCollectionParents(e,i).next(o=>L.forEach(o,a=>{const u=function(c,d){return new ga(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s).next(c=>{c.forEach((d,p)=>{r=r.insert(d,p)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i))).next(r=>{i.forEach((a,u)=>{const c=u.getKey();r.get(c)===null&&(r=r.insert(c,wt.newInvalidDocument(c)))});let o=Di();return r.forEach((a,u)=>{const c=i.get(a);c!==void 0&&Hi(c.mutation,u,$t.empty(),nt.now()),wa(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return L.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:hn(s.createTime)}),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:vT(s.bundledQuery),readTime:hn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.overlays=new Fe(J.comparator),this.ls=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const s=cs();return L.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.we(e,n,r)}),L.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.ls.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.ls.delete(s)),L.resolve()}getOverlaysForCollection(e,n,s){const i=cs(),r=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>s&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let d=r.get(c.largestBatchId);d===null&&(d=cs(),r=r.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=cs(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return L.resolve(a)}we(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(s.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new QC(n,s));let r=this.ls.get(n);r===void 0&&(r=pe(),this.ls.set(n,r)),this.ls.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.fs=new Ct(rt.ds),this.ws=new Ct(rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new rt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new rt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new J(new Me([])),s=new rt(n,e),i=new rt(n,e+1),r=[];return this.ws.forEachInRange([s,i],o=>{this.ys(o),r.push(o.key)}),r}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new Me([])),s=new rt(n,e),i=new rt(n,e+1);let r=pe();return this.ws.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new rt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class rt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||be(e.As,n.As)}static _s(e,n){return be(e.As,n.As)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ct(rt.ds)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GC(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new rt(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.bs(s),r=i<0?0:i;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([s,i],o=>{const a=this.Ps(o.As);r.push(a)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(be);return n.forEach(i=>{const r=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([r,o],a=>{s=s.add(a.As)})}),L.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;J.isDocumentKey(r)||(r=r.child(""));const o=new rt(new J(r),0);let a=new Ct(be);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),L.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const i=this.Ps(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return L.forEach(n.mutations,i=>{const r=new rt(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new rt(n,0),i=this.Rs.firstAfterOrEqual(s);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.Ds=e,this.docs=new Fe(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let s=Cn();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():wt.newInvalidDocument(i))}),L.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=Cn();const o=n.path,a=new J(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dC(hC(d),s)<=0||(i.has(d.key)||wa(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(e,n,s,i){te()}Cs(e,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kT(this)}getSize(e){return L.resolve(this.size)}}class kT extends xT{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(s)}),L.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.persistence=e,this.xs=new mi(n=>Tu(n),Iu),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ou,this.targetCount=0,this.Ms=ri.kn()}forEachTarget(e,n){return this.xs.forEach((s,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),L.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ri(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Fn(n),L.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(r).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return L.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),L.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),L.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return L.resolve(s)}containsKey(e,n){return L.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Eu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new DT(this),this.indexManager=new bT,this.remoteDocumentCache=function(s){return new AT(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new yT(n),this.qs=new TT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new ST(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){W("MemoryPersistence","Starting transaction:",e);const i=new RT(this.Os.next());return this.referenceDelegate.Us(),s(i).next(r=>this.referenceDelegate.Ks(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Gs(e,n){return L.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class RT extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class Nu{constructor(e){this.persistence=e,this.Qs=new Ou,this.js=null}static zs(e){return new Nu(e)}get Ws(){if(this.js)return this.js;throw te()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),L.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),L.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.Ws.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,s=>{const i=J.fromPath(s);return this.Hs(e,i).next(r=>{r||n.removeEntry(i,re.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return L.or([()=>L.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=i}static Li(e,n){let s=pe(),i=pe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Mu(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,i){return this.Ki(e,n).next(r=>r||this.Gi(e,n,i,s)).next(r=>r||this.Qi(e,n))}Ki(e,n){if(vf(n))return L.resolve(null);let s=_n(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uc(n,null,"F"),s=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=pe(...r);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,uc(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,s,i){return vf(n)||i.isEqual(re.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(r=>{const o=this.ji(n,r);return this.zi(n,o,s,i)?this.Qi(e,n):(uf()<=Ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.Wi(e,o,n,uC(i,-1)))})}ji(e,n){let s=new Ct(Hm(e));return n.forEach((i,r)=>{wa(e,r)&&(s=s.add(r))}),s}zi(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,n){return uf()<=Ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",hc(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,s,i){return this.Ui.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,s,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Fe(be),this.Yi=new mi(r=>Tu(r),Iu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function MT(t,e,n,s){return new NT(t,e,n,s)}async function uw(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let u=pe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of r){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function LT(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const d=u.batch,p=d.keys();let g=L.resolve();return p.forEach(b=>{g=g.next(()=>c.getEntry(a,b)).next(x=>{const T=u.docVersions.get(b);Oe(T!==null),x.version.compareTo(T)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=pe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function hw(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function $T(t,e){const n=ce(t),s=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;a.push(n.Bs.removeMatchingKeys(r,d.removedDocuments,p).next(()=>n.Bs.addMatchingKeys(r,d.addedDocuments,p)));let b=g.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Tt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(d.resumeToken,s)),i=i.insert(p,b),function(x,T,N){return x.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(g,b,d)&&a.push(n.Bs.updateTargetData(r,b))});let u=Cn(),c=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),a.push(BT(r,o,e.documentUpdates).next(d=>{u=d.nr,c=d.sr})),!s.isEqual(re.min())){const d=n.Bs.getLastRemoteSnapshotVersion(r).next(p=>n.Bs.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(d)}return L.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.Ji=i,r))}function BT(t,e,n){let s=pe(),i=pe();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=Cn();return n.forEach((a,u)=>{const c=r.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}function FT(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VT(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Bs.getTargetData(s,e).next(r=>r?(i=r,L.resolve(i)):n.Bs.allocateTargetId(s).next(o=>(i=new Ln(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ji.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function mc(t,e,n){const s=ce(t),i=s.Ji.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Cr(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(i.target)}function Df(t,e,n){const s=ce(t);let i=re.min(),r=pe();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const d=ce(a),p=d.Yi.get(c);return p!==void 0?L.resolve(d.Ji.get(p)):d.Bs.getTargetData(u,c)}(s,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{r=u})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?r:pe())).next(a=>(jT(s,OC(e),a),{documents:a,ir:r})))}function jT(t,e,n){let s=t.Xi.get(e)||re.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Xi.set(e,s)}class Pf{constructor(){this.activeTargetIds=FC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UT{constructor(){this.Hr=new Pf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=null;function hl(){return Yr===null?Yr=268435456+Math.round(2147483648*Math.random()):Yr++,"0x"+Yr.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class KT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,i,r){const o=hl(),a=this.To(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const u={};return this.Eo(u,i,r),this.Ao(e,a,u,s).then(c=>(W("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ti("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,i,r,o){return this.Io(e,n,s,i,r)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+gi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}To(e,n){const s=qT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,i){const r=hl();return new Promise((o,a)=>{const u=new Z_;u.setWithCredentials(!0),u.listenOnce(Y_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cl.NO_ERROR:const d=u.getResponseJson();W(pt,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),o(d);break;case cl.TIMEOUT:W(pt,`RPC '${e}' ${r} timed out`),a(new Y(M.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const p=u.getStatus();if(W(pt,`RPC '${e}' ${r} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const x=function(T){const N=T.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(N)>=0?N:M.UNKNOWN}(b.status);a(new Y(x,b.message))}else a(new Y(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Y(M.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{W(pt,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(i);W(pt,`RPC '${e}' ${r} sending request:`,i),u.send(n,"POST",c,s,15)})}Ro(e,n,s){const i=hl(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=G_(),a=Q_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new J_({})),this.Eo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=r.join("");W(pt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let g=!1,b=!1;const x=new zT({ro:N=>{b?W(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(W(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(pt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},oo:()=>p.close()}),T=(N,F,j)=>{N.listen(F,G=>{try{j(G)}catch(V){setTimeout(()=>{throw V},0)}})};return T(p,Kr.EventType.OPEN,()=>{b||W(pt,`RPC '${e}' stream ${i} transport opened.`)}),T(p,Kr.EventType.CLOSE,()=>{b||(b=!0,W(pt,`RPC '${e}' stream ${i} transport closed`),x.wo())}),T(p,Kr.EventType.ERROR,N=>{b||(b=!0,ti(pt,`RPC '${e}' stream ${i} transport errored:`,N),x.wo(new Y(M.UNAVAILABLE,"The operation could not be completed")))}),T(p,Kr.EventType.MESSAGE,N=>{var F;if(!b){const j=N.data[0];Oe(!!j);const G=j,V=G.error||((F=G[0])===null||F===void 0?void 0:F.error);if(V){W(pt,`RPC '${e}' stream ${i} received error:`,V);const fe=V.status;let ge=function(Te){const me=Qe[Te];if(me!==void 0)return tw(me)}(fe),ae=V.message;ge===void 0&&(ge=M.INTERNAL,ae="Unknown error status: "+fe+" with message "+V.message),b=!0,x.wo(new Y(ge,ae)),p.close()}else W(pt,`RPC '${e}' stream ${i} received:`,j),x._o(j)}}),T(a,X_.STAT_EVENT,N=>{N.stat===lf.PROXY?W(pt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===lf.NOPROXY&&W(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function dl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){return new iT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,s=1e3,i=1.5,r=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-s);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,i,r,o,a,u){this.ii=e,this.$o=s,this.Oo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dw(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Fo===n&&this.Zo(s,i)},s=>{e(()=>{const i=new Y(M.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(i)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{s(()=>this.tu(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WT extends fw{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=aT(this.serializer,e),s=function(i){if(!("targetChange"in i))return re.min();const r=i.targetChange;return r.targetIds&&r.targetIds.length?re.min():r.readTime?hn(r.readTime):re.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=gc(this.serializer),n.addTarget=function(i,r){let o;const a=r.target;if(o=cc(a)?{documents:uT(i,a)}:{query:hT(i,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=iw(i,r.resumeToken);const u=dc(i,r.expectedCount);u!==null&&(o.expectedCount=u)}else if(r.snapshotVersion.compareTo(re.min())>0){o.readTime=No(i,r.snapshotVersion.toTimestamp());const u=dc(i,r.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const s=fT(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=gc(this.serializer),n.removeTarget=e,this.Wo(n)}}class GT extends fw{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=cT(e.writeResults,e.commitTime),s=hn(e.commitTime);return this.listener.cu(s,n)}return Oe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>lT(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Y(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.Io(e,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(M.UNKNOWN,i.toString())})}vo(e,n,s,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.vo(e,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(M.UNKNOWN,r.toString())})}terminate(){this.lu=!0}}class YT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(xn(n),this.mu=!1):W("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{Is(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=ce(a);u.vu.add(4),await Sr(u),u.bu.set("Unknown"),u.vu.delete(4),await xa(u)}(this))})}),this.bu=new YT(s,i)}}async function xa(t){if(Is(t))for(const e of t.Ru)await e(!0)}async function Sr(t){for(const e of t.Ru)await e(!1)}function pw(t,e){const n=ce(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Bu(n)?$u(n):wi(n).Ko()&&Lu(n,e))}function gw(t,e){const n=ce(t),s=wi(n);n.Au.delete(e),s.Ko()&&mw(n,e),n.Au.size===0&&(s.Ko()?s.jo():Is(n)&&n.bu.set("Unknown"))}function Lu(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wi(t).su(e)}function mw(t,e){t.Vu.qt(e),wi(t).iu(e)}function $u(t){t.Vu=new eT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wi(t).start(),t.bu.gu()}function Bu(t){return Is(t)&&!wi(t).Uo()&&t.Au.size>0}function Is(t){return ce(t).vu.size===0}function ww(t){t.Vu=void 0}async function JT(t){t.Au.forEach((e,n)=>{Lu(t,e)})}async function ZT(t,e){ww(t),Bu(t)?(t.bu.Iu(e),$u(t)):t.bu.set("Unknown")}async function eI(t,e,n){if(t.bu.set("Online"),e instanceof sw&&e.state===2&&e.cause)try{await async function(s,i){const r=i.cause;for(const o of i.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,r),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mo(t,s)}else if(e instanceof ao?t.Vu.Ht(e):e instanceof nw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(re.min()))try{const s=await hw(t.localStore);n.compareTo(s)>=0&&await function(i,r){const o=i.Vu.ce(r);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),mw(i,a);const d=new Ln(c.target,a,u,c.sequenceNumber);Lu(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){W("RemoteStore","Failed to raise snapshot:",s),await Mo(t,s)}}async function Mo(t,e,n){if(!Cr(e))throw e;t.vu.add(1),await Sr(t),t.bu.set("Offline"),n||(n=()=>hw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await xa(t)})}function yw(t,e){return e().catch(n=>Mo(t,n,e))}async function _a(t){const e=ce(t),n=Gn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tI(e);)try{const i=await FT(e.localStore,s);if(i===null){e.Eu.length===0&&n.jo();break}s=i.batchId,nI(e,i)}catch(i){await Mo(e,i)}vw(e)&&bw(e)}function tI(t){return Is(t)&&t.Eu.length<10}function nI(t,e){t.Eu.push(e);const n=Gn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function vw(t){return Is(t)&&!Gn(t).Uo()&&t.Eu.length>0}function bw(t){Gn(t).start()}async function sI(t){Gn(t).hu()}async function iI(t){const e=Gn(t);for(const n of t.Eu)e.uu(n.mutations)}async function rI(t,e,n){const s=t.Eu.shift(),i=ku.from(s,e,n);await yw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _a(t)}async function oI(t,e){e&&Gn(t).ou&&await async function(n,s){if(i=s.code,XC(i)&&i!==M.ABORTED){const r=n.Eu.shift();Gn(n).Qo(),await yw(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await _a(n)}var i}(t,e),vw(t)&&bw(t)}async function Of(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const s=Is(n);n.vu.add(3),await Sr(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await xa(n)}async function aI(t,e){const n=ce(t);e?(n.vu.delete(2),await xa(n)):e||(n.vu.add(2),await Sr(n),n.bu.set("Unknown"))}function wi(t){return t.Su||(t.Su=function(e,n,s){const i=ce(e);return i.fu(),new WT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:JT.bind(null,t),ao:ZT.bind(null,t),nu:eI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Bu(t)?$u(t):t.bu.set("Unknown")):(await t.Su.stop(),ww(t))})),t.Su}function Gn(t){return t.Du||(t.Du=function(e,n,s){const i=ce(e);return i.fu(),new GT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:sI.bind(null,t),ao:oI.bind(null,t),au:iI.bind(null,t),cu:rI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await _a(t)):(await t.Du.stop(),t.Eu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,a=new Fu(e,n,o,i,r);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vu(t,e){if(xn("AsyncQueue",`${e}: ${t}`),Cr(t))return new Y(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||J.comparator(n.key,s.key):(n,s)=>J.comparator(n.key,s.key),this.keyedMap=Di(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Gs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.Cu=new Fe(J.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):te():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class oi{constructor(e,n,s,i,r,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oi(e,n,Gs.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ma(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.Nu=void 0,this.listeners=[]}}class cI{constructor(){this.queries=new mi(e=>Um(e),ma),this.onlineState="Unknown",this.ku=new Set}}async function uI(t,e){const n=ce(t),s=e.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new lI),i)try{r.Nu=await n.onListen(s)}catch(o){const a=Vu(o,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,r),r.listeners.push(e),e.Mu(n.onlineState),r.Nu&&e.$u(r.Nu)&&ju(n)}async function hI(t,e){const n=ce(t),s=e.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function dI(t,e){const n=ce(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.$u(i)&&(s=!0);o.Nu=i}}s&&ju(n)}function fI(t,e,n){const s=ce(t),i=s.queries.get(e);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(e)}function ju(t){t.ku.forEach(e=>{e.next()})}class pI{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new oi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.key=e}}class xw{constructor(e){this.key=e}}class gI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pe(),this.mutatedKeys=pe(),this.tc=Hm(e),this.ec=new Gs(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Nf,i=n?n.ec:this.ec;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),b=wa(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;g&&b?g.data.isEqual(b.data)?x!==T&&(s.track({type:3,doc:b}),N=!0):this.rc(g,b)||(s.track({type:2,doc:b}),N=!0,(u&&this.tc(b,u)>0||c&&this.tc(b,c)<0)&&(a=!0)):!g&&b?(s.track({type:0,doc:b}),N=!0):g&&!b&&(s.track({type:1,doc:g}),N=!0,(u||c)&&(a=!0)),N&&(b?(o=o.add(b),r=T?r.add(d):r.delete(d)):(o=o.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),r=r.delete(d.key),s.track({type:1,doc:d})}return{ec:o,ic:s,zi:a,mutatedKeys:r}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort((c,d)=>function(p,g){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return b(p)-b(g)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,r.length!==0||u?{snapshot:new oi(this.query,e.ec,i,r,e.mutatedKeys,a===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Nf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pe(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new xw(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Ew(s))}),n}hc(e){this.Yu=e.ir,this.Zu=pe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return oi.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class mI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wI{constructor(e){this.key=e,this.fc=!1}}class yI{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new mi(a=>Um(a),ma),this._c=new Map,this.mc=new Set,this.gc=new Fe(J.comparator),this.yc=new Map,this.Ic=new Ou,this.Tc={},this.Ec=new Map,this.Ac=ri.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function vI(t,e){const n=kI(t);let s,i;const r=n.wc.get(e);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.lc();else{const o=await VT(n.localStore,_n(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await bI(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&pw(n.remoteStore,o)}return i}async function bI(t,e,n,s,i){t.Rc=(p,g,b)=>async function(x,T,N,F){let j=T.view.sc(N);j.zi&&(j=await Df(x.localStore,T.query,!1).then(({documents:fe})=>T.view.sc(fe,j)));const G=F&&F.targetChanges.get(T.targetId),V=T.view.applyChanges(j,x.isPrimaryClient,G);return Lf(x,T.targetId,V.cc),V.snapshot}(t,p,g,b);const r=await Df(t.localStore,e,!0),o=new gI(e,r.ir),a=o.sc(r.documents),u=Ir.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);Lf(t,n,c.cc);const d=new mI(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function EI(t,e){const n=ce(t),s=n.wc.get(e),i=n._c.get(s.targetId);if(i.length>1)return n._c.set(s.targetId,i.filter(r=>!ma(r,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await mc(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),gw(n.remoteStore,s.targetId),wc(n,s.targetId)}).catch(_r)):(wc(n,s.targetId),await mc(n.localStore,s.targetId,!0))}async function xI(t,e,n){const s=DI(t);try{const i=await function(r,o){const a=ce(r),u=nt.now(),c=o.reduce((g,b)=>g.add(b.key),pe());let d,p;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Cn(),x=pe();return a.Zi.getEntries(g,c).next(T=>{b=T,b.forEach((N,F)=>{F.isValidDocument()||(x=x.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,b)).next(T=>{d=T;const N=[];for(const F of o){const j=KC(F,d.get(F.key).overlayedDocument);j!=null&&N.push(new Jn(F.key,j,Mm(j.value.mapValue),Zt.exists(!0)))}return a.mutationQueue.addMutationBatch(g,u,N,o)}).next(T=>{p=T;const N=T.applyToLocalDocumentSet(d,x);return a.documentOverlayCache.saveOverlays(g,T.batchId,N)})}).then(()=>({batchId:p.batchId,changes:zm(d)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(r,o,a){let u=r.Tc[r.currentUser.toKey()];u||(u=new Fe(be)),u=u.insert(o,a),r.Tc[r.currentUser.toKey()]=u}(s,i.batchId,n),await Ar(s,i.changes),await _a(s.remoteStore)}catch(i){const r=Vu(i,"Failed to persist write");n.reject(r)}}async function _w(t,e){const n=ce(t);try{const s=await $T(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.yc.get(r);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Oe(o.fc):i.removedDocuments.size>0&&(Oe(o.fc),o.fc=!1))}),await Ar(n,s,e)}catch(s){await _r(s)}}function Mf(t,e,n){const s=ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.wc.forEach((r,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(r,o){const a=ce(r);a.onlineState=o;let u=!1;a.queries.forEach((c,d)=>{for(const p of d.listeners)p.Mu(o)&&(u=!0)}),u&&ju(a)}(s.eventManager,e),i.length&&s.dc.nu(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _I(t,e,n){const s=ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.yc.get(e),r=i&&i.key;if(r){let o=new Fe(J.comparator);o=o.insert(r,wt.newNoDocument(r,re.min()));const a=pe().add(r),u=new ba(re.min(),new Map,new Fe(be),o,a);await _w(s,u),s.gc=s.gc.remove(r),s.yc.delete(e),Uu(s)}else await mc(s.localStore,e,!1).then(()=>wc(s,e,n)).catch(_r)}async function CI(t,e){const n=ce(t),s=e.batch.batchId;try{const i=await LT(n.localStore,e);Tw(n,s,null),Cw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ar(n,i)}catch(i){await _r(i)}}async function TI(t,e,n){const s=ce(t);try{const i=await function(r,o){const a=ce(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(d=>(Oe(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(s.localStore,e);Tw(s,e,n),Cw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ar(s,i)}catch(i){await _r(i)}}function Cw(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Tw(t,e,n){const s=ce(t);let i=s.Tc[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Tc[s.currentUser.toKey()]=i}}function wc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Iw(t,s)})}function Iw(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(gw(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Uu(t))}function Lf(t,e,n){for(const s of n)s instanceof Ew?(t.Ic.addReference(s.key,e),II(t,s)):s instanceof xw?(W("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Iw(t,s.key)):te()}function II(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(W("SyncEngine","New document in limbo: "+n),t.mc.add(s),Uu(t))}function Uu(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(Me.fromString(e)),s=t.Ac.next();t.yc.set(s,new wI(n)),t.gc=t.gc.insert(n,s),pw(t.remoteStore,new Ln(_n(Su(n.path)),s,"TargetPurposeLimboResolution",Eu.ct))}}async function Ar(t,e,n){const s=ce(t),i=[],r=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,u)=>{o.push(s.Rc(u,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=Mu.Li(u.targetId,c);r.push(d)}}))}),await Promise.all(o),s.dc.nu(i),await async function(a,u){const c=ce(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(u,p=>L.forEach(p.Fi,g=>c.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>L.forEach(p.Bi,g=>c.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!Cr(d))throw d;W("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const g=c.Ji.get(p),b=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(b);c.Ji=c.Ji.insert(p,x)}}}(s.localStore,r))}async function SI(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const s=await uw(n.localStore,e);n.currentUser=e,function(i,r){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Y(M.CANCELLED,r))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ar(n,s.er)}}function AI(t,e){const n=ce(t),s=n.yc.get(e);if(s&&s.fc)return pe().add(s.key);{let i=pe();const r=n._c.get(e);if(!r)return i;for(const o of r){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function kI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_I.bind(null,e),e.dc.nu=dI.bind(null,e.eventManager),e.dc.Pc=fI.bind(null,e.eventManager),e}function DI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,e),e}class $f{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ea(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MT(this.persistence,new OT,e.initialUser,this.serializer)}createPersistence(e){return new PT(Nu.zs,this.serializer)}createSharedClientState(e){return new UT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await aI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cI}createDatastore(e){const n=Ea(e.databaseInfo.databaseId),s=(i=e.databaseInfo,new KT(i));var i;return function(r,o,a,u){return new QT(r,o,a,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,i=e.asyncQueue,r=a=>Mf(this.syncEngine,a,0),o=Rf.D()?new Rf:new HT,new XT(n,s,i,r,o);var n,s,i,r,o}createSyncEngine(e,n){return function(s,i,r,o,a,u,c){const d=new yI(s,i,r,o,a,u);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ce(e);W("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Sr(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Rm.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{W("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(W("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Vu(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fl(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await uw(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MI(t);W("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(i=>Of(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Of(e.remoteStore,r)),t._onlineComponents=e}function NI(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function MI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await fl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NI(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),await fl(t,new $f)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await fl(t,new $f);return t._offlineComponents}async function Sw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Bf(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Bf(t,new PI))),t._onlineComponents}function LI(t){return Sw(t).then(e=>e.syncEngine)}async function Ff(t){const e=await Sw(t),n=e.eventManager;return n.onListen=vI.bind(null,e.syncEngine),n.onUnlisten=EI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e,n){if(!n)throw new Y(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $I(t,e,n,s){if(e===!0&&s===!0)throw new Y(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jf(t){if(!J.isDocumentKey(t))throw new Y(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Uf(t){if(J.isDocumentKey(t))throw new Y(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hu(t);throw new Y(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class Ca{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tC;switch(n.type){case"firstParty":return new rC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Vf.get(e);n&&(W("ComponentProvider","Removing Datastore"),Vf.delete(e),n.terminate())}(this),Promise.resolve()}}function BI(t,e,n,s={}){var i;const r=(t=jn(t,Ca))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==e&&ti("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=gt.MOCK_USER;else{o=ME(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=s.mockUserToken.sub||s.mockUserToken.user_id;if(!u)throw new Y(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new gt(u)}t._authCredentials=new nC(new Pm(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ta(this.firestore,e,this._query)}}class Un extends Ta{constructor(e,n,s){super(e,n,Su(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new J(e))}withConverter(e){return new Un(this.firestore,e,this._path)}}function Nn(t,e,...n){if(t=tn(t),kw("collection","path",e),t instanceof Ca){const s=Me.fromString(e,...n);return Uf(s),new Un(t,null,s)}{if(!(t instanceof Bt||t instanceof Un))throw new Y(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Me.fromString(e,...n));return Uf(s),new Un(t.firestore,null,s)}}function Ri(t,e,...n){if(t=tn(t),arguments.length===1&&(e=Rm.A()),kw("doc","path",e),t instanceof Ca){const s=Me.fromString(e,...n);return jf(s),new Bt(t,null,new J(s))}{if(!(t instanceof Bt||t instanceof Un))throw new Y(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Me.fromString(e,...n));return jf(s),new Bt(t.firestore,t instanceof Un?t.converter:null,new J(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dw(this,"async_queue_retry"),this.Xc=()=>{const n=dl();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=dl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=dl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new gs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Cr(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw xn("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Fu.createAndSchedule(this,e,n,s,r=>this.na(r));return this.zc.push(i),i}Zc(){this.Wc&&te()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function qf(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ai extends Ca{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new FI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pw(this),this._firestoreClient.terminate()}}function VI(t,e){const n=typeof t=="object"?t:Cg(),s=typeof t=="string"?t:e||"(default)",i=fr(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=OE("firestore");r&&BI(i,...r)}return i}function Dw(t){return t._firestoreClient||Pw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Pw(t){var e,n,s;const i=t._freezeSettings(),r=function(o,a,u,c){return new wC(o,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Aw(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OI(t._authCredentials,t._appCheckCredentials,t._queue,r),((n=i.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=i.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(Tt.fromBase64String(e))}catch(n){throw new Y(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new li(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=/^__.*__$/;class UI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tr(e,this.data,n,this.fieldTransforms)}}class Rw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ow(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Ku{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ku(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.fa(e),i}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lo(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ow(this.ca)&&jI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class HI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ea(e)}ya(e,n,s,i=!1){return new Ku({ca:e,methodName:n,ga:s,path:Et.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nw(t){const e=t._freezeSettings(),n=Ea(t._databaseId);return new HI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qI(t,e,n,s,i,r={}){const o=t.ya(r.merge||r.mergeFields?2:0,e,n,i);Wu("Data must be an object, but it was:",o,s);const a=Mw(s,o);let u,c;if(r.merge)u=new $t(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const d=[];for(const p of r.mergeFields){const g=yc(e,p,n);if(!o.contains(g))throw new Y(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$w(d,g)||d.push(g)}u=new $t(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new UI(new Nt(a),u,c)}class Sa extends qu{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sa}}function zI(t,e,n,s){const i=t.ya(1,e,n);Wu("Data must be an object, but it was:",i,s);const r=[],o=Nt.empty();Ts(s,(u,c)=>{const d=Gu(e,u,n);c=tn(c);const p=i.da(d);if(c instanceof Sa)r.push(d);else{const g=Aa(c,p);g!=null&&(r.push(d),o.set(d,g))}});const a=new $t(r);return new Rw(o,a,i.fieldTransforms)}function KI(t,e,n,s,i,r){const o=t.ya(1,e,n),a=[yc(e,s,n)],u=[i];if(r.length%2!=0)throw new Y(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<r.length;g+=2)a.push(yc(e,r[g])),u.push(r[g+1]);const c=[],d=Nt.empty();for(let g=a.length-1;g>=0;--g)if(!$w(c,a[g])){const b=a[g];let x=u[g];x=tn(x);const T=o.da(b);if(x instanceof Sa)c.push(b);else{const N=Aa(x,T);N!=null&&(c.push(b),d.set(b,N))}}const p=new $t(c);return new Rw(d,p,o.fieldTransforms)}function Aa(t,e){if(Lw(t=tn(t)))return Wu("Unsupported field value:",e,t),Mw(t,e);if(t instanceof qu)return function(n,s){if(!Ow(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const i=[];let r=0;for(const o of n){let a=Aa(o,s.wa(r));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),r++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=tn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return VC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=nt.fromDate(n);return{timestampValue:No(s.serializer,i)}}if(n instanceof nt){const i=new nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:No(s.serializer,i)}}if(n instanceof zu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof li)return{bytesValue:iw(s.serializer,n._byteString)};if(n instanceof Bt){const i=s.databaseId,r=n.firestore._databaseId;if(!r.isEqual(i))throw s._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ru(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Hu(n)}`)}(t,e)}function Mw(t,e){const n={};return Om(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(s,i)=>{const r=Aa(i,e.ha(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function Lw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof zu||t instanceof li||t instanceof Bt||t instanceof qu)}function Wu(t,e,n){if(!Lw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Hu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function yc(t,e,n){if((e=tn(e))instanceof Ia)return e._internalPath;if(typeof e=="string")return Gu(t,e);throw Lo("Field path arguments must be of type string or ",t,!1,void 0,n)}const WI=new RegExp("[~\\*/\\[\\]]");function Gu(t,e,n){if(e.search(WI)>=0)throw Lo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ia(...e.split("."))._internalPath}catch{throw Lo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lo(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(r||o)&&(u+=" (found",r&&(u+=` in field ${s}`),o&&(u+=` in document ${i}`),u+=")"),new Y(M.INVALID_ARGUMENT,a+t+u)}function $w(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GI extends Bw{data(){return super.data()}}function Fw(t,e){return typeof e=="string"?Gu(t,e):e instanceof Ia?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YI{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(e){return new zu(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_u(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(or(e));default:return null}}convertTimestamp(e){const n=Wn(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Me.fromString(e);Oe(cw(s));const i=new ar(s.get(1),s.get(3)),r=new J(s.popFirst(5));return i.isEqual(n)||xn(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vw extends Bw{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class lo extends Vw{data(e={}){return super.data(e)}}class JI{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oi(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lo(this._firestore,this._userDataWriter,s.key,s,new Oi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let r=0;return s._snapshot.docChanges.map(o=>{const a=new lo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Oi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new lo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Oi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return o.type!==0&&(u=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:ZI(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class jw extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function zf(t,e,n,...s){t=jn(t,Bt);const i=jn(t.firestore,ai),r=Nw(i);let o;return o=typeof(e=tn(e))=="string"||e instanceof Ia?KI(r,"updateDoc",t._key,e,n,s):zI(r,"updateDoc",t._key,e),Qu(i,[o.toMutation(t._key,Zt.exists(!0))])}function Kf(t){return Qu(jn(t.firestore,ai),[new Au(t._key,Zt.none())])}function vc(t,e){const n=jn(t.firestore,ai),s=Ri(t),i=XI(t.converter,e);return Qu(n,[qI(Nw(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Zt.exists(!1))]).then(()=>s)}function bc(t,...e){var n,s,i;t=tn(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||qf(e[o])||(r=e[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(qf(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(s=p.error)===null||s===void 0?void 0:s.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,c,d;if(t instanceof Bt)c=jn(t.firestore,ai),d=Su(t._key.path),u={next:p=>{e[o]&&e[o](eS(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=jn(t,Ta);c=jn(p.firestore,ai),d=p._query;const g=new jw(c);u={next:b=>{e[o]&&e[o](new JI(c,g,p,b))},error:e[o+1],complete:e[o+2]},QI(t._query)}return function(p,g,b,x){const T=new RI(x),N=new pI(g,T,b);return p.asyncQueue.enqueueAndForget(async()=>uI(await Ff(p),N)),()=>{T.Dc(),p.asyncQueue.enqueueAndForget(async()=>hI(await Ff(p),N))}}(Dw(c),d,a,u)}function Qu(t,e){return function(n,s){const i=new gs;return n.asyncQueue.enqueueAndForget(async()=>xI(await LI(n),s,i)),i.promise}(Dw(t),e)}function eS(t,e,n){const s=n.docs.get(e._key),i=new jw(t);return new Vw(t,i,e._key,s,new Oi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){gi=n})(jx),zn(new bn("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new ai(new sC(n.getProvider("auth-internal")),new aC(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ar(a.options.projectId,u)}(r,s),r);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),un(cf,"3.12.0",t),un(cf,"3.12.0","esm2017")})();var tS="firebase",nS="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(tS,nS,"app");const sS=(t,e)=>e.some(n=>t instanceof n);let Wf,Gf;function iS(){return Wf||(Wf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rS(){return Gf||(Gf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uw=new WeakMap,Ec=new WeakMap,Hw=new WeakMap,pl=new WeakMap,Yu=new WeakMap;function oS(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Hn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Uw.set(n,t)}).catch(()=>{}),Yu.set(e,t),e}function aS(t){if(Ec.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ec.set(t,e)}let xc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ec.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lS(t){xc=t(xc)}function cS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(gl(this),e,...n);return Hw.set(s,e.sort?e.sort():[e]),Hn(s)}:rS().includes(t)?function(...e){return t.apply(gl(this),e),Hn(Uw.get(this))}:function(...e){return Hn(t.apply(gl(this),e))}}function uS(t){return typeof t=="function"?cS(t):(t instanceof IDBTransaction&&aS(t),sS(t,iS())?new Proxy(t,xc):t)}function Hn(t){if(t instanceof IDBRequest)return oS(t);if(pl.has(t))return pl.get(t);const e=uS(t);return e!==t&&(pl.set(t,e),Yu.set(e,t)),e}const gl=t=>Yu.get(t);function hS(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=Hn(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Hn(o.result),u.oldVersion,u.newVersion,Hn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{r&&u.addEventListener("close",()=>r()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const dS=["get","getKey","getAll","getAllKeys","count"],fS=["put","add","delete","clear"],ml=new Map;function Qf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ml.get(e))return ml.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=fS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||dS.includes(n)))return;const r=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ml.set(e,r),r}lS(t=>({...t,get:(e,n,s)=>Qf(e,n)||t.get(e,n,s),has:(e,n)=>!!Qf(e,n)||t.has(e,n)}));const qw="@firebase/installations",Xu="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e4,Kw=`w:${Xu}`,Ww="FIS_v2",pS="https://firebaseinstallations.googleapis.com/v1",gS=60*60*1e3,mS="installations",wS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},xs=new Jo(mS,wS,yS);function Gw(t){return t instanceof Qn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw({projectId:t}){return`${pS}/projects/${t}/installations`}function Yw(t){return{token:t.token,requestStatus:2,expiresIn:bS(t.expiresIn),creationTime:Date.now()}}async function Xw(t,e){const s=(await e.json()).error;return xs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Jw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vS(t,{refreshToken:e}){const n=Jw(t);return n.append("Authorization",ES(e)),n}async function Zw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bS(t){return Number(t.replace("s","000"))}function ES(t){return`${Ww} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Qw(t),i=Jw(t),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Ww,appId:t.appId,sdkVersion:Kw},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Zw(()=>fetch(s,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Yw(c.authToken)}}else throw await Xw("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=/^[cdef][\w-]{21}$/,_c="";function TS(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=IS(t);return CS.test(n)?n:_c}catch{return _c}}function IS(t){return _S(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;function ny(t,e){const n=ka(t);sy(n,e),SS(n,e)}function sy(t,e){const n=ty.get(t);if(!!n)for(const s of n)s(e)}function SS(t,e){const n=AS();n&&n.postMessage({key:t,fid:e}),kS()}let us=null;function AS(){return!us&&"BroadcastChannel"in self&&(us=new BroadcastChannel("[Firebase] FID Change"),us.onmessage=t=>{sy(t.data.key,t.data.fid)}),us}function kS(){ty.size===0&&us&&(us.close(),us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebase-installations-database",PS=1,_s="firebase-installations-store";let wl=null;function Ju(){return wl||(wl=hS(DS,PS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}})),wl}async function $o(t,e){const n=ka(t),i=(await Ju()).transaction(_s,"readwrite"),r=i.objectStore(_s),o=await r.get(n);return await r.put(e,n),await i.done,(!o||o.fid!==e.fid)&&ny(t,e.fid),e}async function iy(t){const e=ka(t),s=(await Ju()).transaction(_s,"readwrite");await s.objectStore(_s).delete(e),await s.done}async function Da(t,e){const n=ka(t),i=(await Ju()).transaction(_s,"readwrite"),r=i.objectStore(_s),o=await r.get(n),a=e(o);return a===void 0?await r.delete(n):await r.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&ny(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){let e;const n=await Da(t.appConfig,s=>{const i=RS(s),r=OS(t,i);return e=r.registrationPromise,r.installationEntry});return n.fid===_c?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RS(t){const e=t||{fid:TS(),registrationStatus:0};return ry(e)}function OS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=NS(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MS(t)}:{installationEntry:e}}async function NS(t,e){try{const n=await xS(t,e);return $o(t.appConfig,n)}catch(n){throw Gw(n)&&n.customData.serverCode===409?await iy(t.appConfig):await $o(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MS(t){let e=await Yf(t.appConfig);for(;e.registrationStatus===1;)await ey(100),e=await Yf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Zu(t);return s||n}return e}function Yf(t){return Da(t,e=>{if(!e)throw xs.create("installation-not-found");return ry(e)})}function ry(t){return LS(t)?{fid:t.fid,registrationStatus:0}:t}function LS(t){return t.registrationStatus===1&&t.registrationTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S({appConfig:t,heartbeatServiceProvider:e},n){const s=BS(t,n),i=vS(t,n),r=e.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Kw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Zw(()=>fetch(s,a));if(u.ok){const c=await u.json();return Yw(c)}else throw await Xw("Generate Auth Token",u)}function BS(t,{fid:e}){return`${Qw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e=!1){let n;const s=await Da(t.appConfig,r=>{if(!oy(r))throw xs.create("not-registered");const o=r.authToken;if(!e&&jS(o))return r;if(o.requestStatus===1)return n=FS(t,e),r;{if(!navigator.onLine)throw xs.create("app-offline");const a=HS(r);return n=VS(t,a),a}});return n?await n:s.authToken}async function FS(t,e){let n=await Xf(t.appConfig);for(;n.authToken.requestStatus===1;)await ey(100),n=await Xf(t.appConfig);const s=n.authToken;return s.requestStatus===0?eh(t,e):s}function Xf(t){return Da(t,e=>{if(!oy(e))throw xs.create("not-registered");const n=e.authToken;return qS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function VS(t,e){try{const n=await $S(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await $o(t.appConfig,s),n}catch(n){if(Gw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iy(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $o(t.appConfig,s)}throw n}}function oy(t){return t!==void 0&&t.registrationStatus===2}function jS(t){return t.requestStatus===2&&!US(t)}function US(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gS}function HS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qS(t){return t.requestStatus===1&&t.requestTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t){const e=t,{installationEntry:n,registrationPromise:s}=await Zu(e);return s?s.catch(console.error):eh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(t,e=!1){const n=t;return await WS(n),(await eh(n,e)).token}async function WS(t){const{registrationPromise:e}=await Zu(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){if(!t||!t.options)throw yl("App Configuration");if(!t.name)throw yl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yl(t){return xs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="installations",QS="installations-internal",YS=t=>{const e=t.getProvider("app").getImmediate(),n=GS(e),s=fr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},XS=t=>{const e=t.getProvider("app").getImmediate(),n=fr(e,ay).getImmediate();return{getId:()=>zS(n),getToken:i=>KS(n,i)}};function JS(){zn(new bn(ay,YS,"PUBLIC")),zn(new bn(QS,XS,"PRIVATE"))}JS();un(qw,Xu);un(qw,Xu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="analytics",ZS="firebase_id",eA="origin",tA=60*1e3,nA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",th="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=new Yc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ft=new Jo("analytics","Analytics",sA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){if(!t.startsWith(th)){const e=Ft.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function ly(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rA(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oA(t,e){const n=rA("firebase-js-sdk-policy",{createScriptURL:iA}),s=document.createElement("script"),i=`${th}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(i):i,s.async=!0,document.head.appendChild(s)}function aA(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lA(t,e,n,s,i,r){const o=s[i];try{if(o)await e[o];else{const u=(await ly(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(a){Mt.error(a)}t("config",i,r)}async function cA(t,e,n,s,i){try{let r=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await ly(n);for(const u of o){const c=a.find(p=>p.measurementId===u),d=c&&e[c.appId];if(d)r.push(d);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),t("event",s,i||{})}catch(r){Mt.error(r)}}function uA(t,e,n,s){async function i(r,...o){try{if(r==="event"){const[a,u]=o;await cA(t,e,n,a,u)}else if(r==="config"){const[a,u]=o;await lA(t,e,n,s,a,u)}else if(r==="consent"){const[a]=o;t("consent","update",a)}else if(r==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(r==="set"){const[a]=o;t("set",a)}else t(r,...o)}catch(a){Mt.error(a)}}return i}function hA(t,e,n,s,i){let r=function(...o){window[s].push(arguments)};return window[i]&&typeof window[i]=="function"&&(r=window[i]),window[i]=uA(r,t,e,n),{gtagCore:r,wrappedGtag:window[i]}}function dA(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(th)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=30,pA=1e3;class gA{constructor(e={},n=pA){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cy=new gA;function mA(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function wA(t){var e;const{appId:n,apiKey:s}=t,i={method:"GET",headers:mA(s)},r=nA.replace("{app-id}",n),o=await fetch(r,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Ft.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function yA(t,e=cy,n){const{appId:s,apiKey:i,measurementId:r}=t.options;if(!s)throw Ft.create("no-app-id");if(!i){if(r)return{measurementId:r,appId:s};throw Ft.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new EA;return setTimeout(async()=>{a.abort()},n!==void 0?n:tA),uy({appId:s,apiKey:i,measurementId:r},o,a,e)}async function uy(t,{throttleEndTimeMillis:e,backoffCount:n},s,i=cy){var r;const{appId:o,measurementId:a}=t;try{await vA(s,e)}catch(u){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await wA(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!bA(c)){if(i.deleteThrottleMetadata(o),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const d=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?Fd(n,i.intervalMillis,fA):Fd(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,p),Mt.debug(`Calling attemptFetch again in ${d} millis`),uy(t,p,s,i)}}function vA(t,e){return new Promise((n,s)=>{const i=Math.max(e-Date.now(),0),r=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(r),s(Ft.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bA(t){if(!(t instanceof Qn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class EA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xA(t,e,n,s,i){if(i&&i.global){t("event",n,s);return}else{const r=await e,o=Object.assign(Object.assign({},s),{send_to:r});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(){if(vg())try{await bg()}catch(t){return Mt.warn(Ft.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Mt.warn(Ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function CA(t,e,n,s,i,r,o){var a;const u=yA(t);u.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Mt.error(b)),e.push(u);const c=_A().then(b=>{if(b)return s.getId()}),[d,p]=await Promise.all([u,c]);dA(r)||oA(r,d.measurementId),i("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[eA]="firebase",g.update=!0,p!=null&&(g[ZS]=p),i("config",d.measurementId,g),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.app=e}_delete(){return delete qi[this.app.options.appId],Promise.resolve()}}let qi={},Jf=[];const Zf={};let vl="dataLayer",IA="gtag",ep,hy,tp=!1;function SA(){const t=[];if(LE()&&t.push("This is a browser extension environment."),$E()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,i)=>`(${i+1}) ${s}`).join(" "),n=Ft.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}function AA(t,e,n){SA();const s=t.options.appId;if(!s)throw Ft.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ft.create("no-api-key");if(qi[s]!=null)throw Ft.create("already-exists",{id:s});if(!tp){aA(vl);const{wrappedGtag:r,gtagCore:o}=hA(qi,Jf,Zf,vl,IA);hy=r,ep=o,tp=!0}return qi[s]=CA(t,Jf,Zf,e,ep,vl,n),new TA(t)}function kA(t=Cg()){t=tn(t);const e=fr(t,Bo);return e.isInitialized()?e.getImmediate():DA(t)}function DA(t,e={}){const n=fr(t,Bo);if(n.isInitialized()){const i=n.getImmediate();if(yo(e,n.getOptions()))return i;throw Ft.create("already-initialized")}return n.initialize({options:e})}function PA(t,e,n,s){t=tn(t),xA(hy,qi[t.app.options.appId],e,n,s).catch(i=>Mt.error(i))}const np="@firebase/analytics",sp="0.10.0";function RA(){zn(new bn(Bo,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AA(s,i,n)},"PUBLIC")),zn(new bn("analytics-internal",t,"PRIVATE")),un(np,sp),un(np,sp,"esm2017");function t(e){try{const n=e.getProvider(Bo).getImmediate();return{logEvent:(s,i,r)=>PA(n,s,i,r)}}catch(n){throw Ft.create("interop-component-reg-failed",{reason:n})}}}RA();const OA={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},dy=_g(OA);kA(dy);const Mn=VI(dy);let Xr;const NA=new Uint8Array(16);function MA(){if(!Xr&&(Xr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xr(NA)}const ut=[];for(let t=0;t<256;++t)ut.push((t+256).toString(16).slice(1));function LA(t,e=0){return(ut[t[e+0]]+ut[t[e+1]]+ut[t[e+2]]+ut[t[e+3]]+"-"+ut[t[e+4]]+ut[t[e+5]]+"-"+ut[t[e+6]]+ut[t[e+7]]+"-"+ut[t[e+8]]+ut[t[e+9]]+"-"+ut[t[e+10]]+ut[t[e+11]]+ut[t[e+12]]+ut[t[e+13]]+ut[t[e+14]]+ut[t[e+15]]).toLowerCase()}const $A=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ip={randomUUID:$A};function Fo(t,e,n){if(ip.randomUUID&&!e&&!t)return ip.randomUUID();t=t||{};const s=t.random||(t.rng||MA)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=s[i];return e}return LA(s)}var Dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fy={exports:{}};/*!
* sweetalert2 v11.7.12
* Released under the MIT License.
*/(function(t,e){(function(n,s){t.exports=s()})(Dn,function(){const s={},i=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},r=l=>new Promise(h=>{if(!l)return h();const f=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{i(),h()},100),window.scrollTo(f,w)});var o={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const a="swal2-",c=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=a+h,l),{}),p=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=a+h,l),{}),g="SweetAlert2:",b=l=>l.charAt(0).toUpperCase()+l.slice(1),x=l=>{console.warn(`${g} ${typeof l=="object"?l.join(" "):l}`)},T=l=>{console.error(`${g} ${l}`)},N=[],F=l=>{N.includes(l)||(N.push(l),x(l))},j=(l,h)=>{F(`"${l}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},G=l=>typeof l=="function"?l():l,V=l=>l&&typeof l.toPromise=="function",fe=l=>V(l)?l.toPromise():Promise.resolve(l),ge=l=>l&&Promise.resolve(l)===l,ae=()=>document.body.querySelector(`.${c.container}`),Te=l=>{const h=ae();return h?h.querySelector(l):null},me=l=>Te(`.${l}`),Q=()=>me(c.popup),ke=()=>me(c.icon),Ke=()=>me(c["icon-content"]),Ve=()=>me(c.title),Xe=()=>me(c["html-container"]),jt=()=>me(c.image),Ae=()=>me(c["progress-steps"]),we=()=>me(c["validation-message"]),ie=()=>Te(`.${c.actions} .${c.confirm}`),Je=()=>Te(`.${c.actions} .${c.cancel}`),Ze=()=>Te(`.${c.actions} .${c.deny}`),kt=()=>me(c["input-label"]),$e=()=>Te(`.${c.loader}`),Dt=()=>me(c.actions),qt=()=>me(c.footer),zt=()=>me(c["timer-progress-bar"]),je=()=>me(c.close),k=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,H=()=>{const l=Q().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),h=Array.from(l).sort((C,X)=>{const _e=parseInt(C.getAttribute("tabindex")),et=parseInt(X.getAttribute("tabindex"));return _e>et?1:_e<et?-1:0}),f=Q().querySelectorAll(k),w=Array.from(f).filter(C=>C.getAttribute("tabindex")!=="-1");return[...new Set(h.concat(w))].filter(C=>he(C))},D=()=>y(document.body,c.shown)&&!y(document.body,c["toast-shown"])&&!y(document.body,c["no-backdrop"]),S=()=>Q()&&y(Q(),c.toast),_=()=>Q().hasAttribute("data-loading"),m=(l,h)=>{if(l.textContent="",h){const w=new DOMParser().parseFromString(h,"text/html");Array.from(w.querySelector("head").childNodes).forEach(C=>{l.appendChild(C)}),Array.from(w.querySelector("body").childNodes).forEach(C=>{C instanceof HTMLVideoElement||C instanceof HTMLAudioElement?l.appendChild(C.cloneNode(!0)):l.appendChild(C)})}},y=(l,h)=>{if(!h)return!1;const f=h.split(/\s+/);for(let w=0;w<f.length;w++)if(!l.classList.contains(f[w]))return!1;return!0},E=(l,h)=>{Array.from(l.classList).forEach(f=>{!Object.values(c).includes(f)&&!Object.values(p).includes(f)&&!Object.values(h.showClass).includes(f)&&l.classList.remove(f)})},I=(l,h,f)=>{if(E(l,h),h.customClass&&h.customClass[f]){if(typeof h.customClass[f]!="string"&&!h.customClass[f].forEach){x(`Invalid type of customClass.${f}! Expected string or iterable object, got "${typeof h.customClass[f]}"`);return}A(l,h.customClass[f])}},P=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${c.popup} > .${c[h]}`);case"checkbox":return l.querySelector(`.${c.popup} > .${c.checkbox} input`);case"radio":return l.querySelector(`.${c.popup} > .${c.radio} input:checked`)||l.querySelector(`.${c.popup} > .${c.radio} input:first-child`);case"range":return l.querySelector(`.${c.popup} > .${c.range} input`);default:return l.querySelector(`.${c.popup} > .${c.input}`)}},O=l=>{if(l.focus(),l.type!=="file"){const h=l.value;l.value="",l.value=h}},U=(l,h,f)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(C=>{f?C.classList.add(w):C.classList.remove(w)}):f?l.classList.add(w):l.classList.remove(w)}))},A=(l,h)=>{U(l,h,!0)},$=(l,h)=>{U(l,h,!1)},R=(l,h)=>{const f=Array.from(l.children);for(let w=0;w<f.length;w++){const C=f[w];if(C instanceof HTMLElement&&y(C,h))return C}},K=(l,h,f)=>{f===`${parseInt(f)}`&&(f=parseInt(f)),f||parseInt(f)===0?l.style[h]=typeof f=="number"?`${f}px`:f:l.style.removeProperty(h)},B=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},z=l=>{l&&(l.style.display="none")},ee=(l,h,f,w)=>{const C=l.querySelector(h);C&&(C.style[f]=w)},ue=function(l,h){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?B(l,f):z(l)},he=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),xe=()=>!he(ie())&&!he(Ze())&&!he(Je()),Be=l=>l.scrollHeight>l.clientHeight,Pt=l=>{const h=window.getComputedStyle(l),f=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return f>0||w>0},sn=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const f=zt();he(f)&&(h&&(f.style.transition="none",f.style.width="100%"),setTimeout(()=>{f.style.transition=`width ${l/1e3}s linear`,f.style.width="0%"},10))},kr=()=>{const l=zt(),h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const f=parseInt(window.getComputedStyle(l).width),w=h/f*100;l.style.width=`${w}%`},In=()=>typeof window>"u"||typeof document>"u",Dr=`
 <div aria-labelledby="${c.title}" aria-describedby="${c["html-container"]}" class="${c.popup}" tabindex="-1">
   <button type="button" class="${c.close}"></button>
   <ul class="${c["progress-steps"]}"></ul>
   <div class="${c.icon}"></div>
   <img class="${c.image}" />
   <h2 class="${c.title}" id="${c.title}"></h2>
   <div class="${c["html-container"]}" id="${c["html-container"]}"></div>
   <input class="${c.input}" />
   <input type="file" class="${c.file}" />
   <div class="${c.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${c.select}"></select>
   <div class="${c.radio}"></div>
   <label for="${c.checkbox}" class="${c.checkbox}">
     <input type="checkbox" />
     <span class="${c.label}"></span>
   </label>
   <textarea class="${c.textarea}"></textarea>
   <div class="${c["validation-message"]}" id="${c["validation-message"]}"></div>
   <div class="${c.actions}">
     <div class="${c.loader}"></div>
     <button type="button" class="${c.confirm}"></button>
     <button type="button" class="${c.deny}"></button>
     <button type="button" class="${c.cancel}"></button>
   </div>
   <div class="${c.footer}"></div>
   <div class="${c["timer-progress-bar-container"]}">
     <div class="${c["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),It=()=>{const l=ae();return l?(l.remove(),$([document.documentElement,document.body],[c["no-backdrop"],c["toast-shown"],c["has-column"]]),!0):!1},it=()=>{s.currentInstance.resetValidationMessage()},Pr=()=>{const l=Q(),h=R(l,c.input),f=R(l,c.file),w=l.querySelector(`.${c.range} input`),C=l.querySelector(`.${c.range} output`),X=R(l,c.select),_e=l.querySelector(`.${c.checkbox} input`),et=R(l,c.textarea);h.oninput=it,f.onchange=it,X.onchange=it,_e.onchange=it,et.oninput=it,w.oninput=()=>{it(),C.value=w.value},w.onchange=()=>{it(),C.value=w.value}},py=l=>typeof l=="string"?document.querySelector(l):l,gy=l=>{const h=Q();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},my=l=>{window.getComputedStyle(l).direction==="rtl"&&A(ae(),c.rtl)},wy=l=>{const h=It();if(In()){T("SweetAlert2 requires document to initialize");return}const f=document.createElement("div");f.className=c.container,h&&A(f,c["no-transition"]),m(f,Dr);const w=py(l.target);w.appendChild(f),gy(l),my(w),Pr()},Pa=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?yy(l,h):l&&m(h,l)},yy=(l,h)=>{l.jquery?vy(h,l):m(h,l.toString())},vy=(l,h)=>{if(l.textContent="",0 in h)for(let f=0;f in h;f++)l.appendChild(h[f].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},yi=(()=>{if(In())return!1;const l=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const f in h)if(Object.prototype.hasOwnProperty.call(h,f)&&typeof l.style[f]<"u")return h[f];return!1})(),by=(l,h)=>{const f=Dt(),w=$e();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?z(f):B(f),I(f,h,"actions"),Ey(f,w,h),m(w,h.loaderHtml),I(w,h,"loader")};function Ey(l,h,f){const w=ie(),C=Ze(),X=Je();Ra(w,"confirm",f),Ra(C,"deny",f),Ra(X,"cancel",f),xy(w,C,X,f),f.reverseButtons&&(f.toast?(l.insertBefore(X,w),l.insertBefore(C,w)):(l.insertBefore(X,h),l.insertBefore(C,h),l.insertBefore(w,h)))}function xy(l,h,f,w){if(!w.buttonsStyling){$([l,h,f],c.styled);return}A([l,h,f],c.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,A(l,c["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,A(h,c["default-outline"])),w.cancelButtonColor&&(f.style.backgroundColor=w.cancelButtonColor,A(f,c["default-outline"]))}function Ra(l,h,f){ue(l,f[`show${b(h)}Button`],"inline-block"),m(l,f[`${h}ButtonText`]),l.setAttribute("aria-label",f[`${h}ButtonAriaLabel`]),l.className=c[h],I(l,f,`${h}Button`),A(l,f[`${h}ButtonClass`])}const _y=(l,h)=>{const f=je();!f||(m(f,h.closeButtonHtml||""),I(f,h,"closeButton"),ue(f,h.showCloseButton),f.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Cy=(l,h)=>{const f=ae();!f||(Ty(f,h.backdrop),Iy(f,h.position),Sy(f,h.grow),I(f,h,"container"))};function Ty(l,h){typeof h=="string"?l.style.background=h:h||A([document.documentElement,document.body],c["no-backdrop"])}function Iy(l,h){h in c?A(l,c[h]):(x('The "position" parameter is not valid, defaulting to "center"'),A(l,c.center))}function Sy(l,h){if(h&&typeof h=="string"){const f=`grow-${h}`;f in c&&A(l,c[f])}}const Ay=["input","file","range","select","radio","checkbox","textarea"],ky=(l,h)=>{const f=Q(),w=o.innerParams.get(l),C=!w||h.input!==w.input;Ay.forEach(X=>{const _e=R(f,c[X]);Ry(X,h.inputAttributes),_e.className=c[X],C&&z(_e)}),h.input&&(C&&Dy(h),Oy(h))},Dy=l=>{if(!Rt[l.input]){T(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${l.input}"`);return}const h=sh(l.input),f=Rt[l.input](h,l);B(h),l.inputAutoFocus&&setTimeout(()=>{O(f)})},Py=l=>{for(let h=0;h<l.attributes.length;h++){const f=l.attributes[h].name;["type","value","style"].includes(f)||l.removeAttribute(f)}},Ry=(l,h)=>{const f=P(Q(),l);if(!!f){Py(f);for(const w in h)f.setAttribute(w,h[w])}},Oy=l=>{const h=sh(l.input);typeof l.customClass=="object"&&A(h,l.customClass.input)},Oa=(l,h)=>{(!l.placeholder||h.inputPlaceholder)&&(l.placeholder=h.inputPlaceholder)},vi=(l,h,f)=>{if(f.inputLabel){l.id=c.input;const w=document.createElement("label"),C=c["input-label"];w.setAttribute("for",l.id),w.className=C,typeof f.customClass=="object"&&A(w,f.customClass.inputLabel),w.innerText=f.inputLabel,h.insertAdjacentElement("beforebegin",w)}},sh=l=>R(Q(),c[l]||c.input),Rr=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:ge(h)||x(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=(l,h)=>(Rr(l,h.inputValue),vi(l,l,h),Oa(l,h),l.type=h.input,l),Rt.file=(l,h)=>(vi(l,l,h),Oa(l,h),l),Rt.range=(l,h)=>{const f=l.querySelector("input"),w=l.querySelector("output");return Rr(f,h.inputValue),f.type=h.input,Rr(w,h.inputValue),vi(f,l,h),l},Rt.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){const f=document.createElement("option");m(f,h.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,l.appendChild(f)}return vi(l,l,h),l},Rt.radio=l=>(l.textContent="",l),Rt.checkbox=(l,h)=>{const f=P(Q(),"checkbox");f.value="1",f.id=c.checkbox,f.checked=Boolean(h.inputValue);const w=l.querySelector("span");return m(w,h.inputPlaceholder),f},Rt.textarea=(l,h)=>{Rr(l,h.inputValue),Oa(l,h),vi(l,l,h);const f=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const w=parseInt(window.getComputedStyle(Q()).width),C=()=>{const X=l.offsetWidth+f(l);X>w?Q().style.width=`${X}px`:Q().style.width=null};new MutationObserver(C).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const Ny=(l,h)=>{const f=Xe();!f||(I(f,h,"htmlContainer"),h.html?(Pa(h.html,f),B(f,"block")):h.text?(f.textContent=h.text,B(f,"block")):z(f),ky(l,h))},My=(l,h)=>{const f=qt();!f||(ue(f,h.footer),h.footer&&Pa(h.footer,f),I(f,h,"footer"))},Ly=(l,h)=>{const f=o.innerParams.get(l),w=ke();if(f&&h.icon===f.icon){rh(w,h),ih(w,h);return}if(!h.icon&&!h.iconHtml){z(w);return}if(h.icon&&Object.keys(p).indexOf(h.icon)===-1){T(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),z(w);return}B(w),rh(w,h),ih(w,h),A(w,h.showClass.icon)},ih=(l,h)=>{for(const f in p)h.icon!==f&&$(l,p[f]);A(l,p[h.icon]),Vy(l,h),$y(),I(l,h,"icon")},$y=()=>{const l=Q(),h=window.getComputedStyle(l).getPropertyValue("background-color"),f=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<f.length;w++)f[w].style.backgroundColor=h},By=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Fy=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,rh=(l,h)=>{let f=l.innerHTML,w;h.iconHtml?w=oh(h.iconHtml):h.icon==="success"?(w=By,f=f.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Fy:w=oh({question:"?",warning:"!",info:"i"}[h.icon]),f.trim()!==w.trim()&&m(l,w)},Vy=(l,h)=>{if(!!h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(const f of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ee(l,f,"backgroundColor",h.iconColor);ee(l,".swal2-success-ring","borderColor",h.iconColor)}},oh=l=>`<div class="${c["icon-content"]}">${l}</div>`,jy=(l,h)=>{const f=jt();if(!!f){if(!h.imageUrl){z(f);return}B(f,""),f.setAttribute("src",h.imageUrl),f.setAttribute("alt",h.imageAlt||""),K(f,"width",h.imageWidth),K(f,"height",h.imageHeight),f.className=c.image,I(f,h,"image")}},Uy=(l,h)=>{const f=ae(),w=Q();if(!(!f||!w)){if(h.toast){K(f,"width",h.width),w.style.width="100%";const C=$e();C&&w.insertBefore(C,ke())}else K(w,"width",h.width);K(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),z(we()),Hy(w,h)}},Hy=(l,h)=>{const f=h.showClass||{};l.className=`${c.popup} ${he(l)?f.popup:""}`,h.toast?(A([document.documentElement,document.body],c["toast-shown"]),A(l,c.toast)):A(l,c.modal),I(l,h,"popup"),typeof h.customClass=="string"&&A(l,h.customClass),h.icon&&A(l,c[`icon-${h.icon}`])},qy=(l,h)=>{const f=Ae();if(!f)return;const{progressSteps:w,currentProgressStep:C}=h;if(!w||w.length===0||C===void 0){z(f);return}B(f),f.textContent="",C>=w.length&&x("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((X,_e)=>{const et=zy(X);if(f.appendChild(et),_e===C&&A(et,c["active-progress-step"]),_e!==w.length-1){const ct=Ky(h);f.appendChild(ct)}})},zy=l=>{const h=document.createElement("li");return A(h,c["progress-step"]),m(h,l),h},Ky=l=>{const h=document.createElement("li");return A(h,c["progress-step-line"]),l.progressStepsDistance&&K(h,"width",l.progressStepsDistance),h},Wy=(l,h)=>{const f=Ve();!f||(ue(f,h.title||h.titleText,"block"),h.title&&Pa(h.title,f),h.titleText&&(f.innerText=h.titleText),I(f,h,"title"))},ah=(l,h)=>{Uy(l,h),Cy(l,h),qy(l,h),Ly(l,h),jy(l,h),Wy(l,h),_y(l,h),Ny(l,h),by(l,h),My(l,h);const f=Q();typeof h.didRender=="function"&&f&&h.didRender(f)},Gy=()=>he(Q()),lh=()=>ie()&&ie().click(),Qy=()=>Ze()&&Ze().click(),Yy=()=>Je()&&Je().click(),Ss=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ch=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Xy=(l,h,f,w)=>{ch(h),f.toast||(h.keydownHandler=C=>Zy(l,C,w),h.keydownTarget=f.keydownListenerCapture?window:Q(),h.keydownListenerCapture=f.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Na=(l,h)=>{const f=H();if(f.length){l=l+h,l===f.length?l=0:l===-1&&(l=f.length-1),f[l].focus();return}Q().focus()},uh=["ArrowRight","ArrowDown"],Jy=["ArrowLeft","ArrowUp"],Zy=(l,h,f)=>{const w=o.innerParams.get(l);!w||h.isComposing||h.keyCode===229||(w.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?e0(l,h,w):h.key==="Tab"?t0(h):[...uh,...Jy].includes(h.key)?n0(h.key):h.key==="Escape"&&s0(h,w,f))},e0=(l,h,f)=>{if(!!G(f.allowEnterKey)&&h.target&&l.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===l.getInput().outerHTML){if(["textarea","file"].includes(f.input))return;lh(),h.preventDefault()}},t0=l=>{const h=l.target,f=H();let w=-1;for(let C=0;C<f.length;C++)if(h===f[C]){w=C;break}l.shiftKey?Na(w,-1):Na(w,1),l.stopPropagation(),l.preventDefault()},n0=l=>{const h=ie(),f=Ze(),w=Je(),C=[h,f,w];if(document.activeElement instanceof HTMLElement&&!C.includes(document.activeElement))return;const X=uh.includes(l)?"nextElementSibling":"previousElementSibling";let _e=document.activeElement;for(let et=0;et<Dt().children.length;et++){if(_e=_e[X],!_e)return;if(_e instanceof HTMLButtonElement&&he(_e))break}_e instanceof HTMLButtonElement&&_e.focus()},s0=(l,h,f)=>{G(h.allowEscapeKey)&&(l.preventDefault(),f(Ss.esc))};var bi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const i0=()=>{Array.from(document.body.children).forEach(h=>{h===ae()||h.contains(ae())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")||""),h.setAttribute("aria-hidden","true"))})},hh=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},r0=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!y(document.body,c.iosfix)){const h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,A(document.body,c.iosfix),a0(),o0()}},o0=()=>{const l=navigator.userAgent,h=!!l.match(/iPad/i)||!!l.match(/iPhone/i),f=!!l.match(/WebKit/i);h&&f&&!l.match(/CriOS/i)&&Q().scrollHeight>window.innerHeight-44&&(ae().style.paddingBottom=`${44}px`)},a0=()=>{const l=ae();let h;l.ontouchstart=f=>{h=l0(f)},l.ontouchmove=f=>{h&&(f.preventDefault(),f.stopPropagation())}},l0=l=>{const h=l.target,f=ae();return c0(l)||u0(l)?!1:h===f||!Be(f)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Be(Xe())&&Xe().contains(h))},c0=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",u0=l=>l.touches&&l.touches.length>1,h0=()=>{if(y(document.body,c.iosfix)){const l=parseInt(document.body.style.top,10);$(document.body,c.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},d0=()=>{const l=document.createElement("div");l.className=c["scrollbar-measure"],document.body.appendChild(l);const h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h};let As=null;const f0=()=>{As===null&&document.body.scrollHeight>window.innerHeight&&(As=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${As+d0()}px`)},p0=()=>{As!==null&&(document.body.style.paddingRight=`${As}px`,As=null)};function dh(l,h,f,w){S()?ph(l,w):(r(f).then(()=>ph(l,w)),ch(s)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),D()&&(p0(),h0(),hh()),g0()}function g0(){$([document.documentElement,document.body],[c.shown,c["height-auto"],c["no-backdrop"],c["toast-shown"]])}function Sn(l){l=w0(l);const h=bi.swalPromiseResolve.get(this),f=m0(this);this.isAwaitingPromise?l.isDismissed||(Ei(this),h(l)):f&&h(l)}const m0=l=>{const h=Q();if(!h)return!1;const f=o.innerParams.get(l);if(!f||y(h,f.hideClass.popup))return!1;$(h,f.showClass.popup),A(h,f.hideClass.popup);const w=ae();return $(w,f.showClass.backdrop),A(w,f.hideClass.backdrop),y0(l,h,f),!0};function fh(l){const h=bi.swalPromiseReject.get(this);Ei(this),h&&h(l)}const Ei=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,o.innerParams.get(l)||l._destroy())},w0=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),y0=(l,h,f)=>{const w=ae(),C=yi&&Pt(h);typeof f.willClose=="function"&&f.willClose(h),C?v0(l,h,w,f.returnFocus,f.didClose):dh(l,w,f.returnFocus,f.didClose)},v0=(l,h,f,w,C)=>{s.swalCloseEventFinishedCallback=dh.bind(null,l,f,w,C),h.addEventListener(yi,function(X){X.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback)})},ph=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),l._destroy&&l._destroy()})},ks=l=>{let h=Q();h||new Mr,h=Q();const f=$e();S()?z(ke()):b0(h,l),B(f),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},b0=(l,h)=>{const f=Dt(),w=$e();!h&&he(ie())&&(h=ie()),B(f),h&&(z(h),w.setAttribute("data-button-to-replace",h.className)),w.parentNode.insertBefore(w,h),A([l,f],c.loading)},E0=(l,h)=>{h.input==="select"||h.input==="radio"?I0(l,h):["text","email","number","tel","textarea"].includes(h.input)&&(V(h.inputValue)||ge(h.inputValue))&&(ks(ie()),S0(l,h))},x0=(l,h)=>{const f=l.getInput();if(!f)return null;switch(h.input){case"checkbox":return _0(f);case"radio":return C0(f);case"file":return T0(f);default:return h.inputAutoTrim?f.value.trim():f.value}},_0=l=>l.checked?1:0,C0=l=>l.checked?l.value:null,T0=l=>l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,I0=(l,h)=>{const f=Q(),w=C=>{A0[h.input](f,Ma(C),h)};V(h.inputOptions)||ge(h.inputOptions)?(ks(ie()),fe(h.inputOptions).then(C=>{l.hideLoading(),w(C)})):typeof h.inputOptions=="object"?w(h.inputOptions):T(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},S0=(l,h)=>{const f=l.getInput();z(f),fe(h.inputValue).then(w=>{f.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,B(f),f.focus(),l.hideLoading()}).catch(w=>{T(`Error in inputValue promise: ${w}`),f.value="",B(f),f.focus(),l.hideLoading()})},A0={select:(l,h,f)=>{const w=R(l,c.select),C=(X,_e,et)=>{const ct=document.createElement("option");ct.value=et,m(ct,_e),ct.selected=gh(et,f.inputValue),X.appendChild(ct)};h.forEach(X=>{const _e=X[0],et=X[1];if(Array.isArray(et)){const ct=document.createElement("optgroup");ct.label=_e,ct.disabled=!1,w.appendChild(ct),et.forEach(Ps=>C(ct,Ps[1],Ps[0]))}else C(w,et,_e)}),w.focus()},radio:(l,h,f)=>{const w=R(l,c.radio);h.forEach(X=>{const _e=X[0],et=X[1],ct=document.createElement("input"),Ps=document.createElement("label");ct.type="radio",ct.name=c.radio,ct.value=_e,gh(_e,f.inputValue)&&(ct.checked=!0);const Va=document.createElement("span");m(Va,et),Va.className=c.label,Ps.appendChild(ct),Ps.appendChild(Va),w.appendChild(Ps)});const C=w.querySelectorAll("input");C.length&&C[0].focus()}},Ma=l=>{const h=[];return typeof Map<"u"&&l instanceof Map?l.forEach((f,w)=>{let C=f;typeof C=="object"&&(C=Ma(C)),h.push([w,C])}):Object.keys(l).forEach(f=>{let w=l[f];typeof w=="object"&&(w=Ma(w)),h.push([f,w])}),h},gh=(l,h)=>h&&h.toString()===l.toString(),k0=l=>{const h=o.innerParams.get(l);l.disableButtons(),h.input?mh(l,"confirm"):$a(l,!0)},D0=l=>{const h=o.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?mh(l,"deny"):La(l,!1)},P0=(l,h)=>{l.disableButtons(),h(Ss.cancel)},mh=(l,h)=>{const f=o.innerParams.get(l);if(!f.input){T(`The "input" parameter is needed to be set when using returnInputValueOn${b(h)}`);return}const w=x0(l,f);f.inputValidator?R0(l,w,h):l.getInput().checkValidity()?h==="deny"?La(l,w):$a(l,w):(l.enableButtons(),l.showValidationMessage(f.validationMessage))},R0=(l,h,f)=>{const w=o.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>fe(w.inputValidator(h,w.validationMessage))).then(X=>{l.enableButtons(),l.enableInput(),X?l.showValidationMessage(X):f==="deny"?La(l,h):$a(l,h)})},La=(l,h)=>{const f=o.innerParams.get(l||void 0);f.showLoaderOnDeny&&ks(Ze()),f.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>fe(f.preDeny(h,f.validationMessage))).then(C=>{C===!1?(l.hideLoading(),Ei(l)):l.close({isDenied:!0,value:typeof C>"u"?h:C})}).catch(C=>yh(l||void 0,C))):l.close({isDenied:!0,value:h})},wh=(l,h)=>{l.close({isConfirmed:!0,value:h})},yh=(l,h)=>{l.rejectPromise(h)},$a=(l,h)=>{const f=o.innerParams.get(l||void 0);f.showLoaderOnConfirm&&ks(),f.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>fe(f.preConfirm(h,f.validationMessage))).then(C=>{he(we())||C===!1?(l.hideLoading(),Ei(l)):wh(l,typeof C>"u"?h:C)}).catch(C=>yh(l||void 0,C))):wh(l,h)};function Or(){const l=o.innerParams.get(this);if(!l)return;const h=o.domCache.get(this);z(h.loader),S()?l.icon&&B(ke()):O0(h),$([h.popup,h.actions],c.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}const O0=l=>{const h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?B(h[0],"inline-block"):xe()&&z(l.actions)};function vh(){const l=o.innerParams.get(this),h=o.domCache.get(this);return h?P(h.popup,l.input):null}function bh(l,h,f){const w=o.domCache.get(l);h.forEach(C=>{w[C].disabled=f})}function Eh(l,h){if(!!l)if(l.type==="radio"){const w=l.parentNode.parentNode.querySelectorAll("input");for(let C=0;C<w.length;C++)w[C].disabled=h}else l.disabled=h}function xh(){bh(this,["confirmButton","denyButton","cancelButton"],!1)}function _h(){bh(this,["confirmButton","denyButton","cancelButton"],!0)}function Ch(){Eh(this.getInput(),!1)}function Th(){Eh(this.getInput(),!0)}function Ih(l){const h=o.domCache.get(this),f=o.innerParams.get(this);m(h.validationMessage,l),h.validationMessage.className=c["validation-message"],f.customClass&&f.customClass.validationMessage&&A(h.validationMessage,f.customClass.validationMessage),B(h.validationMessage);const w=this.getInput();w&&(w.setAttribute("aria-invalid",!0),w.setAttribute("aria-describedby",c["validation-message"]),O(w),A(w,c.inputerror))}function Sh(){const l=o.domCache.get(this);l.validationMessage&&z(l.validationMessage);const h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),$(h,c.inputerror))}const Ds={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},N0=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],M0={},L0=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ah=l=>Object.prototype.hasOwnProperty.call(Ds,l),kh=l=>N0.indexOf(l)!==-1,Dh=l=>M0[l],$0=l=>{Ah(l)||x(`Unknown parameter "${l}"`)},B0=l=>{L0.includes(l)&&x(`The parameter "${l}" is incompatible with toasts`)},F0=l=>{const h=Dh(l);h&&j(l,h)},V0=l=>{l.backdrop===!1&&l.allowOutsideClick&&x('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const h in l)$0(h),l.toast&&B0(h),F0(h)};function Ph(l){const h=Q(),f=o.innerParams.get(this);if(!h||y(h,f.hideClass.popup)){x("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const w=j0(l),C=Object.assign({},f,w);ah(this,C),o.innerParams.set(this,C),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const j0=l=>{const h={};return Object.keys(l).forEach(f=>{kh(f)?h[f]=l[f]:x(`Invalid parameter to update: ${f}`)}),h};function Rh(){const l=o.domCache.get(this),h=o.innerParams.get(this);if(!h){Oh(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),U0(this)}const U0=l=>{Oh(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},Oh=l=>{l.isAwaitingPromise?(Ba(o,l),l.isAwaitingPromise=!0):(Ba(bi,l),Ba(o,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Ba=(l,h)=>{for(const f in l)l[f].delete(h)};var H0=Object.freeze({__proto__:null,_destroy:Rh,close:Sn,closeModal:Sn,closePopup:Sn,closeToast:Sn,disableButtons:_h,disableInput:Th,disableLoading:Or,enableButtons:xh,enableInput:Ch,getInput:vh,handleAwaitingPromise:Ei,hideLoading:Or,rejectPromise:fh,resetValidationMessage:Sh,showValidationMessage:Ih,update:Ph});const q0=(l,h,f)=>{o.innerParams.get(l).toast?z0(l,h,f):(W0(h),G0(h),Q0(l,h,f))},z0=(l,h,f)=>{h.popup.onclick=()=>{const w=o.innerParams.get(l);w&&(K0(w)||w.timer||w.input)||f(Ss.close)}},K0=l=>l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton;let Nr=!1;const W0=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=void 0,h.target===l.container&&(Nr=!0)}}},G0=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(h){l.popup.onmouseup=void 0,(h.target===l.popup||l.popup.contains(h.target))&&(Nr=!0)}}},Q0=(l,h,f)=>{h.container.onclick=w=>{const C=o.innerParams.get(l);if(Nr){Nr=!1;return}w.target===h.container&&G(C.allowOutsideClick)&&f(Ss.backdrop)}},Y0=l=>typeof l=="object"&&l.jquery,Nh=l=>l instanceof Element||Y0(l),X0=l=>{const h={};return typeof l[0]=="object"&&!Nh(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((f,w)=>{const C=l[w];typeof C=="string"||Nh(C)?h[f]=C:C!==void 0&&T(`Unexpected type of ${f}! Expected "string" or "Element", got ${typeof C}`)}),h};function J0(){const l=this;for(var h=arguments.length,f=new Array(h),w=0;w<h;w++)f[w]=arguments[w];return new l(...f)}function Z0(l){class h extends this{_main(w,C){return super._main(w,Object.assign({},l,C))}}return h}const ev=()=>s.timeout&&s.timeout.getTimerLeft(),Mh=()=>{if(s.timeout)return kr(),s.timeout.stop()},Lh=()=>{if(s.timeout){const l=s.timeout.start();return sn(l),l}},tv=()=>{const l=s.timeout;return l&&(l.running?Mh():Lh())},nv=l=>{if(s.timeout){const h=s.timeout.increase(l);return sn(h,!0),h}},sv=()=>!!(s.timeout&&s.timeout.isRunning());let $h=!1;const Fa={};function iv(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Fa[l]=this,$h||(document.body.addEventListener("click",rv),$h=!0)}const rv=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(const f in Fa){const w=h.getAttribute(f);if(w){Fa[f].fire({template:w});return}}};var ov=Object.freeze({__proto__:null,argsToParams:X0,bindClickHandler:iv,clickCancel:Yy,clickConfirm:lh,clickDeny:Qy,enableLoading:ks,fire:J0,getActions:Dt,getCancelButton:Je,getCloseButton:je,getConfirmButton:ie,getContainer:ae,getDenyButton:Ze,getFocusableElements:H,getFooter:qt,getHtmlContainer:Xe,getIcon:ke,getIconContent:Ke,getImage:jt,getInputLabel:kt,getLoader:$e,getPopup:Q,getProgressSteps:Ae,getTimerLeft:ev,getTimerProgressBar:zt,getTitle:Ve,getValidationMessage:we,increaseTimer:nv,isDeprecatedParameter:Dh,isLoading:_,isTimerRunning:sv,isUpdatableParameter:kh,isValidParameter:Ah,isVisible:Gy,mixin:Z0,resumeTimer:Lh,showLoading:ks,stopTimer:Mh,toggleTimer:tv});class av{constructor(h,f){this.callback=h,this.remaining=f,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){const f=this.running;return f&&this.stop(),this.remaining+=h,f&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Bh=["swal-title","swal-html","swal-footer"],lv=l=>{const h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};const f=h.content;return mv(f),Object.assign(cv(f),uv(f),hv(f),dv(f),fv(f),pv(f),gv(f,Bh))},cv=l=>{const h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Zn(w,["name","value"]);const C=w.getAttribute("name"),X=w.getAttribute("value");typeof Ds[C]=="boolean"?h[C]=X!=="false":typeof Ds[C]=="object"?h[C]=JSON.parse(X):h[C]=X}),h},uv=l=>{const h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{const C=w.getAttribute("name"),X=w.getAttribute("value");h[C]=new Function(`return ${X}`)()}),h},hv=l=>{const h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Zn(w,["type","color","aria-label"]);const C=w.getAttribute("type");h[`${C}ButtonText`]=w.innerHTML,h[`show${b(C)}Button`]=!0,w.hasAttribute("color")&&(h[`${C}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${C}ButtonAriaLabel`]=w.getAttribute("aria-label"))}),h},dv=l=>{const h={},f=l.querySelector("swal-image");return f&&(Zn(f,["src","width","height","alt"]),f.hasAttribute("src")&&(h.imageUrl=f.getAttribute("src")),f.hasAttribute("width")&&(h.imageWidth=f.getAttribute("width")),f.hasAttribute("height")&&(h.imageHeight=f.getAttribute("height")),f.hasAttribute("alt")&&(h.imageAlt=f.getAttribute("alt"))),h},fv=l=>{const h={},f=l.querySelector("swal-icon");return f&&(Zn(f,["type","color"]),f.hasAttribute("type")&&(h.icon=f.getAttribute("type")),f.hasAttribute("color")&&(h.iconColor=f.getAttribute("color")),h.iconHtml=f.innerHTML),h},pv=l=>{const h={},f=l.querySelector("swal-input");f&&(Zn(f,["type","label","placeholder","value"]),h.input=f.getAttribute("type")||"text",f.hasAttribute("label")&&(h.inputLabel=f.getAttribute("label")),f.hasAttribute("placeholder")&&(h.inputPlaceholder=f.getAttribute("placeholder")),f.hasAttribute("value")&&(h.inputValue=f.getAttribute("value")));const w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(C=>{Zn(C,["value"]);const X=C.getAttribute("value"),_e=C.innerHTML;h.inputOptions[X]=_e})),h},gv=(l,h)=>{const f={};for(const w in h){const C=h[w],X=l.querySelector(C);X&&(Zn(X,[]),f[C.replace(/^swal-/,"")]=X.innerHTML.trim())}return f},mv=l=>{const h=Bh.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(f=>{const w=f.tagName.toLowerCase();h.includes(w)||x(`Unrecognized element <${w}>`)})},Zn=(l,h)=>{Array.from(l.attributes).forEach(f=>{h.indexOf(f.name)===-1&&x([`Unrecognized attribute "${f.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Fh=10,wv=l=>{const h=ae(),f=Q();typeof l.willOpen=="function"&&l.willOpen(f);const C=window.getComputedStyle(document.body).overflowY;bv(h,f,l),setTimeout(()=>{yv(h,f)},Fh),D()&&(vv(h,l.scrollbarPadding,C),i0()),!S()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(f)),$(h,c["no-transition"])},Vh=l=>{const h=Q();if(l.target!==h)return;const f=ae();h.removeEventListener(yi,Vh),f.style.overflowY="auto"},yv=(l,h)=>{yi&&Pt(h)?(l.style.overflowY="hidden",h.addEventListener(yi,Vh)):l.style.overflowY="auto"},vv=(l,h,f)=>{r0(),h&&f!=="hidden"&&f0(),setTimeout(()=>{l.scrollTop=0})},bv=(l,h,f)=>{A(l,f.showClass.backdrop),h.style.setProperty("opacity","0","important"),B(h,"grid"),setTimeout(()=>{A(h,f.showClass.popup),h.style.removeProperty("opacity")},Fh),A([document.documentElement,document.body],c.shown),f.heightAuto&&f.backdrop&&!f.toast&&A([document.documentElement,document.body],c["height-auto"])};var jh={email:(l,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function Ev(l){l.inputValidator||Object.keys(jh).forEach(h=>{l.input===h&&(l.inputValidator=jh[h])})}function xv(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(x('Target parameter is not valid, defaulting to "body"'),l.target="body")}function _v(l){Ev(l),l.showLoaderOnConfirm&&!l.preConfirm&&x(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),xv(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),wy(l)}let Kt;class We{constructor(){if(typeof window>"u")return;Kt=this;for(var h=arguments.length,f=new Array(h),w=0;w<h;w++)f[w]=arguments[w];const C=Object.freeze(this.constructor.argsToParams(f));this.params=C,this.isAwaitingPromise=!1;const X=Kt._main(Kt.params);o.promise.set(this,X)}_main(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V0(Object.assign({},f,h)),s.currentInstance&&(s.currentInstance._destroy(),D()&&hh()),s.currentInstance=Kt;const w=Tv(h,f);_v(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);const C=Iv(Kt);return ah(Kt,w),o.innerParams.set(Kt,w),Cv(Kt,C,w)}then(h){return o.promise.get(this).then(h)}finally(h){return o.promise.get(this).finally(h)}}const Cv=(l,h,f)=>new Promise((w,C)=>{const X=_e=>{l.close({isDismissed:!0,dismiss:_e})};bi.swalPromiseResolve.set(l,w),bi.swalPromiseReject.set(l,C),h.confirmButton.onclick=()=>{k0(l)},h.denyButton.onclick=()=>{D0(l)},h.cancelButton.onclick=()=>{P0(l,X)},h.closeButton.onclick=()=>{X(Ss.close)},q0(l,h,X),Xy(l,s,f,X),E0(l,f),wv(f),Sv(s,f,X),Av(h,f),setTimeout(()=>{h.container.scrollTop=0})}),Tv=(l,h)=>{const f=lv(l),w=Object.assign({},Ds,h,f,l);return w.showClass=Object.assign({},Ds.showClass,w.showClass),w.hideClass=Object.assign({},Ds.hideClass,w.hideClass),w},Iv=l=>{const h={popup:Q(),container:ae(),actions:Dt(),confirmButton:ie(),denyButton:Ze(),cancelButton:Je(),loader:$e(),closeButton:je(),validationMessage:we(),progressSteps:Ae()};return o.domCache.set(l,h),h},Sv=(l,h,f)=>{const w=zt();z(w),h.timer&&(l.timeout=new av(()=>{f("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(B(w),I(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&sn(h.timer)})))},Av=(l,h)=>{if(!h.toast){if(!G(h.allowEnterKey)){Dv();return}kv(l,h)||Na(-1,1)}},kv=(l,h)=>h.focusDeny&&he(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&he(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&he(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Dv=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const f=document.createElement("audio");f.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",f.loop=!0,document.body.appendChild(f),setTimeout(()=>{f.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}We.prototype.disableButtons=_h,We.prototype.enableButtons=xh,We.prototype.getInput=vh,We.prototype.disableInput=Th,We.prototype.enableInput=Ch,We.prototype.hideLoading=Or,We.prototype.disableLoading=Or,We.prototype.showValidationMessage=Ih,We.prototype.resetValidationMessage=Sh,We.prototype.close=Sn,We.prototype.closePopup=Sn,We.prototype.closeModal=Sn,We.prototype.closeToast=Sn,We.prototype.rejectPromise=fh,We.prototype.update=Ph,We.prototype._destroy=Rh,Object.assign(We,ov),Object.keys(H0).forEach(l=>{We[l]=function(){return Kt&&Kt[l]?Kt[l](...arguments):null}}),We.DismissReason=Ss,We.version="11.7.12";const Mr=We;return Mr.default=Mr,Mr}),typeof Dn<"u"&&Dn.Sweetalert2&&(Dn.swal=Dn.sweetAlert=Dn.Swal=Dn.SweetAlert=Dn.Sweetalert2),typeof document<"u"&&function(n,s){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=s);else try{i.innerHTML=s}catch{i.innerText=s}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(fy);const Pn=fy.exports,BA={class:"header"},FA={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},VA={class:"relative flex h-16 items-center justify-between"},jA={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},UA=v("span",{class:"sr-only"},"Open main menu",-1),HA={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},qA=v("div",{class:"flex flex-shrink-0 items-center"},[v("img",{class:"block mt-5 h-8 w-auto lg:hidden",src:Ld,alt:"Arumi_id"}),v("img",{class:"hidden h-8 w-auto lg:block",src:Ld,alt:"Arumi_id"})],-1),zA={class:"hidden sm:ml-6 sm:block"},KA={class:"flex space-x-4"},WA=["aria-current"],GA=["aria-current"],QA={class:"space-y-1 px-2 pb-3 pt-2"},YA={key:0,class:"bg-white"},XA={key:0,class:"mx-auto max-w-2xl px-4 py-5 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},JA=v("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Stock Barang",-1),ZA={class:"sm:grid lg:flex md:!flex justify-start gap-x-6 gap-y-8 sm:grid-cols-6"},ek={class:"sm:col-span-2"},tk={class:"mt-2"},nk={class:"sm:col-span-2"},sk={class:"mt-2"},ik={class:"flex flex-col"},rk={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},ok={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},ak={class:"overflow-hidden"},lk={class:"min-w-full text-left text-sm font-light",style:{"margin-bottom":"110px"}},ck=v("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[v("tr",null,[v("th",{scope:"col",class:"px-3 py-4"},"No"),v("th",{scope:"col",class:"px-3 py-4"},"Jenis Barang"),v("th",{scope:"col",class:"px-3 py-4"},"Nama Barang"),v("th",{scope:"col",class:"px-3 py-4"},"Warna Barang"),v("th",{scope:"col",class:"px-3 py-4"},"QTY"),v("th",{scope:"col",class:"px-3 py-4"},"Harga Barang"),v("th",{scope:"col",class:"px-3 py-4"},"Aksi")])],-1),uk={class:"whitespace-nowrap px-3 py-4"},hk={class:"whitespace-nowrap px-3 py-4 font-medium"},dk={class:"whitespace-nowrap px-3 py-4 font-medium"},fk={class:"whitespace-nowrap px-3 py-4"},pk={class:"whitespace-nowrap px-3 py-4"},gk={class:"whitespace-nowrap px-3 py-4 font-medium"},mk={class:"whitespace-nowrap px-3 py-4 font-medium"},wk=["onClick"],yk=["onClick"],vk={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},bk={class:"text-2xl font-bold tracking-tight text-gray-900"},Ek=["onSubmit"],xk={class:"space-y-12"},_k={class:"border-b border-gray-900/10 pb-12"},Ck={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},Tk={class:"sm:col-span-2"},Ik=v("label",{for:"jenisBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Jenis Barang",-1),Sk={class:"mt-2"},Ak={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},kk={class:"sm:col-span-2"},Dk=v("label",{for:"namaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Nama Barang",-1),Pk={class:"mt-2"},Rk={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},Ok={class:"sm:col-span-2"},Nk=v("label",{for:"warnaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Warna Barang",-1),Mk={class:"mt-2"},Lk={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},$k={class:"sm:col-span-2"},Bk=v("label",{for:"qty",class:"block text-sm font-medium leading-6 text-gray-900"},"Quantity",-1),Fk={class:"mt-2"},Vk={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},jk={class:"sm:col-span-2"},Uk=v("label",{for:"hargaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Harga Barang",-1),Hk={class:"mt-2"},qk={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},zk={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},Kk=v("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",-1),Wk={key:1,class:"bg-white"},Gk={key:0,class:"mx-auto max-w-2xl px-4 py-5 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},Qk=v("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Petty Cash",-1),Yk={class:"flex flex-col"},Xk={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},Jk={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},Zk={class:"overflow-hidden"},eD={class:"min-w-full text-left text-sm font-light",style:{"margin-bottom":"110px"}},tD=v("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[v("tr",null,[v("th",{scope:"col",class:"px-3 py-4"},"Tanggal"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 500"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 1.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 2.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 5.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 10.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 20.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 50.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 75.000"),v("th",{scope:"col",class:"px-3 py-4"},"Rp 100.000"),v("th",{scope:"col",class:"px-3 py-4"},"Total"),v("th",{scope:"col",class:"px-3 py-4"},"Aksi")])],-1),nD={class:"whitespace-nowrap px-3 py-4 font-medium bg-blue-100"},sD={class:"whitespace-nowrap px-3 py-4 font-medium"},iD={class:"whitespace-nowrap px-3 py-4 font-medium"},rD={class:"whitespace-nowrap px-3 py-4 font-medium"},oD={class:"whitespace-nowrap px-3 py-4 font-medium"},aD={class:"whitespace-nowrap px-3 py-4 font-medium"},lD={class:"whitespace-nowrap px-3 py-4 font-medium"},cD={class:"whitespace-nowrap px-3 py-4 font-medium"},uD={class:"whitespace-nowrap px-3 py-4 font-medium"},hD={class:"whitespace-nowrap px-3 py-4 font-medium"},dD={class:"whitespace-nowrap px-3 py-4 font-medium bg-green-200"},fD={class:"whitespace-nowrap px-3 py-4 font-medium"},pD=["onClick"],gD=["onClick"],mD={key:1},wD=v("h1",{style:{color:"black"}},"Loading .....",-1),yD=[wD],vD={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},bD={class:"text-2xl font-bold tracking-tight text-gray-900"},ED=["onSubmit"],xD={class:"space-y-12"},_D={class:"border-b border-gray-900/10 pb-12"},CD={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},TD={class:"sm:col-span-2"},ID=v("label",{for:"limaRatus",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 500",-1),SD={class:"mt-2"},AD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},kD={class:"sm:col-span-2"},DD=v("label",{for:"seribu",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 1.000",-1),PD={class:"mt-2"},RD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},OD={class:"sm:col-span-2"},ND=v("label",{for:"duaRibu",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 2.000",-1),MD={class:"mt-2"},LD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},$D={class:"sm:col-span-2"},BD=v("label",{for:"limaRb",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 5.000",-1),FD={class:"mt-2"},VD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},jD={class:"sm:col-span-2"},UD=v("label",{for:"sepuluhRb",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 10.000",-1),HD={class:"mt-2"},qD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},zD={class:"sm:col-span-2"},KD=v("label",{for:"duaPuluh",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 20.000",-1),WD={class:"mt-2"},GD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},QD={class:"sm:col-span-2"},YD=v("label",{for:"limpul",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 50.000",-1),XD={class:"mt-2"},JD={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ZD={class:"sm:col-span-2"},eP=v("label",{for:"tujulima",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 75.000",-1),tP={class:"mt-2"},nP={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},sP={class:"sm:col-span-2"},iP=v("label",{for:"seratus",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 100.000",-1),rP={class:"mt-2"},oP={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},aP={class:"sm:col-span-2"},lP=v("label",{for:"tanggal",class:"block text-sm font-medium leading-6 text-gray-900"},"Tanggal",-1),cP={class:"mt-2"},uP={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},hP={class:"sm:col-span-2"},dP=v("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Total Uang",-1),fP={class:"mt-2"},pP=v("i",null,"Rp",-1),gP={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},mP=v("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",-1),wP={__name:"DashboardView",setup(t){let e=oe("stock_barang"),n=oe(!0),s=oe(!1);const i=Nn(Mn,"stockBarang"),r=Nn(Mn,"pettyCash");let o=oe(""),a=oe(""),u=oe(""),c=oe(!0),d=oe([]),p=oe(""),g=oe(""),b=oe(""),x=oe(""),T=oe(""),N=oe(""),F=new Date,j=oe(""),G=oe([]),V=oe(0),fe=oe(0),ge=oe(0),ae=oe(0),Te=oe(0),me=oe(0),Q=oe(0),ke=oe(0),Ke=oe(0);const Ve=oe(F);let Xe=oe(0);Ni(()=>{Xe.value=500*V.value+1e3*fe.value+2e3*ge.value+5e3*ae.value+1e4*Te.value+2e4*me.value+5e4*Q.value+75e3*ke.value+1e5*Ke.value}),Ni(()=>{o.value?jt():Ae()}),Ni(()=>{a.value?jt():Ae()}),di(async()=>{Ae(),bc(Nn(Mn,"pettyCash"),D=>{let S=[];D.forEach(_=>{let m={id:_.id,tanggal:_.data().tanggal,limaRatus:_.data().limaRatus,seribu:_.data().seribu,duaRb:_.data().duaRb,limaRb:_.data().limaRb,sepuluhRb:_.data().sepuluhRb,duaPuluhRb:_.data().duaPuluhRb,limpulRb:_.data().limpulRb,tujulima:_.data().tujulima,seratus:_.data().seratus,total:_.data().total.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")};S.push(m)}),G.value=S})});function jt(){Ae(),d.value=d.value.filter(D=>D.varian.toLowerCase().includes(o.value.toLowerCase())),d.value=d.value.filter(D=>D.nama.toLowerCase().includes(a.value.toLowerCase())),d.value.sort(function(D,S){const _=D.varian.toUpperCase(),m=S.varian.toUpperCase();if(_<m)return-1;if(_>m)return 1})}function Ae(){bc(Nn(Mn,"stockBarang"),D=>{let S=[];D.forEach(_=>{let m={id:_.id,varian:_.data().varian,nama:_.data().nama,warna:_.data().warna,qty:_.data().qty,harga:_.data().harga.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")};S.push(m)}),S.sort(function(_,m){const y=_.varian.toUpperCase(),E=m.varian.toUpperCase();if(y<E)return-1;if(y>E)return 1}),d.value=S})}const we=()=>{console.log("data",c.value),c.value?Ze():kt()},ie=()=>{p.value="",g.value="",b.value="",x.value="",T.value="",c.value=!0,u.value="Tambah Stock Barang",n.value=!1},Je=D=>{N=D.id,p.value=D.varian,g.value=D.nama,b.value=D.warna,x.value=D.qty,T.value=D.harga,c.value=!1,u.value="Edit Stock Barang",n.value=!1},Ze=async()=>{console.log("add"),await vc(Nn(Mn,"stockBarang"),{id:Fo(),varian:p.value,nama:g.value,warna:b.value,qty:x.value,harga:T.value}),Pn.fire("Berhasil!","Data berhasil ditambah!","success"),n.value=!0,p.value="",g.value="",b.value="",x.value="",T.value=""},kt=async()=>{await zf(Ri(i,N),{varian:p.value,nama:g.value,warna:b.value,qty:x.value,harga:T.value}),Pn.fire("Berhasil!","Data berhasil diubah!","success"),n.value=!0,p.value="",g.value="",b.value="",x.value="",T.value=""},$e=async D=>{Pn.fire({title:"Apa kamu yakin?",text:"Kamu ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus data!",cancelButtonText:"Batal"}).then(S=>{S.isConfirmed&&(Kf(Ri(i,D)),Pn.fire("Terhapus!","Data kamu berhasil dihapus.","success"))})},Dt=()=>{V.value="",fe.value="",ge.value="",ae.value="",Te.value="",me.value="",Q.value="",ke.value="",Ke.value="",Xe.value="",Ve.value="",c.value=!0,j.value="Tambah Petty Cash",n.value=!1},qt=D=>{N=D.id,V.value=D.limaRatus,fe.value=D.seribu,ge.value=D.duaRb,ae.value=D.limaRb,Te.value=D.sepuluhRb,me.value=D.duaPuluhRb,Q.value=D.limpulRb,ke.value=D.tujulima,Ke.value=D.seratus,Xe.value=D.total,Ve.value=D.tanggal,c.value=!1,j.value="Edit Petty Cash",n.value=!1},zt=()=>{c.value?je():k()},je=async()=>{await vc(Nn(Mn,"pettyCash"),{id:Fo(),limaRatus:V.value,seribu:fe.value,duaRb:ge.value,limaRb:ae.value,sepuluhRb:Te.value,duaPuluhRb:me.value,limpulRb:Q.value,tujulima:ke.value,seratus:Ke.value,total:Xe.value,tanggal:Ve.value}),Pn.fire("Berhasil!","Data berhasil ditambah!","success"),n.value=!0,V.value="",fe.value="",ge.value="",ae.value="",Te.value="",me.value="",Q.value="",ke.value="",Ke.value="",Xe.value="",Ve.value=""},k=async()=>{await zf(Ri(r,N),{limaRatus:V.value,seribu:fe.value,duaRb:ge.value,limaRb:ae.value,sepuluhRb:Te.value,duaPuluhRb:me.value,limpulRb:Q.value,tujulima:ke.value,seratus:Ke.value,total:Xe.value,tanggal:Ve.value}),Pn.fire("Berhasil!","Data berhasil diubah!","success"),n.value=!0,V.value="",fe.value="",ge.value="",ae.value="",Te.value="",me.value="",Q.value="",ke.value="",Ke.value="",Xe.value="",Ve.value=""},H=async D=>{Pn.fire({title:"Apa kamu yakin?",text:"Kamu ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus data!",cancelButtonText:"Batal"}).then(S=>{S.isConfirmed&&(Kf(Ri(r,D)),Pn.fire("Terhapus!","Data kamu berhasil dihapus.","success"))})};return(D,S)=>(Pe(),qe(mt,null,[v("div",BA,[Ge(Z(bE),{as:"nav",class:"bg-pink-50"},{default:Ns(({open:_})=>[v("div",FA,[v("div",VA,[v("div",jA,[Ge(Z(Ya),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:Ns(()=>[UA,_?(Pe(),Ol(Z(_E),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(Pe(),Ol(Z(xE),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),v("div",HA,[qA,v("div",zA,[v("div",KA,[v("a",{onClick:S[0]||(S[0]=m=>{le(e)?e.value="stock_barang":e="stock_barang",le(n)?n.value=!0:n=!0}),class:rs([Z(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":Z(s)?"page":void 0},"Stock Barang",10,WA),v("a",{onClick:S[1]||(S[1]=m=>{le(e)?e.value="petty_cash":e="petty_cash",le(n)?n.value=!0:n=!0}),class:rs([Z(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":Z(s)?"page":void 0},"Petty Cash",10,GA)])])])])]),Ge(Z(EE),{class:"sm:hidden"},{default:Ns(()=>[v("div",QA,[Ge(Z(Ya),{onClick:S[2]||(S[2]=m=>{le(e)?e.value="stock_barang":e="stock_barang",le(n)?n.value=!0:n=!0}),as:"a",class:rs([Z(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":Z(s)?"page":void 0},{default:Ns(()=>[io("Stock Barang")]),_:1},8,["class","aria-current"]),Ge(Z(Ya),{onClick:S[3]||(S[3]=m=>{le(e)?e.value="petty_cash":e="petty_cash",le(n)?n.value=!0:n=!0}),as:"a",class:rs([Z(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":Z(s)?"page":void 0},{default:Ns(()=>[io("Petty Cash")]),_:1},8,["class","aria-current"])])]),_:1})]),_:1})]),Z(e)==="stock_barang"?(Pe(),qe("div",YA,[Z(n)?(Pe(),qe("div",XA,[JA,v("div",ZA,[v("div",{class:"sm:col-span-2"},[v("div",{class:"mt-2"},[v("button",{onClick:ie,type:"button",class:"inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Tambah Barang")])]),v("div",ek,[v("div",tk,[Ue(v("input",{"onUpdate:modelValue":S[4]||(S[4]=_=>le(o)?o.value=_:o=_),type:"text",id:"table-search",class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-40 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Cari Jenis Barang"},null,512),[[He,Z(o)]])])]),v("div",nk,[v("div",sk,[Ue(v("input",{"onUpdate:modelValue":S[5]||(S[5]=_=>le(a)?a.value=_:a=_),type:"text",id:"table-search",class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-40 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Cari Nama Barang"},null,512),[[He,Z(a)]])])])]),v("div",ik,[v("div",rk,[v("div",ok,[v("div",ak,[v("table",lk,[ck,v("tbody",null,[Z(d).length!==0?(Pe(!0),qe(mt,{key:0},Sl(Z(d),(_,m)=>(Pe(),qe("tr",{key:_.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[v("td",uk,De(m+1),1),v("td",hk,De(_.varian),1),v("td",dk,De(_.nama),1),v("td",fk,De(_.warna),1),v("td",pk,De(_.qty),1),v("td",gk,"Rp "+De(_.harga),1),v("td",mk,[v("button",{onClick:y=>$e(_.id),class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus",8,wk),v("button",{onClick:y=>Je(_),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit",8,yk)])]))),128)):Ml("",!0)])])])])])])])):(Pe(),qe("div",vk,[v("h2",bk,De(Z(u)),1),v("form",{onSubmit:$l(we,["prevent"])},[v("div",xk,[v("div",_k,[v("div",Ck,[v("div",Tk,[Ik,v("div",Sk,[v("div",Ak,[Ue(v("input",{"onUpdate:modelValue":S[6]||(S[6]=_=>le(p)?p.value=_:p=_),type:"text",name:"jenisBarang",id:"jenisBarang",autocomplete:"jenisBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Jenis Barang"},null,512),[[He,Z(p)]])])])]),v("div",kk,[Dk,v("div",Pk,[v("div",Rk,[Ue(v("input",{"onUpdate:modelValue":S[7]||(S[7]=_=>le(g)?g.value=_:g=_),type:"text",name:"namaBarang",id:"namaBarang",autocomplete:"namaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Nama Barang"},null,512),[[He,Z(g)]])])])]),v("div",Ok,[Nk,v("div",Mk,[v("div",Lk,[Ue(v("input",{"onUpdate:modelValue":S[8]||(S[8]=_=>le(b)?b.value=_:b=_),type:"text",name:"warnaBarang",id:"warnaBarang",autocomplete:"warnaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Warna Barang"},null,512),[[He,Z(b)]])])])]),v("div",$k,[Bk,v("div",Fk,[v("div",Vk,[Ue(v("input",{"onUpdate:modelValue":S[9]||(S[9]=_=>le(x)?x.value=_:x=_),type:"number",name:"qty",id:"qty",autocomplete:"qty",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Quantity"},null,512),[[He,Z(x)]])])])]),v("div",jk,[Uk,v("div",Hk,[v("div",qk,[Ue(v("input",{"onUpdate:modelValue":S[10]||(S[10]=_=>le(T)?T.value=_:T=_),type:"number",name:"hargaBarang",id:"hargaBarang",autocomplete:"hargaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Harga Barang"},null,512),[[He,Z(T)]])])])])])])]),v("div",zk,[v("button",{onClick:S[11]||(S[11]=_=>le(n)?n.value=!0:n=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),Kk])],40,Ek)]))])):Z(e)==="petty_cash"?(Pe(),qe("div",Wk,[Z(n)?(Pe(),qe("div",Gk,[Qk,v("button",{onClick:Dt,type:"button",class:"mt-4 inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Input Petty Cash "),v("div",Yk,[v("div",Xk,[v("div",Jk,[v("div",Zk,[v("table",eD,[tD,v("tbody",null,[Z(G).length!==0?(Pe(!0),qe(mt,{key:0},Sl(Z(G),_=>(Pe(),qe("tr",{key:_.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[v("td",nD,De(_.tanggal),1),v("td",sD,De(_.limaRatus)+" Pcs",1),v("td",iD,De(_.seribu)+" Pcs",1),v("td",rD,De(_.duaRb)+" Pcs",1),v("td",oD,De(_.limaRb)+" Pcs",1),v("td",aD,De(_.sepuluhRb)+" Pcs",1),v("td",lD,De(_.duaPuluhRb)+" Pcs",1),v("td",cD,De(_.limpulRb)+" Pcs",1),v("td",uD,De(_.tujulima)+" Pcs",1),v("td",hD,De(_.seratus)+" Pcs",1),v("td",dD,"Rp "+De(_.total),1),v("td",fD,[v("button",{onClick:m=>H(_.id),class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus",8,pD),v("button",{onClick:m=>qt(_),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit",8,gD)])]))),128)):(Pe(),qe("tr",mD,yD))])])])])])])])):(Pe(),qe("div",vD,[v("h2",bD,De(Z(j)),1),v("form",{onSubmit:$l(zt,["prevent"])},[v("div",xD,[v("div",_D,[v("div",CD,[v("div",TD,[ID,v("div",SD,[v("div",AD,[Ue(v("input",{"onUpdate:modelValue":S[12]||(S[12]=_=>le(V)?V.value=_:V=_),type:"number",name:"limaRatus",id:"limaRatus",autocomplete:"limaRatus",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Limaratusan"},null,512),[[He,Z(V)]])])])]),v("div",kD,[DD,v("div",PD,[v("div",RD,[Ue(v("input",{"onUpdate:modelValue":S[13]||(S[13]=_=>le(fe)?fe.value=_:fe=_),type:"number",name:"seribu",id:"seribu",autocomplete:"seribu",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Seribuan"},null,512),[[He,Z(fe)]])])])]),v("div",OD,[ND,v("div",MD,[v("div",LD,[Ue(v("input",{"onUpdate:modelValue":S[14]||(S[14]=_=>le(ge)?ge.value=_:ge=_),type:"number",name:"duaRibu",id:"duaRibu",autocomplete:"duaRibu",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Dua Ribuan"},null,512),[[He,Z(ge)]])])])]),v("div",$D,[BD,v("div",FD,[v("div",VD,[Ue(v("input",{"onUpdate:modelValue":S[15]||(S[15]=_=>le(ae)?ae.value=_:ae=_),type:"number",name:"limaRb",id:"limaRb",autocomplete:"limaRb",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Lima Ribuan"},null,512),[[He,Z(ae)]])])])]),v("div",jD,[UD,v("div",HD,[v("div",qD,[Ue(v("input",{"onUpdate:modelValue":S[16]||(S[16]=_=>le(Te)?Te.value=_:Te=_),type:"number",name:"sepuluhRb",id:"sepuluhRb",autocomplete:"sepuluhRb",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Sepuluh Ribuan"},null,512),[[He,Z(Te)]])])])]),v("div",zD,[KD,v("div",WD,[v("div",GD,[Ue(v("input",{"onUpdate:modelValue":S[17]||(S[17]=_=>le(me)?me.value=_:me=_),type:"number",name:"duaPuluh",id:"duaPuluh",autocomplete:"duaPuluh",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Duapuluh Ribuan"},null,512),[[He,Z(me)]])])])]),v("div",QD,[YD,v("div",XD,[v("div",JD,[Ue(v("input",{"onUpdate:modelValue":S[18]||(S[18]=_=>le(Q)?Q.value=_:Q=_),type:"number",name:"limpul",id:"limpul",autocomplete:"limpul",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Limapuluh Ribuan"},null,512),[[He,Z(Q)]])])])]),v("div",ZD,[eP,v("div",tP,[v("div",nP,[Ue(v("input",{"onUpdate:modelValue":S[19]||(S[19]=_=>le(ke)?ke.value=_:ke=_),type:"number",name:"tujulima",id:"tujulima",autocomplete:"tujulima",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Tujuhpuluh Lima Ribuan"},null,512),[[He,Z(ke)]])])])]),v("div",sP,[iP,v("div",rP,[v("div",oP,[Ue(v("input",{"onUpdate:modelValue":S[20]||(S[20]=_=>le(Ke)?Ke.value=_:Ke=_),type:"number",name:"seratus",id:"seratus",autocomplete:"seratus",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Seratus Ribuan"},null,512),[[He,Z(Ke)]])])])]),v("div",aP,[lP,v("div",cP,[v("div",uP,[Ue(v("input",{"onUpdate:modelValue":S[21]||(S[21]=_=>Ve.value=_),type:"date",name:"tanggal",id:"tanggal",autocomplete:"tanggal",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"},null,512),[[He,Ve.value]])])])]),v("div",hP,[dP,v("div",fP,[v("b",null,[pP,io(" "+De(Z(Xe).toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")),1)])])])])])]),v("div",gP,[v("button",{onClick:S[22]||(S[22]=_=>le(n)?n.value=!0:n=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),mP])],40,ED)]))])):Ml("",!0)],64))}};const yP=["onSubmit"],vP={key:0,class:"add-product"},bP={class:"field"},EP=v("label",{class:"label"},"Jenis Product",-1),xP={class:"control"},_P={class:"field"},CP=v("label",{class:"label"},"Nama Product",-1),TP={class:"control"},IP={class:"field"},SP=v("label",{class:"label"},"Warna Product",-1),AP={class:"control"},kP={class:"field"},DP=v("label",{class:"label"},"Quantity Product",-1),PP={class:"control"},RP={class:"field"},OP=v("label",{class:"label"},"Harga Product",-1),NP={class:"control"},MP={class:"field is-grouped pt-4"},LP={class:"control"},$P=["disabled"],BP={class:"control"},FP={key:1,class:"add-product"},VP={class:"field is-grouped pl-20 pt-4"},jP={class:"control"},UP={key:0,class:"data-product"},HP={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},qP=v("thead",null,[v("tr",null,[v("th",null,"Jenis Barang"),v("th",null,"Nama Barang"),v("th",null,"Warna Barang"),v("th",null,"Quantity"),v("th",null,"Harga Barang")])],-1),zP={__name:"DataProduct",setup(t){let e=oe([]);const n=oe(!1),s=oe(""),i=oe(""),r=oe(""),o=oe(""),a=oe("");di(async()=>{bc(Nn(Mn,"stockBarang"),c=>{let d=[];c.forEach(p=>{let g={id:p.id,varian:p.data().varian,nama:p.data().nama,warna:p.data().warna,qty:p.data().qty,harga:p.data().harga};d.push(g)}),e.value=d})});const u=async()=>{console.log("asd",{id:Fo(),varian:s.value,nama:i.value,warna:r.value,qty:o.value,harga:a.value});const c=await vc(Nn(Mn,"stockBarang"),{id:Fo(),varian:s.value,nama:i.value,warna:r.value,qty:o.value,harga:a.value});console.log("Document written with ID: ",c.id)};return(c,d)=>(Pe(),qe(mt,null,[v("form",{onSubmit:$l(u,["prevent"])},[n.value?(Pe(),qe("div",vP,[v("div",bP,[EP,v("div",xP,[Ue(v("input",{"onUpdate:modelValue":d[0]||(d[0]=p=>s.value=p),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[He,s.value]])])]),v("div",_P,[CP,v("div",TP,[Ue(v("input",{"onUpdate:modelValue":d[1]||(d[1]=p=>i.value=p),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[He,i.value]])])]),v("div",IP,[SP,v("div",AP,[Ue(v("input",{"onUpdate:modelValue":d[2]||(d[2]=p=>r.value=p),class:"input",type:"text",placeholder:"warna Product"},null,512),[[He,r.value]])])]),v("div",kP,[DP,v("div",PP,[Ue(v("input",{"onUpdate:modelValue":d[3]||(d[3]=p=>o.value=p),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[He,o.value]])])]),v("div",RP,[OP,v("div",NP,[Ue(v("input",{"onUpdate:modelValue":d[4]||(d[4]=p=>a.value=p),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[He,a.value]])])]),v("div",MP,[v("div",LP,[v("button",{disabled:!s.value||!i.value||!a.value,class:"button is-link"},"Submit",8,$P)]),v("div",BP,[v("button",{onClick:d[5]||(d[5]=p=>n.value=!1),class:"button is-danger"},"Cancel")])])])):(Pe(),qe("div",FP,[v("div",VP,[v("div",jP,[v("button",{class:"button is-link",onClick:d[6]||(d[6]=p=>n.value=!0)},"Tambah Data")])])]))],40,yP),n.value?Ml("",!0):(Pe(),qe("div",UP,[v("table",HP,[qP,v("tbody",null,[(Pe(!0),qe(mt,null,Sl(Z(e),p=>(Pe(),qe("tr",{key:p.id},[v("th",null,De(p.varian),1),v("th",null,De(p.nama),1),v("th",null,De(p.warna),1),v("th",null,De(p.qty)+" pcs",1),v("th",null,De(p.harga),1)]))),128))])])]))],64))}},KP=eE({history:w2("/"),routes:[{path:"/",name:"home",component:wP},{path:"/data",name:"data",component:zP}]}),nh=Q1(cE);nh.use(Z1());nh.use(KP);nh.mount("#app");
