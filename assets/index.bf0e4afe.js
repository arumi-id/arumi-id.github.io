(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Rc(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const ye={},gs=[],Tt=()=>{},Um=()=>!1,jm=/^on[^a-z]/,so=t=>jm.test(t),Nc=t=>t.startsWith("onUpdate:"),Me=Object.assign,Oc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},qm=Object.prototype.hasOwnProperty,re=(t,e)=>qm.call(t,e),W=Array.isArray,ms=t=>ro(t)==="[object Map]",Af=t=>ro(t)==="[object Set]",Z=t=>typeof t=="function",Ne=t=>typeof t=="string",Pc=t=>typeof t=="symbol",be=t=>t!==null&&typeof t=="object",Df=t=>be(t)&&Z(t.then)&&Z(t.catch),kf=Object.prototype.toString,ro=t=>kf.call(t),Hm=t=>ro(t).slice(8,-1),Rf=t=>ro(t)==="[object Object]",Mc=t=>Ne(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vi=Rc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),io=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zm=/-(\w)/g,Ts=io(t=>t.replace(zm,(e,n)=>n?n.toUpperCase():"")),Km=/\B([A-Z])/g,Fs=io(t=>t.replace(Km,"-$1").toLowerCase()),Nf=io(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qo=io(t=>t?`on${Nf(t)}`:""),yr=(t,e)=>!Object.is(t,e),wi=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ai=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Aa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let du;const Da=()=>du||(du=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lc(t){if(W(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ne(s)?Ym(s):Lc(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(Ne(t))return t;if(be(t))return t}}const Wm=/;(?![^(]*\))/g,Gm=/:([^]+)/,Qm=new RegExp("\\/\\*.*?\\*\\/","gs");function Ym(t){const e={};return t.replace(Qm,"").split(Wm).forEach(n=>{if(n){const s=n.split(Gm);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Pn(t){let e="";if(Ne(t))e=t;else if(W(t))for(let n=0;n<t.length;n++){const s=Pn(t[n]);s&&(e+=s+" ")}else if(be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Xm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jm=Rc(Xm);function Of(t){return!!t||t===""}const gt=t=>Ne(t)?t:t==null?"":W(t)||be(t)&&(t.toString===kf||!Z(t.toString))?JSON.stringify(t,Pf,2):String(t),Pf=(t,e)=>e&&e.__v_isRef?Pf(t,e.value):ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Af(e)?{[`Set(${e.size})`]:[...e.values()]}:be(e)&&!W(e)&&!Rf(e)?String(e):e;let wt;class Mf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wt,!e&&wt&&(this.index=(wt.scopes||(wt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=wt;try{return wt=this,e()}finally{wt=n}}}on(){wt=this}off(){wt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Zm(t){return new Mf(t)}function ey(t,e=wt){e&&e.active&&e.effects.push(t)}function ty(){return wt}const Fc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Lf=t=>(t.w&wn)>0,Ff=t=>(t.n&wn)>0,ny=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=wn},sy=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Lf(r)&&!Ff(r)?r.delete(t):e[n++]=r,r.w&=~wn,r.n&=~wn}e.length=n}},ka=new WeakMap;let Js=0,wn=1;const Ra=30;let Et;const Vn=Symbol(""),Na=Symbol("");class $c{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ey(this,s)}run(){if(!this.active)return this.fn();let e=Et,n=fn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Et,Et=this,fn=!0,wn=1<<++Js,Js<=Ra?ny(this):pu(this),this.fn()}finally{Js<=Ra&&sy(this),wn=1<<--Js,Et=this.parent,fn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Et===this?this.deferStop=!0:this.active&&(pu(this),this.onStop&&this.onStop(),this.active=!1)}}function pu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let fn=!0;const $f=[];function $s(){$f.push(fn),fn=!1}function Bs(){const t=$f.pop();fn=t===void 0?!0:t}function ct(t,e,n){if(fn&&Et){let s=ka.get(t);s||ka.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Fc()),Bf(r)}}function Bf(t,e){let n=!1;Js<=Ra?Ff(t)||(t.n|=wn,n=!Lf(t)):n=!t.has(Et),n&&(t.add(Et),Et.deps.push(t))}function Xt(t,e,n,s,r,i){const o=ka.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&W(t)){const c=Number(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":W(t)?Mc(n)&&a.push(o.get("length")):(a.push(o.get(Vn)),ms(t)&&a.push(o.get(Na)));break;case"delete":W(t)||(a.push(o.get(Vn)),ms(t)&&a.push(o.get(Na)));break;case"set":ms(t)&&a.push(o.get(Vn));break}if(a.length===1)a[0]&&Oa(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Oa(Fc(c))}}function Oa(t,e){const n=W(t)?t:[...t];for(const s of n)s.computed&&gu(s);for(const s of n)s.computed||gu(s)}function gu(t,e){(t!==Et||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ry=Rc("__proto__,__v_isRef,__isVue"),Vf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Pc)),iy=Bc(),oy=Bc(!1,!0),ay=Bc(!0),mu=cy();function cy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=oe(this);for(let i=0,o=this.length;i<o;i++)ct(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(oe)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){$s();const s=oe(this)[e].apply(this,n);return Bs(),s}}),t}function ly(t){const e=oe(this);return ct(e,"has",t),e.hasOwnProperty(t)}function Bc(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Sy:zf:e?Hf:qf).get(s))return s;const o=W(s);if(!t){if(o&&re(mu,r))return Reflect.get(mu,r,i);if(r==="hasOwnProperty")return ly}const a=Reflect.get(s,r,i);return(Pc(r)?Vf.has(r):ry(r))||(t||ct(s,"get",r),e)?a:me(a)?o&&Mc(r)?a:a.value:be(a)?t?Kf(a):Fr(a):a}}const uy=Uf(),hy=Uf(!0);function Uf(t=!1){return function(n,s,r,i){let o=n[s];if(Is(o)&&me(o)&&!me(r))return!1;if(!t&&(!Di(r)&&!Is(r)&&(o=oe(o),r=oe(r)),!W(n)&&me(o)&&!me(r)))return o.value=r,!0;const a=W(n)&&Mc(s)?Number(s)<n.length:re(n,s),c=Reflect.set(n,s,r,i);return n===oe(i)&&(a?yr(r,o)&&Xt(n,"set",s,r):Xt(n,"add",s,r)),c}}function fy(t,e){const n=re(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Xt(t,"delete",e,void 0),s}function dy(t,e){const n=Reflect.has(t,e);return(!Pc(e)||!Vf.has(e))&&ct(t,"has",e),n}function py(t){return ct(t,"iterate",W(t)?"length":Vn),Reflect.ownKeys(t)}const jf={get:iy,set:uy,deleteProperty:fy,has:dy,ownKeys:py},gy={get:ay,set(t,e){return!0},deleteProperty(t,e){return!0}},my=Me({},jf,{get:oy,set:hy}),Vc=t=>t,oo=t=>Reflect.getPrototypeOf(t);function ni(t,e,n=!1,s=!1){t=t.__v_raw;const r=oe(t),i=oe(e);n||(e!==i&&ct(r,"get",e),ct(r,"get",i));const{has:o}=oo(r),a=s?Vc:n?Hc:vr;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function si(t,e=!1){const n=this.__v_raw,s=oe(n),r=oe(t);return e||(t!==r&&ct(s,"has",t),ct(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ri(t,e=!1){return t=t.__v_raw,!e&&ct(oe(t),"iterate",Vn),Reflect.get(t,"size",t)}function yu(t){t=oe(t);const e=oe(this);return oo(e).has.call(e,t)||(e.add(t),Xt(e,"add",t,t)),this}function vu(t,e){e=oe(e);const n=oe(this),{has:s,get:r}=oo(n);let i=s.call(n,t);i||(t=oe(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?yr(e,o)&&Xt(n,"set",t,e):Xt(n,"add",t,e),this}function wu(t){const e=oe(this),{has:n,get:s}=oo(e);let r=n.call(e,t);r||(t=oe(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Xt(e,"delete",t,void 0),i}function Eu(){const t=oe(this),e=t.size!==0,n=t.clear();return e&&Xt(t,"clear",void 0,void 0),n}function ii(t,e){return function(s,r){const i=this,o=i.__v_raw,a=oe(o),c=e?Vc:t?Hc:vr;return!t&&ct(a,"iterate",Vn),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function oi(t,e,n){return function(...s){const r=this.__v_raw,i=oe(r),o=ms(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?Vc:e?Hc:vr;return!e&&ct(i,"iterate",c?Na:Vn),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function an(t){return function(...e){return t==="delete"?!1:this}}function yy(){const t={get(i){return ni(this,i)},get size(){return ri(this)},has:si,add:yu,set:vu,delete:wu,clear:Eu,forEach:ii(!1,!1)},e={get(i){return ni(this,i,!1,!0)},get size(){return ri(this)},has:si,add:yu,set:vu,delete:wu,clear:Eu,forEach:ii(!1,!0)},n={get(i){return ni(this,i,!0)},get size(){return ri(this,!0)},has(i){return si.call(this,i,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:ii(!0,!1)},s={get(i){return ni(this,i,!0,!0)},get size(){return ri(this,!0)},has(i){return si.call(this,i,!0)},add:an("add"),set:an("set"),delete:an("delete"),clear:an("clear"),forEach:ii(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=oi(i,!1,!1),n[i]=oi(i,!0,!1),e[i]=oi(i,!1,!0),s[i]=oi(i,!0,!0)}),[t,n,e,s]}const[vy,wy,Ey,by]=yy();function Uc(t,e){const n=e?t?by:Ey:t?wy:vy;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(re(n,r)&&r in s?n:s,r,i)}const _y={get:Uc(!1,!1)},Ty={get:Uc(!1,!0)},Iy={get:Uc(!0,!1)},qf=new WeakMap,Hf=new WeakMap,zf=new WeakMap,Sy=new WeakMap;function Cy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xy(t){return t.__v_skip||!Object.isExtensible(t)?0:Cy(Hm(t))}function Fr(t){return Is(t)?t:jc(t,!1,jf,_y,qf)}function Ay(t){return jc(t,!1,my,Ty,Hf)}function Kf(t){return jc(t,!0,gy,Iy,zf)}function jc(t,e,n,s,r){if(!be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=xy(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function ys(t){return Is(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function Is(t){return!!(t&&t.__v_isReadonly)}function Di(t){return!!(t&&t.__v_isShallow)}function Wf(t){return ys(t)||Is(t)}function oe(t){const e=t&&t.__v_raw;return e?oe(e):t}function qc(t){return Ai(t,"__v_skip",!0),t}const vr=t=>be(t)?Fr(t):t,Hc=t=>be(t)?Kf(t):t;function Gf(t){fn&&Et&&(t=oe(t),Bf(t.dep||(t.dep=Fc())))}function Qf(t,e){t=oe(t);const n=t.dep;n&&Oa(n)}function me(t){return!!(t&&t.__v_isRef===!0)}function he(t){return Yf(t,!1)}function Dy(t){return Yf(t,!0)}function Yf(t,e){return me(t)?t:new ky(t,e)}class ky{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:oe(e),this._value=n?e:vr(e)}get value(){return Gf(this),this._value}set value(e){const n=this.__v_isShallow||Di(e)||Is(e);e=n?e:oe(e),yr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:vr(e),Qf(this))}}function se(t){return me(t)?t.value:t}const Ry={get:(t,e,n)=>se(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return me(r)&&!me(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Xf(t){return ys(t)?t:new Proxy(t,Ry)}class Ny{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new $c(e,()=>{this._dirty||(this._dirty=!0,Qf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=oe(this);return Gf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Oy(t,e,n=!1){let s,r;const i=Z(t);return i?(s=t,r=Tt):(s=t.get,r=t.set),new Ny(s,r,i||!r,n)}function dn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){ao(i,e,n)}return r}function It(t,e,n,s){if(Z(t)){const i=dn(t,e,n,s);return i&&Df(i)&&i.catch(o=>{ao(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(It(t[i],e,n,s));return r}function ao(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){dn(c,null,10,[t,o,a]);return}}Py(t,n,r,s)}function Py(t,e,n,s=!0){console.error(t)}let wr=!1,Pa=!1;const We=[];let Mt=0;const vs=[];let Wt=null,Nn=0;const Jf=Promise.resolve();let zc=null;function Zf(t){const e=zc||Jf;return t?e.then(this?t.bind(this):t):e}function My(t){let e=Mt+1,n=We.length;for(;e<n;){const s=e+n>>>1;Er(We[s])<t?e=s+1:n=s}return e}function Kc(t){(!We.length||!We.includes(t,wr&&t.allowRecurse?Mt+1:Mt))&&(t.id==null?We.push(t):We.splice(My(t.id),0,t),ed())}function ed(){!wr&&!Pa&&(Pa=!0,zc=Jf.then(nd))}function Ly(t){const e=We.indexOf(t);e>Mt&&We.splice(e,1)}function Fy(t){W(t)?vs.push(...t):(!Wt||!Wt.includes(t,t.allowRecurse?Nn+1:Nn))&&vs.push(t),ed()}function bu(t,e=wr?Mt+1:0){for(;e<We.length;e++){const n=We[e];n&&n.pre&&(We.splice(e,1),e--,n())}}function td(t){if(vs.length){const e=[...new Set(vs)];if(vs.length=0,Wt){Wt.push(...e);return}for(Wt=e,Wt.sort((n,s)=>Er(n)-Er(s)),Nn=0;Nn<Wt.length;Nn++)Wt[Nn]();Wt=null,Nn=0}}const Er=t=>t.id==null?1/0:t.id,$y=(t,e)=>{const n=Er(t)-Er(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function nd(t){Pa=!1,wr=!0,We.sort($y);const e=Tt;try{for(Mt=0;Mt<We.length;Mt++){const n=We[Mt];n&&n.active!==!1&&dn(n,null,14)}}finally{Mt=0,We.length=0,td(),wr=!1,zc=null,(We.length||vs.length)&&nd()}}function By(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ye;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||ye;f&&(r=n.map(g=>Ne(g)?g.trim():g)),h&&(r=n.map(Aa))}let a,c=s[a=Qo(e)]||s[a=Qo(Ts(e))];!c&&i&&(c=s[a=Qo(Fs(e))]),c&&It(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,It(l,t,6,r)}}function sd(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Z(t)){const c=l=>{const u=sd(l,e,!0);u&&(a=!0,Me(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(be(t)&&s.set(t,null),null):(W(i)?i.forEach(c=>o[c]=null):Me(o,i),be(t)&&s.set(t,o),o)}function co(t,e){return!t||!so(e)?!1:(e=e.slice(2).replace(/Once$/,""),re(t,e[0].toLowerCase()+e.slice(1))||re(t,Fs(e))||re(t,e))}let bt=null,rd=null;function ki(t){const e=bt;return bt=t,rd=t&&t.type.__scopeId||null,e}function cs(t,e=bt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Ru(-1);const i=ki(e);let o;try{o=t(...r)}finally{ki(i),s._d&&Ru(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Yo(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:g,ctx:w,inheritAttrs:E}=t;let C,R;const P=ki(t);try{if(n.shapeFlag&4){const N=r||s;C=Pt(u.call(N,N,h,i,g,f,w)),R=c}else{const N=e;C=Pt(N.length>1?N(i,{attrs:c,slots:a,emit:l}):N(i,null)),R=e.props?c:Vy(c)}}catch(N){or.length=0,ao(N,t,1),C=Se(zn)}let z=C;if(R&&E!==!1){const N=Object.keys(R),{shapeFlag:G}=z;N.length&&G&7&&(o&&N.some(Nc)&&(R=Uy(R,o)),z=Kn(z,R))}return n.dirs&&(z=Kn(z),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&(z.transition=n.transition),C=z,ki(P),C}const Vy=t=>{let e;for(const n in t)(n==="class"||n==="style"||so(n))&&((e||(e={}))[n]=t[n]);return e},Uy=(t,e)=>{const n={};for(const s in t)(!Nc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function jy(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?_u(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!co(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?_u(s,o,l):!0:!!o;return!1}function _u(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!co(n,i))return!0}return!1}function qy({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Hy=t=>t.__isSuspense;function zy(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):Fy(t)}function id(t,e){return Wc(t,null,e)}const ai={};function Ei(t,e,n){return Wc(t,e,n)}function Wc(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=ye){var a;const c=ty()===((a=Ge)==null?void 0:a.scope)?Ge:null;let l,u=!1,h=!1;if(me(t)?(l=()=>t.value,u=Di(t)):ys(t)?(l=()=>t,s=!0):W(t)?(h=!0,u=t.some(N=>ys(N)||Di(N)),l=()=>t.map(N=>{if(me(N))return N.value;if(ys(N))return Mn(N);if(Z(N))return dn(N,c,2)})):Z(t)?e?l=()=>dn(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),It(t,c,3,[g])}:l=Tt,e&&s){const N=l;l=()=>Mn(N())}let f,g=N=>{f=P.onStop=()=>{dn(N,c,4)}},w;if(_r)if(g=Tt,e?n&&It(e,c,3,[l(),h?[]:void 0,g]):l(),r==="sync"){const N=L0();w=N.__watcherHandles||(N.__watcherHandles=[])}else return Tt;let E=h?new Array(t.length).fill(ai):ai;const C=()=>{if(!!P.active)if(e){const N=P.run();(s||u||(h?N.some((G,V)=>yr(G,E[V])):yr(N,E)))&&(f&&f(),It(e,c,3,[N,E===ai?void 0:h&&E[0]===ai?[]:E,g]),E=N)}else P.run()};C.allowRecurse=!!e;let R;r==="sync"?R=C:r==="post"?R=()=>it(C,c&&c.suspense):(C.pre=!0,c&&(C.id=c.uid),R=()=>Kc(C));const P=new $c(l,R);e?n?C():E=P.run():r==="post"?it(P.run.bind(P),c&&c.suspense):P.run();const z=()=>{P.stop(),c&&c.scope&&Oc(c.scope.effects,P)};return w&&w.push(z),z}function Ky(t,e,n){const s=this.proxy,r=Ne(t)?t.includes(".")?od(s,t):()=>s[t]:t.bind(s,s);let i;Z(e)?i=e:(i=e.handler,n=e);const o=Ge;Ss(this);const a=Wc(r,i.bind(s),n);return o?Ss(o):jn(),a}function od(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Mn(t,e){if(!be(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),me(t))Mn(t.value,e);else if(W(t))for(let n=0;n<t.length;n++)Mn(t[n],e);else if(Af(t)||ms(t))t.forEach(n=>{Mn(n,e)});else if(Rf(t))for(const n in t)Mn(t[n],e);return t}function Lt(t,e){const n=bt;if(n===null)return t;const s=po(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=ye]=e[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Mn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Dn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&($s(),It(c,n,8,[t.el,a,t,e]),Bs())}}function $r(t,e){return Z(t)?(()=>Me({name:t.name},e,{setup:t}))():t}const bi=t=>!!t.type.__asyncLoader,ad=t=>t.type.__isKeepAlive;function Wy(t,e){cd(t,"a",e)}function Gy(t,e){cd(t,"da",e)}function cd(t,e,n=Ge){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(lo(e,s,n),n){let r=n.parent;for(;r&&r.parent;)ad(r.parent.vnode)&&Qy(s,e,n,r),r=r.parent}}function Qy(t,e,n,s){const r=lo(e,t,s,!0);uo(()=>{Oc(s[e],r)},n)}function lo(t,e,n=Ge,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;$s(),Ss(n);const a=It(e,n,t,o);return jn(),Bs(),a});return s?r.unshift(i):r.push(i),i}}const sn=t=>(e,n=Ge)=>(!_r||t==="sp")&&lo(t,(...s)=>e(...s),n),Yy=sn("bm"),Vs=sn("m"),Xy=sn("bu"),Jy=sn("u"),Zy=sn("bum"),uo=sn("um"),e0=sn("sp"),t0=sn("rtg"),n0=sn("rtc");function s0(t,e=Ge){lo("ec",t,e)}const r0=Symbol.for("v-ndc");function ld(t,e,n,s){let r;const i=n&&n[s];if(W(t)||Ne(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(be(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Ma=t=>t?Ed(t)?po(t)||t.proxy:Ma(t.parent):null,ir=Me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ma(t.parent),$root:t=>Ma(t.root),$emit:t=>t.emit,$options:t=>Gc(t),$forceUpdate:t=>t.f||(t.f=()=>Kc(t.update)),$nextTick:t=>t.n||(t.n=Zf.bind(t.proxy)),$watch:t=>Ky.bind(t)}),Xo=(t,e)=>t!==ye&&!t.__isScriptSetup&&re(t,e),i0={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Xo(s,e))return o[e]=1,s[e];if(r!==ye&&re(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&re(l,e))return o[e]=3,i[e];if(n!==ye&&re(n,e))return o[e]=4,n[e];La&&(o[e]=0)}}const u=ir[e];let h,f;if(u)return e==="$attrs"&&ct(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ye&&re(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,re(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Xo(r,e)?(r[e]=n,!0):s!==ye&&re(s,e)?(s[e]=n,!0):re(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==ye&&re(t,o)||Xo(e,o)||(a=i[0])&&re(a,o)||re(s,o)||re(ir,o)||re(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:re(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Tu(t){return W(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let La=!0;function o0(t){const e=Gc(t),n=t.proxy,s=t.ctx;La=!1,e.beforeCreate&&Iu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:w,activated:E,deactivated:C,beforeDestroy:R,beforeUnmount:P,destroyed:z,unmounted:N,render:G,renderTracked:V,renderTriggered:Ie,errorCaptured:lt,serverPrefetch:Ht,expose:Dt,inheritAttrs:rn,components:An,directives:kt,filters:Ks}=e;if(l&&a0(l,s,null),o)for(const pe in o){const ae=o[pe];Z(ae)&&(s[pe]=ae.bind(n))}if(r){const pe=r.call(n,n);be(pe)&&(t.data=Fr(pe))}if(La=!0,i)for(const pe in i){const ae=i[pe],zt=Z(ae)?ae.bind(n,n):Z(ae.get)?ae.get.bind(n,n):Tt,on=!Z(ae)&&Z(ae.set)?ae.set.bind(n):Tt,Rt=Qe({get:zt,set:on});Object.defineProperty(s,pe,{enumerable:!0,configurable:!0,get:()=>Rt.value,set:rt=>Rt.value=rt})}if(a)for(const pe in a)ud(a[pe],s,n,pe);if(c){const pe=Z(c)?c.call(n):c;Reflect.ownKeys(pe).forEach(ae=>{Un(ae,pe[ae])})}u&&Iu(u,t,"c");function Oe(pe,ae){W(ae)?ae.forEach(zt=>pe(zt.bind(n))):ae&&pe(ae.bind(n))}if(Oe(Yy,h),Oe(Vs,f),Oe(Xy,g),Oe(Jy,w),Oe(Wy,E),Oe(Gy,C),Oe(s0,lt),Oe(n0,V),Oe(t0,Ie),Oe(Zy,P),Oe(uo,N),Oe(e0,Ht),W(Dt))if(Dt.length){const pe=t.exposed||(t.exposed={});Dt.forEach(ae=>{Object.defineProperty(pe,ae,{get:()=>n[ae],set:zt=>n[ae]=zt})})}else t.exposed||(t.exposed={});G&&t.render===Tt&&(t.render=G),rn!=null&&(t.inheritAttrs=rn),An&&(t.components=An),kt&&(t.directives=kt)}function a0(t,e,n=Tt){W(t)&&(t=Fa(t));for(const s in t){const r=t[s];let i;be(r)?"default"in r?i=yt(r.from||s,r.default,!0):i=yt(r.from||s):i=yt(r),me(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Iu(t,e,n){It(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ud(t,e,n,s){const r=s.includes(".")?od(n,s):()=>n[s];if(Ne(t)){const i=e[t];Z(i)&&Ei(r,i)}else if(Z(t))Ei(r,t.bind(n));else if(be(t))if(W(t))t.forEach(i=>ud(i,e,n,s));else{const i=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(i)&&Ei(r,i,t)}}function Gc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>Ri(c,l,o,!0)),Ri(c,e,o)),be(e)&&i.set(e,c),c}function Ri(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ri(t,i,n,!0),r&&r.forEach(o=>Ri(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=c0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const c0={data:Su,props:Cu,emits:Cu,methods:Zs,computed:Zs,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Zs,directives:Zs,watch:u0,provide:Su,inject:l0};function Su(t,e){return e?t?function(){return Me(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function l0(t,e){return Zs(Fa(t),Fa(e))}function Fa(t){if(W(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function tt(t,e){return t?[...new Set([].concat(t,e))]:e}function Zs(t,e){return t?Me(Object.create(null),t,e):e}function Cu(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:Me(Object.create(null),Tu(t),Tu(e!=null?e:{})):e}function u0(t,e){if(!t)return e;if(!e)return t;const n=Me(Object.create(null),t);for(const s in e)n[s]=tt(t[s],e[s]);return n}function hd(){return{app:null,config:{isNativeTag:Um,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let h0=0;function f0(t,e){return function(s,r=null){Z(s)||(s=Me({},s)),r!=null&&!be(r)&&(r=null);const i=hd(),o=new Set;let a=!1;const c=i.app={_uid:h0++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:F0,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&Z(l.install)?(o.add(l),l.install(c,...u)):Z(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=Se(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,po(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){Ni=c;try{return l()}finally{Ni=null}}};return c}}let Ni=null;function Un(t,e){if(Ge){let n=Ge.provides;const s=Ge.parent&&Ge.parent.provides;s===n&&(n=Ge.provides=Object.create(s)),n[t]=e}}function yt(t,e,n=!1){const s=Ge||bt;if(s||Ni){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Ni._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Z(e)?e.call(s&&s.proxy):e}}function d0(t,e,n,s=!1){const r={},i={};Ai(i,fo,1),t.propsDefaults=Object.create(null),fd(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Ay(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function p0(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=oe(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(co(t.emitsOptions,f))continue;const g=e[f];if(c)if(re(i,f))g!==i[f]&&(i[f]=g,l=!0);else{const w=Ts(f);r[w]=$a(c,a,w,g,t,!1)}else g!==i[f]&&(i[f]=g,l=!0)}}}else{fd(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!re(e,h)&&((u=Fs(h))===h||!re(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=$a(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!re(e,h)&&!0)&&(delete i[h],l=!0)}l&&Xt(t,"set","$attrs")}function fd(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(vi(c))continue;const l=e[c];let u;r&&re(r,u=Ts(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:co(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=oe(n),l=a||ye;for(let u=0;u<i.length;u++){const h=i[u];n[h]=$a(r,c,h,l[h],t,!re(l,h))}}return o}function $a(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=re(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Z(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Ss(r),s=l[n]=c.call(null,e),jn())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Fs(n))&&(s=!0))}return s}function dd(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!Z(t)){const u=h=>{c=!0;const[f,g]=dd(h,e,!0);Me(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return be(t)&&s.set(t,gs),gs;if(W(i))for(let u=0;u<i.length;u++){const h=Ts(i[u]);xu(h)&&(o[h]=ye)}else if(i)for(const u in i){const h=Ts(u);if(xu(h)){const f=i[u],g=o[h]=W(f)||Z(f)?{type:f}:Me({},f);if(g){const w=ku(Boolean,g.type),E=ku(String,g.type);g[0]=w>-1,g[1]=E<0||w<E,(w>-1||re(g,"default"))&&a.push(h)}}}const l=[o,a];return be(t)&&s.set(t,l),l}function xu(t){return t[0]!=="$"}function Au(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Du(t,e){return Au(t)===Au(e)}function ku(t,e){return W(e)?e.findIndex(n=>Du(n,t)):Z(e)&&Du(e,t)?0:-1}const pd=t=>t[0]==="_"||t==="$stable",Qc=t=>W(t)?t.map(Pt):[Pt(t)],g0=(t,e,n)=>{if(e._n)return e;const s=cs((...r)=>Qc(e(...r)),n);return s._c=!1,s},gd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(pd(r))continue;const i=t[r];if(Z(i))e[r]=g0(r,i,s);else if(i!=null){const o=Qc(i);e[r]=()=>o}}},md=(t,e)=>{const n=Qc(e);t.slots.default=()=>n},m0=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=oe(e),Ai(e,"_",n)):gd(e,t.slots={})}else t.slots={},e&&md(t,e);Ai(t.slots,fo,1)},y0=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=ye;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Me(r,e),!n&&a===1&&delete r._):(i=!e.$stable,gd(e,r)),o=e}else e&&(md(t,e),o={default:1});if(i)for(const a in r)!pd(a)&&!(a in o)&&delete r[a]};function Ba(t,e,n,s,r=!1){if(W(t)){t.forEach((f,g)=>Ba(f,e&&(W(e)?e[g]:e),n,s,r));return}if(bi(s)&&!r)return;const i=s.shapeFlag&4?po(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===ye?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Ne(l)?(u[l]=null,re(h,l)&&(h[l]=null)):me(l)&&(l.value=null)),Z(c))dn(c,a,12,[o,u]);else{const f=Ne(c),g=me(c);if(f||g){const w=()=>{if(t.f){const E=f?re(h,c)?h[c]:u[c]:c.value;r?W(E)&&Oc(E,i):W(E)?E.includes(i)||E.push(i):f?(u[c]=[i],re(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,re(h,c)&&(h[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(w.id=-1,it(w,n)):w()}}}const it=zy;function v0(t){return w0(t)}function w0(t,e){const n=Da();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Tt,insertStaticContent:w}=t,E=(d,p,m,v=null,_=null,T=null,M=!1,A=null,D=!!p.dynamicChildren)=>{if(d===p)return;d&&!Gs(d,p)&&(v=b(d),rt(d,_,T,!0),d=null),p.patchFlag===-2&&(D=!1,p.dynamicChildren=null);const{type:S,ref:U,shapeFlag:F}=p;switch(S){case ho:C(d,p,m,v);break;case zn:R(d,p,m,v);break;case _i:d==null&&P(p,m,v,M);break;case nt:An(d,p,m,v,_,T,M,A,D);break;default:F&1?G(d,p,m,v,_,T,M,A,D):F&6?kt(d,p,m,v,_,T,M,A,D):(F&64||F&128)&&S.process(d,p,m,v,_,T,M,A,D,k)}U!=null&&_&&Ba(U,d&&d.ref,T,p||d,!p)},C=(d,p,m,v)=>{if(d==null)s(p.el=a(p.children),m,v);else{const _=p.el=d.el;p.children!==d.children&&l(_,p.children)}},R=(d,p,m,v)=>{d==null?s(p.el=c(p.children||""),m,v):p.el=d.el},P=(d,p,m,v)=>{[d.el,d.anchor]=w(d.children,p,m,v,d.el,d.anchor)},z=({el:d,anchor:p},m,v)=>{let _;for(;d&&d!==p;)_=f(d),s(d,m,v),d=_;s(p,m,v)},N=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),r(d),d=m;r(p)},G=(d,p,m,v,_,T,M,A,D)=>{M=M||p.type==="svg",d==null?V(p,m,v,_,T,M,A,D):Ht(d,p,_,T,M,A,D)},V=(d,p,m,v,_,T,M,A)=>{let D,S;const{type:U,props:F,shapeFlag:j,transition:Y,dirs:ee}=d;if(D=d.el=o(d.type,T,F&&F.is,F),j&8?u(D,d.children):j&16&&lt(d.children,D,null,v,_,T&&U!=="foreignObject",M,A),ee&&Dn(d,null,v,"created"),Ie(D,d,d.scopeId,M,v),F){for(const de in F)de!=="value"&&!vi(de)&&i(D,de,null,F[de],T,d.children,v,_,qe);"value"in F&&i(D,"value",null,F.value),(S=F.onVnodeBeforeMount)&&Ot(S,v,d)}ee&&Dn(d,null,v,"beforeMount");const ge=(!_||_&&!_.pendingBranch)&&Y&&!Y.persisted;ge&&Y.beforeEnter(D),s(D,p,m),((S=F&&F.onVnodeMounted)||ge||ee)&&it(()=>{S&&Ot(S,v,d),ge&&Y.enter(D),ee&&Dn(d,null,v,"mounted")},_)},Ie=(d,p,m,v,_)=>{if(m&&g(d,m),v)for(let T=0;T<v.length;T++)g(d,v[T]);if(_){let T=_.subTree;if(p===T){const M=_.vnode;Ie(d,M,M.scopeId,M.slotScopeIds,_.parent)}}},lt=(d,p,m,v,_,T,M,A,D=0)=>{for(let S=D;S<d.length;S++){const U=d[S]=A?ln(d[S]):Pt(d[S]);E(null,U,p,m,v,_,T,M,A)}},Ht=(d,p,m,v,_,T,M)=>{const A=p.el=d.el;let{patchFlag:D,dynamicChildren:S,dirs:U}=p;D|=d.patchFlag&16;const F=d.props||ye,j=p.props||ye;let Y;m&&kn(m,!1),(Y=j.onVnodeBeforeUpdate)&&Ot(Y,m,p,d),U&&Dn(p,d,m,"beforeUpdate"),m&&kn(m,!0);const ee=_&&p.type!=="foreignObject";if(S?Dt(d.dynamicChildren,S,A,m,v,ee,T):M||ae(d,p,A,null,m,v,ee,T,!1),D>0){if(D&16)rn(A,p,F,j,m,v,_);else if(D&2&&F.class!==j.class&&i(A,"class",null,j.class,_),D&4&&i(A,"style",F.style,j.style,_),D&8){const ge=p.dynamicProps;for(let de=0;de<ge.length;de++){const Ce=ge[de],vt=F[Ce],is=j[Ce];(is!==vt||Ce==="value")&&i(A,Ce,vt,is,_,d.children,m,v,qe)}}D&1&&d.children!==p.children&&u(A,p.children)}else!M&&S==null&&rn(A,p,F,j,m,v,_);((Y=j.onVnodeUpdated)||U)&&it(()=>{Y&&Ot(Y,m,p,d),U&&Dn(p,d,m,"updated")},v)},Dt=(d,p,m,v,_,T,M)=>{for(let A=0;A<p.length;A++){const D=d[A],S=p[A],U=D.el&&(D.type===nt||!Gs(D,S)||D.shapeFlag&70)?h(D.el):m;E(D,S,U,null,v,_,T,M,!0)}},rn=(d,p,m,v,_,T,M)=>{if(m!==v){if(m!==ye)for(const A in m)!vi(A)&&!(A in v)&&i(d,A,m[A],null,M,p.children,_,T,qe);for(const A in v){if(vi(A))continue;const D=v[A],S=m[A];D!==S&&A!=="value"&&i(d,A,S,D,M,p.children,_,T,qe)}"value"in v&&i(d,"value",m.value,v.value)}},An=(d,p,m,v,_,T,M,A,D)=>{const S=p.el=d?d.el:a(""),U=p.anchor=d?d.anchor:a("");let{patchFlag:F,dynamicChildren:j,slotScopeIds:Y}=p;Y&&(A=A?A.concat(Y):Y),d==null?(s(S,m,v),s(U,m,v),lt(p.children,m,U,_,T,M,A,D)):F>0&&F&64&&j&&d.dynamicChildren?(Dt(d.dynamicChildren,j,m,_,T,M,A),(p.key!=null||_&&p===_.subTree)&&yd(d,p,!0)):ae(d,p,m,U,_,T,M,A,D)},kt=(d,p,m,v,_,T,M,A,D)=>{p.slotScopeIds=A,d==null?p.shapeFlag&512?_.ctx.activate(p,m,v,M,D):Ks(p,m,v,_,T,M,D):ns(d,p,D)},Ks=(d,p,m,v,_,T,M)=>{const A=d.component=D0(d,v,_);if(ad(d)&&(A.ctx.renderer=k),k0(A),A.asyncDep){if(_&&_.registerDep(A,Oe),!d.el){const D=A.subTree=Se(zn);R(null,D,p,m)}return}Oe(A,d,p,m,_,T,M)},ns=(d,p,m)=>{const v=p.component=d.component;if(jy(d,p,m))if(v.asyncDep&&!v.asyncResolved){pe(v,p,m);return}else v.next=p,Ly(v.update),v.update();else p.el=d.el,v.vnode=p},Oe=(d,p,m,v,_,T,M)=>{const A=()=>{if(d.isMounted){let{next:U,bu:F,u:j,parent:Y,vnode:ee}=d,ge=U,de;kn(d,!1),U?(U.el=ee.el,pe(d,U,M)):U=ee,F&&wi(F),(de=U.props&&U.props.onVnodeBeforeUpdate)&&Ot(de,Y,U,ee),kn(d,!0);const Ce=Yo(d),vt=d.subTree;d.subTree=Ce,E(vt,Ce,h(vt.el),b(vt),d,_,T),U.el=Ce.el,ge===null&&qy(d,Ce.el),j&&it(j,_),(de=U.props&&U.props.onVnodeUpdated)&&it(()=>Ot(de,Y,U,ee),_)}else{let U;const{el:F,props:j}=p,{bm:Y,m:ee,parent:ge}=d,de=bi(p);if(kn(d,!1),Y&&wi(Y),!de&&(U=j&&j.onVnodeBeforeMount)&&Ot(U,ge,p),kn(d,!0),F&&ce){const Ce=()=>{d.subTree=Yo(d),ce(F,d.subTree,d,_,null)};de?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Ce()):Ce()}else{const Ce=d.subTree=Yo(d);E(null,Ce,m,v,d,_,T),p.el=Ce.el}if(ee&&it(ee,_),!de&&(U=j&&j.onVnodeMounted)){const Ce=p;it(()=>Ot(U,ge,Ce),_)}(p.shapeFlag&256||ge&&bi(ge.vnode)&&ge.vnode.shapeFlag&256)&&d.a&&it(d.a,_),d.isMounted=!0,p=m=v=null}},D=d.effect=new $c(A,()=>Kc(S),d.scope),S=d.update=()=>D.run();S.id=d.uid,kn(d,!0),S()},pe=(d,p,m)=>{p.component=d;const v=d.vnode.props;d.vnode=p,d.next=null,p0(d,p.props,v,m),y0(d,p.children,m),$s(),bu(),Bs()},ae=(d,p,m,v,_,T,M,A,D=!1)=>{const S=d&&d.children,U=d?d.shapeFlag:0,F=p.children,{patchFlag:j,shapeFlag:Y}=p;if(j>0){if(j&128){on(S,F,m,v,_,T,M,A,D);return}else if(j&256){zt(S,F,m,v,_,T,M,A,D);return}}Y&8?(U&16&&qe(S,_,T),F!==S&&u(m,F)):U&16?Y&16?on(S,F,m,v,_,T,M,A,D):qe(S,_,T,!0):(U&8&&u(m,""),Y&16&&lt(F,m,v,_,T,M,A,D))},zt=(d,p,m,v,_,T,M,A,D)=>{d=d||gs,p=p||gs;const S=d.length,U=p.length,F=Math.min(S,U);let j;for(j=0;j<F;j++){const Y=p[j]=D?ln(p[j]):Pt(p[j]);E(d[j],Y,m,null,_,T,M,A,D)}S>U?qe(d,_,T,!0,!1,F):lt(p,m,v,_,T,M,A,D,F)},on=(d,p,m,v,_,T,M,A,D)=>{let S=0;const U=p.length;let F=d.length-1,j=U-1;for(;S<=F&&S<=j;){const Y=d[S],ee=p[S]=D?ln(p[S]):Pt(p[S]);if(Gs(Y,ee))E(Y,ee,m,null,_,T,M,A,D);else break;S++}for(;S<=F&&S<=j;){const Y=d[F],ee=p[j]=D?ln(p[j]):Pt(p[j]);if(Gs(Y,ee))E(Y,ee,m,null,_,T,M,A,D);else break;F--,j--}if(S>F){if(S<=j){const Y=j+1,ee=Y<U?p[Y].el:v;for(;S<=j;)E(null,p[S]=D?ln(p[S]):Pt(p[S]),m,ee,_,T,M,A,D),S++}}else if(S>j)for(;S<=F;)rt(d[S],_,T,!0),S++;else{const Y=S,ee=S,ge=new Map;for(S=ee;S<=j;S++){const ut=p[S]=D?ln(p[S]):Pt(p[S]);ut.key!=null&&ge.set(ut.key,S)}let de,Ce=0;const vt=j-ee+1;let is=!1,uu=0;const Ws=new Array(vt);for(S=0;S<vt;S++)Ws[S]=0;for(S=Y;S<=F;S++){const ut=d[S];if(Ce>=vt){rt(ut,_,T,!0);continue}let Nt;if(ut.key!=null)Nt=ge.get(ut.key);else for(de=ee;de<=j;de++)if(Ws[de-ee]===0&&Gs(ut,p[de])){Nt=de;break}Nt===void 0?rt(ut,_,T,!0):(Ws[Nt-ee]=S+1,Nt>=uu?uu=Nt:is=!0,E(ut,p[Nt],m,null,_,T,M,A,D),Ce++)}const hu=is?E0(Ws):gs;for(de=hu.length-1,S=vt-1;S>=0;S--){const ut=ee+S,Nt=p[ut],fu=ut+1<U?p[ut+1].el:v;Ws[S]===0?E(null,Nt,m,fu,_,T,M,A,D):is&&(de<0||S!==hu[de]?Rt(Nt,m,fu,2):de--)}}},Rt=(d,p,m,v,_=null)=>{const{el:T,type:M,transition:A,children:D,shapeFlag:S}=d;if(S&6){Rt(d.component.subTree,p,m,v);return}if(S&128){d.suspense.move(p,m,v);return}if(S&64){M.move(d,p,m,k);return}if(M===nt){s(T,p,m);for(let F=0;F<D.length;F++)Rt(D[F],p,m,v);s(d.anchor,p,m);return}if(M===_i){z(d,p,m);return}if(v!==2&&S&1&&A)if(v===0)A.beforeEnter(T),s(T,p,m),it(()=>A.enter(T),_);else{const{leave:F,delayLeave:j,afterLeave:Y}=A,ee=()=>s(T,p,m),ge=()=>{F(T,()=>{ee(),Y&&Y()})};j?j(T,ee,ge):ge()}else s(T,p,m)},rt=(d,p,m,v=!1,_=!1)=>{const{type:T,props:M,ref:A,children:D,dynamicChildren:S,shapeFlag:U,patchFlag:F,dirs:j}=d;if(A!=null&&Ba(A,null,m,d,!0),U&256){p.ctx.deactivate(d);return}const Y=U&1&&j,ee=!bi(d);let ge;if(ee&&(ge=M&&M.onVnodeBeforeUnmount)&&Ot(ge,p,d),U&6)ti(d.component,m,v);else{if(U&128){d.suspense.unmount(m,v);return}Y&&Dn(d,null,p,"beforeUnmount"),U&64?d.type.remove(d,p,m,_,k,v):S&&(T!==nt||F>0&&F&64)?qe(S,p,m,!1,!0):(T===nt&&F&384||!_&&U&16)&&qe(D,p,m),v&&ss(d)}(ee&&(ge=M&&M.onVnodeUnmounted)||Y)&&it(()=>{ge&&Ot(ge,p,d),Y&&Dn(d,null,p,"unmounted")},m)},ss=d=>{const{type:p,el:m,anchor:v,transition:_}=d;if(p===nt){rs(m,v);return}if(p===_i){N(d);return}const T=()=>{r(m),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:M,delayLeave:A}=_,D=()=>M(m,T);A?A(d.el,T,D):D()}else T()},rs=(d,p)=>{let m;for(;d!==p;)m=f(d),r(d),d=m;r(p)},ti=(d,p,m)=>{const{bum:v,scope:_,update:T,subTree:M,um:A}=d;v&&wi(v),_.stop(),T&&(T.active=!1,rt(M,d,p,m)),A&&it(A,p),it(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},qe=(d,p,m,v=!1,_=!1,T=0)=>{for(let M=T;M<d.length;M++)rt(d[M],p,m,v,_)},b=d=>d.shapeFlag&6?b(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),L=(d,p,m)=>{d==null?p._vnode&&rt(p._vnode,null,null,!0):E(p._vnode||null,d,p,null,null,null,m),bu(),td(),p._vnode=d},k={p:E,um:rt,m:Rt,r:ss,mt:Ks,mc:lt,pc:ae,pbc:Dt,n:b,o:t};let B,ce;return e&&([B,ce]=e(k)),{render:L,hydrate:B,createApp:f0(L,B)}}function kn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function yd(t,e,n=!1){const s=t.children,r=e.children;if(W(s)&&W(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ln(r[i]),a.el=o.el),n||yd(o,a)),a.type===ho&&(a.el=o.el)}}function E0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const b0=t=>t.__isTeleport,nt=Symbol.for("v-fgt"),ho=Symbol.for("v-txt"),zn=Symbol.for("v-cmt"),_i=Symbol.for("v-stc"),or=[];let _t=null;function Ae(t=!1){or.push(_t=t?null:[])}function _0(){or.pop(),_t=or[or.length-1]||null}let br=1;function Ru(t){br+=t}function vd(t){return t.dynamicChildren=br>0?_t||gs:null,_0(),br>0&&_t&&_t.push(t),t}function Ve(t,e,n,s,r,i){return vd(y(t,e,n,s,r,i,!0))}function Va(t,e,n,s,r){return vd(Se(t,e,n,s,r,!0))}function Ua(t){return t?t.__v_isVNode===!0:!1}function Gs(t,e){return t.type===e.type&&t.key===e.key}const fo="__vInternal",wd=({key:t})=>t!=null?t:null,Ti=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ne(t)||me(t)||Z(t)?{i:bt,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,s=0,r=null,i=t===nt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&wd(e),ref:e&&Ti(e),scopeId:rd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:bt};return a?(Yc(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Ne(n)?8:16),br>0&&!o&&_t&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&_t.push(c),c}const Se=T0;function T0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===r0)&&(t=zn),Ua(t)){const a=Kn(t,e,!0);return n&&Yc(a,n),br>0&&!i&&_t&&(a.shapeFlag&6?_t[_t.indexOf(t)]=a:_t.push(a)),a.patchFlag|=-2,a}if(P0(t)&&(t=t.__vccOpts),e){e=I0(e);let{class:a,style:c}=e;a&&!Ne(a)&&(e.class=Pn(a)),be(c)&&(Wf(c)&&!W(c)&&(c=Me({},c)),e.style=Lc(c))}const o=Ne(t)?1:Hy(t)?128:b0(t)?64:be(t)?4:Z(t)?2:0;return y(t,e,n,s,r,o,i,!0)}function I0(t){return t?Wf(t)||fo in t?Me({},t):t:null}function Kn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?C0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&wd(a),ref:e&&e.ref?n&&r?W(r)?r.concat(Ti(e)):[r,Ti(e)]:Ti(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kn(t.ssContent),ssFallback:t.ssFallback&&Kn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ja(t=" ",e=0){return Se(ho,null,t,e)}function S0(t,e){const n=Se(_i,null,t);return n.staticCount=e,n}function qa(t="",e=!1){return e?(Ae(),Va(zn,null,t)):Se(zn,null,t)}function Pt(t){return t==null||typeof t=="boolean"?Se(zn):W(t)?Se(nt,null,t.slice()):typeof t=="object"?ln(t):Se(ho,null,String(t))}function ln(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kn(t)}function Yc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Yc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(fo in e)?e._ctx=bt:r===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),s&64?(n=16,e=[ja(e)]):n=8);t.children=e,t.shapeFlag|=n}function C0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Pn([e.class,s.class]));else if(r==="style")e.style=Lc([e.style,s.style]);else if(so(r)){const i=e[r],o=s[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ot(t,e,n,s=null){It(t,e,7,[n,s])}const x0=hd();let A0=0;function D0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||x0,i={uid:A0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Mf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dd(s,r),emitsOptions:sd(s,r),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:s.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=By.bind(null,i),t.ce&&t.ce(i),i}let Ge=null,Xc,os,Nu="__VUE_INSTANCE_SETTERS__";(os=Da()[Nu])||(os=Da()[Nu]=[]),os.push(t=>Ge=t),Xc=t=>{os.length>1?os.forEach(e=>e(t)):os[0](t)};const Ss=t=>{Xc(t),t.scope.on()},jn=()=>{Ge&&Ge.scope.off(),Xc(null)};function Ed(t){return t.vnode.shapeFlag&4}let _r=!1;function k0(t,e=!1){_r=e;const{props:n,children:s}=t.vnode,r=Ed(t);d0(t,n,r,e),m0(t,s);const i=r?R0(t,e):void 0;return _r=!1,i}function R0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=qc(new Proxy(t.ctx,i0));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?O0(t):null;Ss(t),$s();const i=dn(s,t,0,[t.props,r]);if(Bs(),jn(),Df(i)){if(i.then(jn,jn),e)return i.then(o=>{Ou(t,o,e)}).catch(o=>{ao(o,t,0)});t.asyncDep=i}else Ou(t,i,e)}else bd(t,e)}function Ou(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:be(e)&&(t.setupState=Xf(e)),bd(t,n)}let Pu;function bd(t,e,n){const s=t.type;if(!t.render){if(!e&&Pu&&!s.render){const r=s.template||Gc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Me(Me({isCustomElement:i,delimiters:a},o),c);s.render=Pu(r,l)}}t.render=s.render||Tt}Ss(t),$s(),o0(t),Bs(),jn()}function N0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ct(t,"get","$attrs"),e[n]}}))}function O0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return N0(t)},slots:t.slots,emit:t.emit,expose:e}}function po(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Xf(qc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ir)return ir[n](t)},has(e,n){return n in e||n in ir}}))}function P0(t){return Z(t)&&"__vccOpts"in t}const Qe=(t,e)=>Oy(t,e,_r);function Jc(t,e,n){const s=arguments.length;return s===2?be(e)&&!W(e)?Ua(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ua(n)&&(n=[n]),Se(t,e,n))}const M0=Symbol.for("v-scx"),L0=()=>yt(M0),F0="3.3.2",$0="http://www.w3.org/2000/svg",On=typeof document<"u"?document:null,Mu=On&&On.createElement("template"),B0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?On.createElementNS($0,t):On.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Mu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Mu.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function V0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function U0(t,e,n){const s=t.style,r=Ne(n);if(n&&!r){if(e&&!Ne(e))for(const i in e)n[i]==null&&Ha(s,i,"");for(const i in n)Ha(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Lu=/\s*!important$/;function Ha(t,e,n){if(W(n))n.forEach(s=>Ha(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=j0(t,e);Lu.test(n)?t.setProperty(Fs(s),n.replace(Lu,""),"important"):t[s]=n}}const Fu=["Webkit","Moz","ms"],Jo={};function j0(t,e){const n=Jo[e];if(n)return n;let s=Ts(e);if(s!=="filter"&&s in t)return Jo[e]=s;s=Nf(s);for(let r=0;r<Fu.length;r++){const i=Fu[r]+s;if(i in t)return Jo[e]=i}return e}const $u="http://www.w3.org/1999/xlink";function q0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS($u,e.slice(6,e.length)):t.setAttributeNS($u,e,n);else{const i=Jm(e);n==null||i&&!Of(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function H0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Of(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function ls(t,e,n,s){t.addEventListener(e,n,s)}function z0(t,e,n,s){t.removeEventListener(e,n,s)}function K0(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=W0(e);if(s){const l=i[e]=Y0(s,r);ls(t,a,l,c)}else o&&(z0(t,a,o,c),i[e]=void 0)}}const Bu=/(?:Once|Passive|Capture)$/;function W0(t){let e;if(Bu.test(t)){e={};let s;for(;s=t.match(Bu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fs(t.slice(2)),e]}let Zo=0;const G0=Promise.resolve(),Q0=()=>Zo||(G0.then(()=>Zo=0),Zo=Date.now());function Y0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;It(X0(s,n.value),e,5,[s])};return n.value=t,n.attached=Q0(),n}function X0(t,e){if(W(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Vu=/^on[a-z]/,J0=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?V0(t,s,r):e==="style"?U0(t,n,s):so(e)?Nc(e)||K0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Z0(t,e,s,r))?H0(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),q0(t,e,s,r))};function Z0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Vu.test(e)&&Z(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Vu.test(e)&&Ne(n)?!1:e in t}const Uu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?n=>wi(e,n):e};function ev(t){t.target.composing=!0}function ju(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ft={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Uu(r);const i=s||r.props&&r.props.type==="number";ls(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Aa(a)),t._assign(a)}),n&&ls(t,"change",()=>{t.value=t.value.trim()}),e||(ls(t,"compositionstart",ev),ls(t,"compositionend",ju),ls(t,"change",ju))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Uu(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Aa(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},tv=["ctrl","shift","alt","meta"],nv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>tv.some(n=>t[`${n}Key`]&&!e.includes(n))},_d=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=nv[e[r]];if(i&&i(n,e))return}return t(n,...s)},sv=Me({patchProp:J0},B0);let qu;function rv(){return qu||(qu=v0(sv))}const iv=(...t)=>{const e=rv().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=ov(s);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function ov(t){return Ne(t)?document.querySelector(t):t}var av=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const cv=Symbol();var Hu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hu||(Hu={}));function lv(){const t=Zm(!0),e=t.run(()=>he({}));let n=[],s=[];const r=qc({install(i){r._a=i,i.provide(cv,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!av?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const us=typeof window<"u";function uv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ue=Object.assign;function ea(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ct(r)?r.map(t):t(r)}return n}const ar=()=>{},Ct=Array.isArray,hv=/\/$/,fv=t=>t.replace(hv,"");function ta(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=mv(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function dv(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pv(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Cs(e.matched[s],n.matched[r])&&Td(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Cs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Td(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!gv(t[n],e[n]))return!1;return!0}function gv(t,e){return Ct(t)?Ku(t,e):Ct(e)?Ku(e,t):t===e}function Ku(t,e){return Ct(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function mv(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Tr;(function(t){t.pop="pop",t.push="push"})(Tr||(Tr={}));var cr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(cr||(cr={}));function yv(t){if(!t)if(us){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fv(t)}const vv=/^[^#]+#/;function wv(t,e){return t.replace(vv,"#")+e}function Ev(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const go=()=>({left:window.pageXOffset,top:window.pageYOffset});function bv(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Ev(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Wu(t,e){return(history.state?history.state.position-e:-1)+t}const za=new Map;function _v(t,e){za.set(t,e)}function Tv(t){const e=za.get(t);return za.delete(t),e}let Iv=()=>location.protocol+"//"+location.host;function Id(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),zu(c,"")}return zu(n,t)+s+r}function Sv(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=Id(t,location),w=n.value,E=e.value;let C=0;if(f){if(n.value=g,e.value=f,o&&o===w){o=null;return}C=E?f.position-E.position:0}else s(g);r.forEach(R=>{R(n.value,w,{delta:C,type:Tr.pop,direction:C?C>0?cr.forward:cr.back:cr.unknown})})};function c(){o=n.value}function l(f){r.push(f);const g=()=>{const w=r.indexOf(f);w>-1&&r.splice(w,1)};return i.push(g),g}function u(){const{history:f}=window;!f.state||f.replaceState(ue({},f.state,{scroll:go()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Gu(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?go():null}}function Cv(t){const{history:e,location:n}=window,s={value:Id(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:Iv()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(c,l){const u=ue({},e.state,Gu(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=ue({},r.value,e.state,{forward:c,scroll:go()});i(u.current,u,!0);const h=ue({},Gu(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function xv(t){t=yv(t);const e=Cv(t),n=Sv(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ue({location:"",base:t,go:s,createHref:wv.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Av(t){return typeof t=="string"||t&&typeof t=="object"}function Sd(t){return typeof t=="string"||typeof t=="symbol"}const cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cd=Symbol("");var Qu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Qu||(Qu={}));function xs(t,e){return ue(new Error,{type:t,[Cd]:!0},e)}function Kt(t,e){return t instanceof Error&&Cd in t&&(e==null||!!(t.type&e))}const Yu="[^/]+?",Dv={sensitive:!1,strict:!1,start:!0,end:!0},kv=/[.+*?^${}()[\]/\\]/g;function Rv(t,e){const n=ue({},Dv,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(kv,"\\$&"),g+=40;else if(f.type===1){const{value:w,repeatable:E,optional:C,regexp:R}=f;i.push({name:w,repeatable:E,optional:C});const P=R||Yu;if(P!==Yu){g+=10;try{new RegExp(`(${P})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${w}" (${P}): `+N.message)}}let z=E?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(z=C&&l.length<2?`(?:/${z})`:"/"+z),C&&(z+="?"),r+=z,g+=20,C&&(g+=-8),E&&(g+=-20),P===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",w=i[f-1];h[w.name]=g&&w.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:E,optional:C}=g,R=w in l?l[w]:"";if(Ct(R)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const P=Ct(R)?R.join("/"):R;if(!P)if(C)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=P}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function Nv(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Ov(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Nv(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Xu(s))return 1;if(Xu(r))return-1}return r.length-s.length}function Xu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Pv={type:0,value:""},Mv=/[a-zA-Z0-9_]/;function Lv(t){if(!t)return[[]];if(t==="/")return[[Pv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){!l||(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:Mv.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function Fv(t,e,n){const s=Rv(Lv(t.path),n),r=ue(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function $v(t,e){const n=[],s=new Map;e=eh({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const g=!f,w=Bv(u);w.aliasOf=f&&f.record;const E=eh(e,u),C=[w];if("alias"in u){const z=typeof u.alias=="string"?[u.alias]:u.alias;for(const N of z)C.push(ue({},w,{components:f?f.record.components:w.components,path:N,aliasOf:f?f.record:w}))}let R,P;for(const z of C){const{path:N}=z;if(h&&N[0]!=="/"){const G=h.record.path,V=G[G.length-1]==="/"?"":"/";z.path=h.record.path+(N&&V+N)}if(R=Fv(z,h,E),f?f.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),g&&u.name&&!Zu(R)&&o(u.name)),w.children){const G=w.children;for(let V=0;V<G.length;V++)i(G[V],R,f&&f.children[V])}f=f||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&c(R)}return P?()=>{o(P)}:ar}function o(u){if(Sd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&Ov(u,n[h])>=0&&(u.record.path!==n[h].record.path||!xd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Zu(u)&&s.set(u.record.name,u)}function l(u,h){let f,g={},w,E;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw xs(1,{location:u});E=f.record.name,g=ue(Ju(h.params,f.keys.filter(P=>!P.optional).map(P=>P.name)),u.params&&Ju(u.params,f.keys.map(P=>P.name))),w=f.stringify(g)}else if("path"in u)w=u.path,f=n.find(P=>P.re.test(w)),f&&(g=f.parse(w),E=f.record.name);else{if(f=h.name?s.get(h.name):n.find(P=>P.re.test(h.path)),!f)throw xs(1,{location:u,currentLocation:h});E=f.record.name,g=ue({},h.params,u.params),w=f.stringify(g)}const C=[];let R=f;for(;R;)C.unshift(R.record),R=R.parent;return{name:E,path:w,params:g,matched:C,meta:Uv(C)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Ju(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Bv(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Vv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Vv(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Zu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Uv(t){return t.reduce((e,n)=>ue(e,n.meta),{})}function eh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function xd(t,e){return e.children.some(n=>n===t||xd(t,n))}const Ad=/#/g,jv=/&/g,qv=/\//g,Hv=/=/g,zv=/\?/g,Dd=/\+/g,Kv=/%5B/g,Wv=/%5D/g,kd=/%5E/g,Gv=/%60/g,Rd=/%7B/g,Qv=/%7C/g,Nd=/%7D/g,Yv=/%20/g;function Zc(t){return encodeURI(""+t).replace(Qv,"|").replace(Kv,"[").replace(Wv,"]")}function Xv(t){return Zc(t).replace(Rd,"{").replace(Nd,"}").replace(kd,"^")}function Ka(t){return Zc(t).replace(Dd,"%2B").replace(Yv,"+").replace(Ad,"%23").replace(jv,"%26").replace(Gv,"`").replace(Rd,"{").replace(Nd,"}").replace(kd,"^")}function Jv(t){return Ka(t).replace(Hv,"%3D")}function Zv(t){return Zc(t).replace(Ad,"%23").replace(zv,"%3F")}function ew(t){return t==null?"":Zv(t).replace(qv,"%2F")}function Oi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function tw(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Dd," "),o=i.indexOf("="),a=Oi(o<0?i:i.slice(0,o)),c=o<0?null:Oi(i.slice(o+1));if(a in e){let l=e[a];Ct(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function th(t){let e="";for(let n in t){const s=t[n];if(n=Jv(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ct(s)?s.map(i=>i&&Ka(i)):[s&&Ka(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function nw(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ct(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const sw=Symbol(""),nh=Symbol(""),el=Symbol(""),Od=Symbol(""),Wa=Symbol("");function Qs(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function un(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(xs(4,{from:n,to:e})):h instanceof Error?a(h):Av(h)?a(xs(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function na(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(rw(a)){const l=(a.__vccOpts||a)[e];l&&r.push(un(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=uv(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&un(f,n,s,i,o)()}))}}return r}function rw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sh(t){const e=yt(el),n=yt(Od),s=Qe(()=>e.resolve(se(t.to))),r=Qe(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Cs.bind(null,u));if(f>-1)return f;const g=rh(c[l-2]);return l>1&&rh(u)===g&&h[h.length-1].path!==g?h.findIndex(Cs.bind(null,c[l-2])):f}),i=Qe(()=>r.value>-1&&cw(n.params,s.value.params)),o=Qe(()=>r.value>-1&&r.value===n.matched.length-1&&Td(n.params,s.value.params));function a(c={}){return aw(c)?e[se(t.replace)?"replace":"push"](se(t.to)).catch(ar):Promise.resolve()}return{route:s,href:Qe(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const iw=$r({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sh,setup(t,{slots:e}){const n=Fr(sh(t)),{options:s}=yt(el),r=Qe(()=>({[ih(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ih(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Jc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),ow=iw;function aw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function cw(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ct(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function rh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ih=(t,e,n)=>t!=null?t:e!=null?e:n,lw=$r({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=yt(Wa),r=Qe(()=>t.route||s.value),i=yt(nh,0),o=Qe(()=>{let l=se(i);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Qe(()=>r.value.matched[o.value]);Un(nh,Qe(()=>o.value+1)),Un(sw,a),Un(Wa,r);const c=he();return Ei(()=>[c.value,a.value,t.name],([l,u,h],[f,g,w])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!Cs(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(E=>E(l))},{flush:"post"}),()=>{const l=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return oh(n.default,{Component:f,route:l});const g=h.props[u],w=g?g===!0?l.params:typeof g=="function"?g(l):g:null,C=Jc(f,ue({},w,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return oh(n.default,{Component:C,route:l})||C}}});function oh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Pd=lw;function uw(t){const e=$v(t.routes,t),n=t.parseQuery||tw,s=t.stringifyQuery||th,r=t.history,i=Qs(),o=Qs(),a=Qs(),c=Dy(cn);let l=cn;us&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ea.bind(null,b=>""+b),h=ea.bind(null,ew),f=ea.bind(null,Oi);function g(b,L){let k,B;return Sd(b)?(k=e.getRecordMatcher(b),B=L):B=b,e.addRoute(B,k)}function w(b){const L=e.getRecordMatcher(b);L&&e.removeRoute(L)}function E(){return e.getRoutes().map(b=>b.record)}function C(b){return!!e.getRecordMatcher(b)}function R(b,L){if(L=ue({},L||c.value),typeof b=="string"){const m=ta(n,b,L.path),v=e.resolve({path:m.path},L),_=r.createHref(m.fullPath);return ue(m,v,{params:f(v.params),hash:Oi(m.hash),redirectedFrom:void 0,href:_})}let k;if("path"in b)k=ue({},b,{path:ta(n,b.path,L.path).path});else{const m=ue({},b.params);for(const v in m)m[v]==null&&delete m[v];k=ue({},b,{params:h(m)}),L.params=h(L.params)}const B=e.resolve(k,L),ce=b.hash||"";B.params=u(f(B.params));const d=dv(s,ue({},b,{hash:Xv(ce),path:B.path})),p=r.createHref(d);return ue({fullPath:d,hash:ce,query:s===th?nw(b.query):b.query||{}},B,{redirectedFrom:void 0,href:p})}function P(b){return typeof b=="string"?ta(n,b,c.value.path):ue({},b)}function z(b,L){if(l!==b)return xs(8,{from:L,to:b})}function N(b){return Ie(b)}function G(b){return N(ue(P(b),{replace:!0}))}function V(b){const L=b.matched[b.matched.length-1];if(L&&L.redirect){const{redirect:k}=L;let B=typeof k=="function"?k(b):k;return typeof B=="string"&&(B=B.includes("?")||B.includes("#")?B=P(B):{path:B},B.params={}),ue({query:b.query,hash:b.hash,params:"path"in B?{}:b.params},B)}}function Ie(b,L){const k=l=R(b),B=c.value,ce=b.state,d=b.force,p=b.replace===!0,m=V(k);if(m)return Ie(ue(P(m),{state:typeof m=="object"?ue({},ce,m.state):ce,force:d,replace:p}),L||k);const v=k;v.redirectedFrom=L;let _;return!d&&pv(s,B,k)&&(_=xs(16,{to:v,from:B}),Rt(B,B,!0,!1)),(_?Promise.resolve(_):Dt(v,B)).catch(T=>Kt(T)?Kt(T,2)?T:on(T):ae(T,v,B)).then(T=>{if(T){if(Kt(T,2))return Ie(ue({replace:p},P(T.to),{state:typeof T.to=="object"?ue({},ce,T.to.state):ce,force:d}),L||v)}else T=An(v,B,!0,p,ce);return rn(v,B,T),T})}function lt(b,L){const k=z(b,L);return k?Promise.reject(k):Promise.resolve()}function Ht(b){const L=rs.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(b):b()}function Dt(b,L){let k;const[B,ce,d]=hw(b,L);k=na(B.reverse(),"beforeRouteLeave",b,L);for(const m of B)m.leaveGuards.forEach(v=>{k.push(un(v,b,L))});const p=lt.bind(null,b,L);return k.push(p),qe(k).then(()=>{k=[];for(const m of i.list())k.push(un(m,b,L));return k.push(p),qe(k)}).then(()=>{k=na(ce,"beforeRouteUpdate",b,L);for(const m of ce)m.updateGuards.forEach(v=>{k.push(un(v,b,L))});return k.push(p),qe(k)}).then(()=>{k=[];for(const m of b.matched)if(m.beforeEnter&&!L.matched.includes(m))if(Ct(m.beforeEnter))for(const v of m.beforeEnter)k.push(un(v,b,L));else k.push(un(m.beforeEnter,b,L));return k.push(p),qe(k)}).then(()=>(b.matched.forEach(m=>m.enterCallbacks={}),k=na(d,"beforeRouteEnter",b,L),k.push(p),qe(k))).then(()=>{k=[];for(const m of o.list())k.push(un(m,b,L));return k.push(p),qe(k)}).catch(m=>Kt(m,8)?m:Promise.reject(m))}function rn(b,L,k){for(const B of a.list())Ht(()=>B(b,L,k))}function An(b,L,k,B,ce){const d=z(b,L);if(d)return d;const p=L===cn,m=us?history.state:{};k&&(B||p?r.replace(b.fullPath,ue({scroll:p&&m&&m.scroll},ce)):r.push(b.fullPath,ce)),c.value=b,Rt(b,L,k,p),on()}let kt;function Ks(){kt||(kt=r.listen((b,L,k)=>{if(!ti.listening)return;const B=R(b),ce=V(B);if(ce){Ie(ue(ce,{replace:!0}),B).catch(ar);return}l=B;const d=c.value;us&&_v(Wu(d.fullPath,k.delta),go()),Dt(B,d).catch(p=>Kt(p,12)?p:Kt(p,2)?(Ie(p.to,B).then(m=>{Kt(m,20)&&!k.delta&&k.type===Tr.pop&&r.go(-1,!1)}).catch(ar),Promise.reject()):(k.delta&&r.go(-k.delta,!1),ae(p,B,d))).then(p=>{p=p||An(B,d,!1),p&&(k.delta&&!Kt(p,8)?r.go(-k.delta,!1):k.type===Tr.pop&&Kt(p,20)&&r.go(-1,!1)),rn(B,d,p)}).catch(ar)}))}let ns=Qs(),Oe=Qs(),pe;function ae(b,L,k){on(b);const B=Oe.list();return B.length?B.forEach(ce=>ce(b,L,k)):console.error(b),Promise.reject(b)}function zt(){return pe&&c.value!==cn?Promise.resolve():new Promise((b,L)=>{ns.add([b,L])})}function on(b){return pe||(pe=!b,Ks(),ns.list().forEach(([L,k])=>b?k(b):L()),ns.reset()),b}function Rt(b,L,k,B){const{scrollBehavior:ce}=t;if(!us||!ce)return Promise.resolve();const d=!k&&Tv(Wu(b.fullPath,0))||(B||!k)&&history.state&&history.state.scroll||null;return Zf().then(()=>ce(b,L,d)).then(p=>p&&bv(p)).catch(p=>ae(p,b,L))}const rt=b=>r.go(b);let ss;const rs=new Set,ti={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,hasRoute:C,getRoutes:E,resolve:R,options:t,push:N,replace:G,go:rt,back:()=>rt(-1),forward:()=>rt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Oe.add,isReady:zt,install(b){const L=this;b.component("RouterLink",ow),b.component("RouterView",Pd),b.config.globalProperties.$router=L,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>se(c)}),us&&!ss&&c.value===cn&&(ss=!0,N(r.location).catch(ce=>{}));const k={};for(const ce in cn)k[ce]=Qe(()=>c.value[ce]);b.provide(el,L),b.provide(Od,Fr(k)),b.provide(Wa,c);const B=b.unmount;rs.add(b),b.unmount=function(){rs.delete(b),rs.size<1&&(l=cn,kt&&kt(),kt=null,c.value=cn,ss=!1,pe=!1),B()}}};function qe(b){return b.reduce((L,k)=>L.then(()=>Ht(k)),Promise.resolve())}return ti}function hw(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Cs(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Cs(l,c))||r.push(c))}return[n,s,r]}const fw=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},dw={name:"Footer"},pw={id:"footer",class:"bg-pink-50 text-center text-white dark:bg-neutral-600"},gw=S0('<div class="pt-4"><div class="mb-4 flex justify-center"><a href="https://www.facebook.com/profile.php?id=100090460875885" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://www.instagram.com/arumi_id/" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="https://api.whatsapp.com/send?phone=6285777040200" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="#000000" viewBox="0 0 30.667 30.667"><path d="M30.667,14.939c0,8.25-6.74,14.938-15.056,14.938c-2.639,0-5.118-0.675-7.276-1.857L0,30.667l2.717-8.017 c-1.37-2.25-2.159-4.892-2.159-7.712C0.559,6.688,7.297,0,15.613,0C23.928,0.002,30.667,6.689,30.667,14.939z M15.61,2.382 c-6.979,0-12.656,5.634-12.656,12.56c0,2.748,0.896,5.292,2.411,7.362l-1.58,4.663l4.862-1.545c2,1.312,4.393,2.076,6.963,2.076 c6.979,0,12.658-5.633,12.658-12.559C28.27,8.016,22.59,2.382,15.61,2.382z M23.214,18.38c-0.094-0.151-0.34-0.243-0.708-0.427 c-0.367-0.184-2.184-1.069-2.521-1.189c-0.34-0.123-0.586-0.185-0.832,0.182c-0.243,0.367-0.951,1.191-1.168,1.437 c-0.215,0.245-0.43,0.276-0.799,0.095c-0.369-0.186-1.559-0.57-2.969-1.817c-1.097-0.972-1.838-2.169-2.052-2.536 c-0.217-0.366-0.022-0.564,0.161-0.746c0.165-0.165,0.369-0.428,0.554-0.643c0.185-0.213,0.246-0.364,0.369-0.609 c0.121-0.245,0.06-0.458-0.031-0.643c-0.092-0.184-0.829-1.984-1.138-2.717c-0.307-0.732-0.614-0.611-0.83-0.611 c-0.215,0-0.461-0.03-0.707-0.03S9.897,8.215,9.56,8.582s-1.291,1.252-1.291,3.054c0,1.804,1.321,3.543,1.506,3.787 c0.186,0.243,2.554,4.062,6.305,5.528c3.753,1.465,3.753,0.976,4.429,0.914c0.678-0.062,2.184-0.885,2.49-1.739 C23.307,19.268,23.307,18.533,23.214,18.38z"></path></svg></a></div></div><div class="bg-pink-100 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://www.instagram.com/arumi_id/">Arumi_id</a></div>',2),mw=[gw];function yw(t,e,n,s,r,i){return Ae(),Ve("div",pw,mw)}const vw=fw(dw,[["render",yw]]);const ww={__name:"App",setup(t){return(e,n)=>(Ae(),Ve(nt,null,[Se(se(Pd),{class:"pb-40 mb-5"}),Se(vw)],64))}},ah="/assets/logoArumi.925cc7ae.png";function Pi(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Pi),s}var Ga=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ga||{}),Ew=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ew||{});function tl({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=Ld(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return sa(a);if(e&1){let c=(i=o.unmount)==null||i?0:1;return Pi(c,{[0](){return null},[1](){return sa({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return sa(a)}function sa({props:t,attrs:e,slots:n,slot:s,name:r}){var i,o;let{as:a,...c}=bw(t,["unmount","static"]),l=(i=n.default)==null?void 0:i.call(n,s),u={};if(s){let h=!1,f=[];for(let[g,w]of Object.entries(s))typeof w=="boolean"&&(h=!0),w===!0&&f.push(g);h&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(l=Md(l!=null?l:[]),Object.keys(c).length>0||Object.keys(e).length>0){let[h,...f]=l!=null?l:[];if(!_w(h)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(e)).map(E=>E.trim()).filter((E,C,R)=>R.indexOf(E)===C).sort((E,C)=>E.localeCompare(C)).map(E=>`  - ${E}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(E=>`  - ${E}`).join(`
`)].join(`
`));let g=Ld((o=h.props)!=null?o:{},c),w=Kn(h,g);for(let E in g)E.startsWith("on")&&(w.props||(w.props={}),w.props[E]=g[E]);return w}return Array.isArray(l)&&l.length===1?l[0]:l}return Jc(a,Object.assign({},c,u),{default:()=>l})}function Md(t){return t.flatMap(e=>e.type===nt?Md(e.children):[e])}function Ld(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function bw(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function _w(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let Tw=0;function Iw(){return++Tw}function Fd(){return Iw()}var hs=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(hs||{});function Yt(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let $d=Symbol("Context");var Ir=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ir||{});function Sw(){return yt($d,null)}function Cw(t){Un($d,t)}function ch(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function xw(t,e){let n=he(ch(t.value.type,t.value.as));return Vs(()=>{n.value=ch(t.value.type,t.value.as)}),id(()=>{var s;n.value||Yt(e)&&Yt(e)instanceof HTMLButtonElement&&!((s=Yt(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var Aw=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Aw||{});let Bd=Symbol("DisclosureContext");function nl(t){let e=yt(Bd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nl),n}return e}let Vd=Symbol("DisclosurePanelContext");function Dw(){return yt(Vd,null)}let kw=$r({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=he(t.defaultOpen?0:1),r=he(null),i=he(null),o={buttonId:he(null),panelId:he(null),disclosureState:s,panel:r,button:i,toggleDisclosure(){s.value=Pi(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let c=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?Yt(a):Yt(o.button):Yt(o.button))();c==null||c.focus()}};return Un(Bd,o),Cw(Qe(()=>Pi(s.value,{[0]:Ir.Open,[1]:Ir.Closed}))),()=>{let{defaultOpen:a,...c}=t,l={open:s.value===0,close:o.close};return tl({theirProps:c,ourProps:{},slot:l,slots:e,attrs:n,name:"Disclosure"})}}}),ra=$r({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Fd()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=nl("DisclosureButton");Vs(()=>{r.buttonId.value=t.id}),uo(()=>{r.buttonId.value=null});let i=Dw(),o=Qe(()=>i===null?!1:i.value===r.panelId.value),a=he(null);s({el:a,$el:a}),o.value||id(()=>{r.button.value=a.value});let c=xw(Qe(()=>({as:t.as,type:e.type})),a);function l(){var f;t.disabled||(o.value?(r.toggleDisclosure(),(f=Yt(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var g;if(!t.disabled)if(o.value)switch(f.key){case hs.Space:case hs.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(g=Yt(r.button))==null||g.focus();break}else switch(f.key){case hs.Space:case hs.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case hs.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},{id:g,...w}=t,E=o.value?{ref:a,type:c.value,onClick:l,onKeydown:u}:{id:g,ref:a,type:c.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":Yt(r.panel)?r.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:l,onKeydown:u,onKeyup:h};return tl({ourProps:E,theirProps:w,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),Rw=$r({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Fd()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=nl("DisclosurePanel");Vs(()=>{r.panelId.value=t.id}),uo(()=>{r.panelId.value=null}),s({el:r.panel,$el:r.panel}),Un(Vd,r.panelId);let i=Sw(),o=Qe(()=>i!==null?(i.value&Ir.Open)===Ir.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},{id:c,...l}=t,u={id:c,ref:r.panel};return tl({ourProps:u,theirProps:l,slot:a,attrs:e,slots:n,features:Ga.RenderStrategy|Ga.Static,visible:o.value,name:"DisclosurePanel"})}}});function Nw(t,e){return Ae(),Ve("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function Ow(t,e){return Ae(),Ve("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}let ci;const Pw=new Uint8Array(16);function Mw(){if(!ci&&(ci=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ci))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ci(Pw)}const $e=[];for(let t=0;t<256;++t)$e.push((t+256).toString(16).slice(1));function Lw(t,e=0){return($e[t[e+0]]+$e[t[e+1]]+$e[t[e+2]]+$e[t[e+3]]+"-"+$e[t[e+4]]+$e[t[e+5]]+"-"+$e[t[e+6]]+$e[t[e+7]]+"-"+$e[t[e+8]]+$e[t[e+9]]+"-"+$e[t[e+10]]+$e[t[e+11]]+$e[t[e+12]]+$e[t[e+13]]+$e[t[e+14]]+$e[t[e+15]]).toLowerCase()}const Fw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lh={randomUUID:Fw};function Qa(t,e,n){if(lh.randomUUID&&!e&&!t)return lh.randomUUID();t=t||{};const s=t.random||(t.rng||Mw)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=s[r];return e}return Lw(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},$w=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),s.push(n[u],n[h],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ud(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$w(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw new Bw;const f=i<<2|a>>4;if(s.push(f),l!==64){const g=a<<4&240|l>>2;if(s.push(g),h!==64){const w=l<<6&192|h;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(t){const e=Ud(t);return jd.encodeByteArray(e,!0)},Mi=function(t){return Vw(t).replace(/\./g,"")},Uw=function(t){try{return jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>jw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uw(t[1]);return e&&JSON.parse(e)},qd=()=>{try{return qw()||Hw()||zw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kw=t=>{var e,n;return(n=(e=qd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ww=t=>{const e=Kw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Hd=()=>{var t;return(t=qd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Mi(JSON.stringify(n)),Mi(JSON.stringify(o)),a].join(".")}function Yw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zd(){try{return typeof indexedDB=="object"}catch{return!1}}function Kd(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Xw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="FirebaseError";class In extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Jw,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Zw(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new In(r,a,s)}}function Zw(t,e){return t.replace(e1,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const e1=/\{\$([^}]+)}/g;function Li(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(uh(i)&&uh(o)){if(!Li(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function uh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1e3,n1=2,s1=4*60*60*1e3,r1=.5;function hh(t,e=t1,n=n1){const s=e*Math.pow(n,t),r=Math.round(r1*s*(Math.random()-.5)*2);return Math.min(s1,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Jt{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a1(e))try{this.getOrInitializeService({instanceIdentifier:Rn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Rn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rn){return this.instances.has(e)}getOptions(e=Rn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Rn){return this.component?this.component.multipleInstances?e:Rn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(t){return t===Rn?void 0:t}function a1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const l1={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},u1=le.INFO,h1={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},f1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=h1[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sl{constructor(e){this.name=e,this._logLevel=u1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const d1=(t,e)=>e.some(n=>t instanceof n);let fh,dh;function p1(){return fh||(fh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return dh||(dh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wd=new WeakMap,Ya=new WeakMap,Gd=new WeakMap,ia=new WeakMap,rl=new WeakMap;function m1(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(pn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wd.set(n,t)}).catch(()=>{}),rl.set(e,t),e}function y1(t){if(Ya.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ya.set(t,e)}let Xa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ya.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v1(t){Xa=t(Xa)}function w1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(oa(this),e,...n);return Gd.set(s,e.sort?e.sort():[e]),pn(s)}:g1().includes(t)?function(...e){return t.apply(oa(this),e),pn(Wd.get(this))}:function(...e){return pn(t.apply(oa(this),e))}}function E1(t){return typeof t=="function"?w1(t):(t instanceof IDBTransaction&&y1(t),d1(t,p1())?new Proxy(t,Xa):t)}function pn(t){if(t instanceof IDBRequest)return m1(t);if(ia.has(t))return ia.get(t);const e=E1(t);return e!==t&&(ia.set(t,e),rl.set(e,t)),e}const oa=t=>rl.get(t);function b1(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=pn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(pn(o.result),c.oldVersion,c.newVersion,pn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const _1=["get","getKey","getAll","getAllKeys","count"],T1=["put","add","delete","clear"],aa=new Map;function ph(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aa.get(e))return aa.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=T1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||_1.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return aa.set(e,i),i}v1(t=>({...t,get:(e,n,s)=>ph(e,n)||t.get(e,n,s),has:(e,n)=>!!ph(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ja="@firebase/app",gh="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new sl("@firebase/app"),C1="@firebase/app-compat",x1="@firebase/analytics-compat",A1="@firebase/analytics",D1="@firebase/app-check-compat",k1="@firebase/app-check",R1="@firebase/auth",N1="@firebase/auth-compat",O1="@firebase/database",P1="@firebase/database-compat",M1="@firebase/functions",L1="@firebase/functions-compat",F1="@firebase/installations",$1="@firebase/installations-compat",B1="@firebase/messaging",V1="@firebase/messaging-compat",U1="@firebase/performance",j1="@firebase/performance-compat",q1="@firebase/remote-config",H1="@firebase/remote-config-compat",z1="@firebase/storage",K1="@firebase/storage-compat",W1="@firebase/firestore",G1="@firebase/firestore-compat",Q1="firebase",Y1="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]",X1={[Ja]:"fire-core",[C1]:"fire-core-compat",[A1]:"fire-analytics",[x1]:"fire-analytics-compat",[k1]:"fire-app-check",[D1]:"fire-app-check-compat",[R1]:"fire-auth",[N1]:"fire-auth-compat",[O1]:"fire-rtdb",[P1]:"fire-rtdb-compat",[M1]:"fire-fn",[L1]:"fire-fn-compat",[F1]:"fire-iid",[$1]:"fire-iid-compat",[B1]:"fire-fcm",[V1]:"fire-fcm-compat",[U1]:"fire-perf",[j1]:"fire-perf-compat",[q1]:"fire-rc",[H1]:"fire-rc-compat",[z1]:"fire-gcs",[K1]:"fire-gcs-compat",[W1]:"fire-fst",[G1]:"fire-fst-compat","fire-js":"fire-js",[Q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Map,ec=new Map;function J1(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){const e=t.name;if(ec.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;ec.set(e,t);for(const n of Fi.values())J1(n,t);return!0}function Br(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gn=new mo("app","Firebase",Z1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=Y1;function Qd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Za,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw gn.create("bad-app-name",{appName:String(r)});if(n||(n=Hd()),!n)throw gn.create("no-options");const i=Fi.get(r);if(i){if(Li(n,i.options)&&Li(s,i.config))return i;throw gn.create("duplicate-app",{appName:r})}const o=new c1(r);for(const c of ec.values())o.addComponent(c);const a=new eE(n,s,o);return Fi.set(r,a),a}function Yd(t=Za){const e=Fi.get(t);if(!e&&t===Za&&Hd())return Qd();if(!e)throw gn.create("no-app",{appName:t});return e}function Vt(t,e,n){var s;let r=(s=X1[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}En(new Jt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebase-heartbeat-database",sE=1,Sr="firebase-heartbeat-store";let ca=null;function Xd(){return ca||(ca=b1(nE,sE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}}).catch(t=>{throw gn.create("idb-open",{originalErrorMessage:t.message})})),ca}async function rE(t){try{return await(await Xd()).transaction(Sr).objectStore(Sr).get(Jd(t))}catch(e){if(e instanceof In)Wn.warn(e.message);else{const n=gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function mh(t,e){try{const s=(await Xd()).transaction(Sr,"readwrite");await s.objectStore(Sr).put(e,Jd(t)),await s.done}catch(n){if(n instanceof In)Wn.warn(n.message);else{const s=gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(s.message)}}}function Jd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=1024,oE=30*24*60*60*1e3;class aE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=oE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yh(),{heartbeatsToSend:n,unsentEntries:s}=cE(this._heartbeatsCache.heartbeats),r=Mi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function yh(){return new Date().toISOString().substring(0,10)}function cE(t,e=iE){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),vh(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zd()?Kd().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return mh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vh(t){return Mi(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){En(new Jt("platform-logger",e=>new I1(e),"PRIVATE")),En(new Jt("heartbeat",e=>new aE(e),"PRIVATE")),Vt(Ja,gh,t),Vt(Ja,gh,"esm2017"),Vt("fire-js","")}uE("");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,il=il||{},Q=hE||self;function $i(){}function yo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fE(t){return Object.prototype.hasOwnProperty.call(t,la)&&t[la]||(t[la]=++dE)}var la="closure_uid_"+(1e9*Math.random()>>>0),dE=0;function pE(t,e,n){return t.call.apply(t.bind,arguments)}function gE(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Xe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xe=pE:Xe=gE,Xe.apply(null,arguments)}function li(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Fe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Sn(){this.s=this.s,this.o=this.o}var mE=0;Sn.prototype.s=!1;Sn.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),mE!=0)&&fE(this)};Sn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zd=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ol(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function wh(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(yo(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function Je(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var yE=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",$i,e),Q.removeEventListener("test",$i,e)}catch{}return t}();function Bi(t){return/^[\s\xa0]*$/.test(t)}var Eh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ua(t,e){return t<e?-1:t>e?1:0}function vo(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function $t(t){return vo().indexOf(t)!=-1}function al(t){return al[" "](t),t}al[" "]=$i;function ep(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var vE=$t("Opera"),As=$t("Trident")||$t("MSIE"),tp=$t("Edge"),tc=tp||As,np=$t("Gecko")&&!(vo().toLowerCase().indexOf("webkit")!=-1&&!$t("Edge"))&&!($t("Trident")||$t("MSIE"))&&!$t("Edge"),wE=vo().toLowerCase().indexOf("webkit")!=-1&&!$t("Edge");function sp(){var t=Q.document;return t?t.documentMode:void 0}var Vi;e:{var ha="",fa=function(){var t=vo();if(np)return/rv:([^\);]+)(\)|;)/.exec(t);if(tp)return/Edge\/([\d\.]+)/.exec(t);if(As)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(wE)return/WebKit\/(\S+)/.exec(t);if(vE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fa&&(ha=fa?fa[1]:""),As){var da=sp();if(da!=null&&da>parseFloat(ha)){Vi=String(da);break e}}Vi=ha}var EE={};function bE(){return ep(EE,9,function(){let t=0;const e=Eh(String(Vi)).split("."),n=Eh("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=ua(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||ua(r[2].length==0,i[2].length==0)||ua(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var nc;if(Q.document&&As){var bh=sp();nc=bh||parseInt(Vi,10)||void 0}else nc=void 0;var _E=nc;function Cr(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(np){e:{try{al(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cr.$.h.call(this)}}Fe(Cr,Je);var TE={2:"touch",3:"pen",4:"mouse"};Cr.prototype.h=function(){Cr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ur="closure_listenable_"+(1e6*Math.random()|0),IE=0;function SE(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++IE,this.fa=this.ia=!1}function wo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cl(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function rp(t){const e={};for(const n in t)e[n]=t[n];return e}const _h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ip(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<_h.length;i++)n=_h[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Eo(t){this.src=t,this.g={},this.h=0}Eo.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=rc(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new SE(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function sc(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Zd(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(wo(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function rc(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var ll="closure_lm_"+(1e6*Math.random()|0),pa={};function op(t,e,n,s,r){if(s&&s.once)return cp(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)op(t,e[i],n,s,r);return null}return n=fl(n),t&&t[Ur]?t.O(e,n,Vr(s)?!!s.capture:!!s,r):ap(t,e,n,!1,s,r)}function ap(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Vr(r)?!!r.capture:!!r,a=hl(t);if(a||(t[ll]=a=new Eo(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=CE(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)yE||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(up(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function CE(){function t(n){return e.call(t.src,t.listener,n)}const e=xE;return t}function cp(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)cp(t,e[i],n,s,r);return null}return n=fl(n),t&&t[Ur]?t.P(e,n,Vr(s)?!!s.capture:!!s,r):ap(t,e,n,!0,s,r)}function lp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)lp(t,e[i],n,s,r);else s=Vr(s)?!!s.capture:!!s,n=fl(n),t&&t[Ur]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=rc(i,n,s,r),-1<n&&(wo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=hl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rc(e,n,s,r)),(n=-1<t?e[t]:null)&&ul(n))}function ul(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ur])sc(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(up(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=hl(e))?(sc(n,t),n.h==0&&(n.src=null,e[ll]=null)):wo(t)}}}function up(t){return t in pa?pa[t]:pa[t]="on"+t}function xE(t,e){if(t.fa)t=!0;else{e=new Cr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&ul(t),t=n.call(s,e)}return t}function hl(t){return t=t[ll],t instanceof Eo?t:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function fl(t){return typeof t=="function"?t:(t[ga]||(t[ga]=function(e){return t.handleEvent(e)}),t[ga])}function Le(){Sn.call(this),this.i=new Eo(this),this.S=this,this.J=null}Fe(Le,Sn);Le.prototype[Ur]=!0;Le.prototype.removeEventListener=function(t,e,n,s){lp(this,t,e,n,s)};function je(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new Je(e,t);else if(e instanceof Je)e.target=e.target||t;else{var r=e;e=new Je(s,t),ip(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ui(o,s,!0,e)&&r}if(o=e.g=t,r=ui(o,s,!0,e)&&r,r=ui(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ui(o,s,!1,e)&&r}Le.prototype.N=function(){if(Le.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)wo(n[s]);delete t.g[e],t.h--}}this.J=null};Le.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Le.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ui(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&sc(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var dl=Q.JSON.stringify;function AE(){var t=dp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class DE{constructor(){this.h=this.g=null}add(e,n){const s=hp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var hp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kE,t=>t.reset());class kE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RE(t){Q.setTimeout(()=>{throw t},0)}function fp(t,e){ic||NE(),oc||(ic(),oc=!0),dp.add(t,e)}var ic;function NE(){var t=Q.Promise.resolve(void 0);ic=function(){t.then(OE)}}var oc=!1,dp=new DE;function OE(){for(var t;t=AE();){try{t.h.call(t.g)}catch(n){RE(n)}var e=hp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oc=!1}function bo(t,e){Le.call(this),this.h=t||1,this.g=e||Q,this.j=Xe(this.qb,this),this.l=Date.now()}Fe(bo,Le);O=bo.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),je(this,"tick"),this.ga&&(pl(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pl(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){bo.$.N.call(this),pl(this),delete this.g};function gl(t,e,n){if(typeof t=="function")n&&(t=Xe(t,n));else if(t&&typeof t.handleEvent=="function")t=Xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function pp(t){t.g=gl(()=>{t.g=null,t.i&&(t.i=!1,pp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PE extends Sn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pp(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(t){Sn.call(this),this.h=t,this.g={}}Fe(xr,Sn);var Th=[];function gp(t,e,n,s){Array.isArray(n)||(n&&(Th[0]=n.toString()),n=Th);for(var r=0;r<n.length;r++){var i=op(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function mp(t){cl(t.g,function(e,n){this.g.hasOwnProperty(n)&&ul(e)},t),t.g={}}xr.prototype.N=function(){xr.$.N.call(this),mp(this)};xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _o(){this.g=!0}_o.prototype.Ea=function(){this.g=!1};function ME(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function LE(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function ps(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$E(t,n)+(s?" "+s:"")})}function FE(t,e){t.info(function(){return"TIMEOUT: "+e})}_o.prototype.info=function(){};function $E(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return dl(n)}catch{return e}}var Zn={},Ih=null;function To(){return Ih=Ih||new Le}Zn.Ta="serverreachability";function yp(t){Je.call(this,Zn.Ta,t)}Fe(yp,Je);function Ar(t){const e=To();je(e,new yp(e))}Zn.STAT_EVENT="statevent";function vp(t,e){Je.call(this,Zn.STAT_EVENT,t),this.stat=e}Fe(vp,Je);function st(t){const e=To();je(e,new vp(e,t))}Zn.Ua="timingevent";function wp(t,e){Je.call(this,Zn.Ua,t),this.size=e}Fe(wp,Je);function jr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Io={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ep={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ml(){}ml.prototype.h=null;function Sh(t){return t.h||(t.h=t.i())}function bp(){}var qr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yl(){Je.call(this,"d")}Fe(yl,Je);function vl(){Je.call(this,"c")}Fe(vl,Je);var ac;function So(){}Fe(So,ml);So.prototype.g=function(){return new XMLHttpRequest};So.prototype.i=function(){return{}};ac=new So;function Hr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new xr(this),this.P=BE,t=tc?125:void 0,this.V=new bo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}var BE=45e3,cc={},Ui={};O=Hr.prototype;O.setTimeout=function(t){this.P=t};function lc(t,e,n){t.L=1,t.v=xo(Zt(e)),t.s=n,t.S=!0,Tp(t,null)}function Tp(t,e){t.G=Date.now(),zr(t),t.A=Zt(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),Rp(n.i,"t",s),t.C=0,n=t.l.I,t.h=new _p,t.g=Jp(t.l,n?e:null,!t.s),0<t.O&&(t.M=new PE(Xe(t.Pa,t,t.g),t.O)),gp(t.U,t.g,"readystatechange",t.nb),e=t.I?rp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ar(),ME(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&Gt(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const u=Gt(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||tc||this.g&&(this.h.h||this.g.ja()||Dh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ar(3):Ar(2)),Co(this);var n=this.g.da();this.aa=n;t:if(Ip(this)){var s=Dh(this.g);t="";var r=s.length,i=Gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),lr(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,LE(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(a)){var l=a;break t}}l=null}if(n=l)ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uc(this,n);else{this.i=!1,this.o=3,st(12),Ln(this),lr(this);break e}}this.S?(Sp(this,u,o),tc&&this.i&&u==3&&(gp(this.U,this.V,"tick",this.mb),this.V.start())):(ps(this.j,this.m,o,null),uc(this,o)),u==4&&Ln(this),this.i&&!this.J&&(u==4?Gp(this.l,this):(this.i=!1,zr(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),Ln(this),lr(this)}}}catch{}finally{}};function Ip(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Sp(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=VE(t,n),r==Ui){e==4&&(t.o=4,st(14),s=!1),ps(t.j,t.m,null,"[Incomplete Response]");break}else if(r==cc){t.o=4,st(15),ps(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else ps(t.j,t.m,r,null),uc(t,r);Ip(t)&&r!=Ui&&r!=cc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,st(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sl(e),e.L=!0,st(11))):(ps(t.j,t.m,n,"[Invalid Chunked Response]"),Ln(t),lr(t))}O.mb=function(){if(this.g){var t=Gt(this.g),e=this.g.ja();this.C<e.length&&(Co(this),Sp(this,t,e),this.i&&t!=4&&zr(this))}};function VE(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ui:(n=Number(e.substring(n,s)),isNaN(n)?cc:(s+=1,s+n>e.length?Ui:(e=e.substr(s,n),t.C=s+n,e)))}O.cancel=function(){this.J=!0,Ln(this)};function zr(t){t.Y=Date.now()+t.P,Cp(t,t.P)}function Cp(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jr(Xe(t.lb,t),e)}function Co(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(FE(this.j,this.A),this.L!=2&&(Ar(),st(17)),Ln(this),this.o=2,lr(this)):Cp(this,this.Y-t)};function lr(t){t.l.H==0||t.J||Gp(t.l,t)}function Ln(t){Co(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,pl(t.V),mp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function uc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hc(n.h,t))){if(!t.K&&hc(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hi(n),ko(n);else break e;Il(n),st(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=jr(Xe(n.ib,n),6e3));if(1>=Pp(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Fn(n,11)}else if((t.K||n.g==t)&&Hi(n),!Bi(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.J=l[1],n.oa=l[2];const u=l[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const h=l[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=s.h;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(wl(i,i.h),i.h=null))}if(s.F){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(s.Da=E,we(s.G,s.F,E))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=Xp(s,s.I?s.oa:null,s.Y),o.K){Mp(s.h,o);var a=o,c=s.K;c&&a.setTimeout(c),a.B&&(Co(a),zr(a)),s.g=o}else Kp(s);0<n.i.length&&Ro(n)}else l[0]!="stop"&&l[0]!="close"||Fn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Fn(n,7):Tl(n):l[0]!="noop"&&n.l&&n.l.Aa(l),n.A=0)}}Ar(4)}catch{}}function UE(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function jE(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function xp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jE(t),s=UE(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var Ap=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function qn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qn){this.h=e!==void 0?e:t.h,ji(this,t.j),this.s=t.s,this.g=t.g,qi(this,t.m),this.l=t.l,e=t.i;var n=new Dr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ch(this,n),this.o=t.o}else t&&(n=String(t).match(Ap))?(this.h=!!e,ji(this,n[1]||"",!0),this.s=er(n[2]||""),this.g=er(n[3]||"",!0),qi(this,n[4]),this.l=er(n[5]||"",!0),Ch(this,n[6]||"",!0),this.o=er(n[7]||"")):(this.h=!!e,this.i=new Dr(null,this.h))}qn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(tr(e,xh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(tr(e,xh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(tr(n,n.charAt(0)=="/"?KE:zE,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",tr(n,GE)),t.join("")};function Zt(t){return new qn(t)}function ji(t,e,n){t.j=n?er(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ch(t,e,n){e instanceof Dr?(t.i=e,QE(t.i,t.h)):(n||(e=tr(e,WE)),t.i=new Dr(e,t.h))}function we(t,e,n){t.i.set(e,n)}function xo(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function er(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,HE),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HE(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xh=/[#\/\?@]/g,zE=/[#\?:]/g,KE=/[#\?]/g,WE=/[#\?@]/g,GE=/#/g;function Dr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cn(t){t.g||(t.g=new Map,t.h=0,t.i&&qE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Dr.prototype;O.add=function(t,e){Cn(this),this.i=null,t=Us(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Dp(t,e){Cn(t),e=Us(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kp(t,e){return Cn(t),e=Us(t,e),t.g.has(e)}O.forEach=function(t,e){Cn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};O.sa=function(){Cn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};O.Z=function(t){Cn(this);let e=[];if(typeof t=="string")kp(this,t)&&(e=e.concat(this.g.get(Us(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Cn(this),this.i=null,t=Us(this,t),kp(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Rp(t,e,n){Dp(t,e),0<n.length&&(t.i=null,t.g.set(Us(t,e),ol(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Us(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QE(t,e){e&&!t.j&&(Cn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Dp(this,s),Rp(this,r,n))},t)),t.j=e}var YE=class{constructor(t,e){this.h=t,this.g=e}};function Np(t){this.l=t||XE,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XE=10;function Op(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Pp(t){return t.h?1:t.g?t.g.size:0}function hc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function wl(t,e){t.g?t.g.add(e):t.h=e}function Mp(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Np.prototype.cancel=function(){if(this.i=Lp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Lp(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ol(t.i)}function El(){}El.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)};El.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};function JE(){this.g=new El}function ZE(t,e,n){const s=n||"";try{xp(t,function(r,i){let o=r;Vr(r)&&(o=dl(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function eb(t,e){const n=new _o;if(Q.Image){const s=new Image;s.onload=li(hi,n,s,"TestLoadImage: loaded",!0,e),s.onerror=li(hi,n,s,"TestLoadImage: error",!1,e),s.onabort=li(hi,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=li(hi,n,s,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function hi(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Kr(t){this.l=t.fc||null,this.j=t.ob||!1}Fe(Kr,ml);Kr.prototype.g=function(){return new Ao(this.l,this.j)};Kr.prototype.i=function(t){return function(){return t}}({});function Ao(t,e){Le.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fe(Ao,Le);var bl=0;O=Ao.prototype;O.open=function(t,e){if(this.readyState!=bl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kr(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=bl};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fp(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Fp(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wr(this):kr(this),this.readyState==3&&Fp(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,Wr(this))};O.Ya=function(t){this.g&&(this.response=t,Wr(this))};O.ka=function(){this.g&&Wr(this)};function Wr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kr(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tb=Q.JSON.parse;function Te(t){Le.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$p,this.L=this.M=!1}Fe(Te,Le);var $p="",nb=/^https?$/i,sb=["POST","PUT"];O=Te.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ac.g(),this.C=this.u?Sh(this.u):Sh(ac),this.g.onreadystatechange=Xe(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Ah(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=Zd(sb,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Up(this),0<this.B&&((this.L=rb(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.ua,this)):this.A=gl(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Ah(this,i)}};function rb(t){return As&&bE()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof il<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function Ah(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bp(t),Do(t)}function Bp(t){t.F||(t.F=!0,je(t,"complete"),je(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),Do(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Do(this,!0)),Te.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?Vp(this):this.kb())};O.kb=function(){Vp(this)};function Vp(t){if(t.h&&typeof il<"u"&&(!t.C[1]||Gt(t)!=4||t.da()!=2)){if(t.v&&Gt(t)==4)gl(t.La,0,t);else if(je(t,"readystatechange"),Gt(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.I).match(Ap)[1]||null;if(!r&&Q.self&&Q.self.location){var i=Q.self.location.protocol;r=i.substr(0,i.length-1)}s=!nb.test(r?r.toLowerCase():"")}n=s}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var o=2<Gt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Bp(t)}}finally{Do(t)}}}}function Do(t,e){if(t.g){Up(t);const n=t.g,s=t.C[0]?$i:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=s}catch{}}}function Up(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Gt(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tb(e)}};function Dh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $p:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function jp(t){let e="";return cl(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function _l(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=jp(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Ys(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qp(t){this.Ga=0,this.i=[],this.j=new _o,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ys("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ys("baseRetryDelayMs",5e3,t),this.hb=Ys("retryDelaySeedMs",1e4,t),this.eb=Ys("forwardChannelMaxRetries",2,t),this.xa=Ys("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new Np(t&&t.concurrentRequestLimit),this.Ja=new JE,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}O=qp.prototype;O.qa=8;O.H=1;function Tl(t){if(Hp(t),t.H==3){var e=t.W++,n=Zt(t.G);we(n,"SID",t.J),we(n,"RID",e),we(n,"TYPE","terminate"),Gr(t,n),e=new Hr(t,t.j,e,void 0),e.L=2,e.v=xo(Zt(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&(new Image().src=e.v,n=!0),n||(e.g=Jp(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zr(e)}Yp(t)}function ko(t){t.g&&(Sl(t),t.g.cancel(),t.g=null)}function Hp(t){ko(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Hi(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Ro(t){Op(t.h)||t.m||(t.m=!0,fp(t.Na,t),t.C=0)}function ib(t,e){return Pp(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jr(Xe(t.Na,t,e),Qp(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Hr(this,this.j,t,void 0);let i=this.s;if(this.U&&(i?(i=rp(i),ip(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zp(this,r,e),n=Zt(this.G),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),Gr(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(jp(i)))+"&"+e:this.o&&_l(n,this.o,i)),wl(this.h,r),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),r.ba=!0,lc(r,n,null)):lc(r,n,e),this.H=2}}else this.H==3&&(t?kh(this,t):this.i.length==0||Op(this.h)||kh(this))};function kh(t,e){var n;e?n=e.m:n=t.W++;const s=Zt(t.G);we(s,"SID",t.J),we(s,"RID",n),we(s,"AID",t.V),Gr(t,s),t.o&&t.s&&_l(s,t.o,t.s),n=new Hr(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=zp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),wl(t.h,n),lc(n,s,e)}function Gr(t,e){t.ma&&cl(t.ma,function(n,s){we(e,s,n)}),t.l&&xp({},function(n,s){we(e,s,n)})}function zp(t,e,n){n=Math.min(t.i.length,n);var s=t.l?Xe(t.l.Va,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{ZE(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function Kp(t){t.g||t.u||(t.ba=1,fp(t.Ma,t),t.A=0)}function Il(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jr(Xe(t.Ma,t),Qp(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,Wp(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=jr(Xe(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,st(10),ko(this),Wp(this))};function Sl(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function Wp(t){t.g=new Hr(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zt(t.wa);we(e,"RID","rpc"),we(e,"SID",t.J),we(e,"CI",t.M?"0":"1"),we(e,"AID",t.V),we(e,"TYPE","xmlhttp"),Gr(t,e),t.o&&t.s&&_l(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=xo(Zt(e)),n.s=null,n.S=!0,Tp(n,t)}O.ib=function(){this.v!=null&&(this.v=null,ko(this),Il(this),st(19))};function Hi(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function Gp(t,e){var n=null;if(t.g==e){Hi(t),Sl(t),t.g=null;var s=2}else if(hc(t.h,e))n=e.F,Mp(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=To(),je(s,new wp(s,n)),Ro(t)}else Kp(t);else if(r=e.o,r==3||r==0&&0<t.ta||!(s==1&&ib(t,e)||s==2&&Il(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Fn(t,5);break;case 4:Fn(t,10);break;case 3:Fn(t,6);break;default:Fn(t,2)}}}function Qp(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Fn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=Xe(t.pb,t);n||(n=new qn("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||ji(n,"https"),xo(n)),eb(n.toString(),s)}else st(2);t.H=0,t.l&&t.l.za(e),Yp(t),Hp(t)}O.pb=function(t){t?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Yp(t){if(t.H=0,t.pa=[],t.l){const e=Lp(t.h);(e.length!=0||t.i.length!=0)&&(wh(t.pa,e),wh(t.pa,t.i),t.h.i.length=0,ol(t.i),t.i.length=0),t.l.ya()}}function Xp(t,e,n){var s=n instanceof qn?Zt(n):new qn(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),qi(s,s.m);else{var r=Q.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new qn(null,void 0);s&&ji(i,s),e&&(i.g=e),r&&qi(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&we(s,n,e),we(s,"VER",t.qa),Gr(t,s),s}function Jp(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Te(new Kr({ob:!0})):new Te(t.va),e.Oa(t.I),e}function Zp(){}O=Zp.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.Va=function(){};function zi(){if(As&&!(10<=Number(_E)))throw Error("Environmental error: no available transport.")}zi.prototype.g=function(t,e){return new pt(t,e)};function pt(t,e){Le.call(this),this.g=new qp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new js(this)}Fe(pt,Le);pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=Xp(t,null,t.Y),Ro(t)};pt.prototype.close=function(){Tl(this.g)};pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dl(t),t=n);e.i.push(new YE(e.fb++,t)),e.H==3&&Ro(e)};pt.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,pt.$.N.call(this)};function eg(t){yl.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Fe(eg,yl);function tg(){vl.call(this),this.status=1}Fe(tg,vl);function js(t){this.g=t}Fe(js,Zp);js.prototype.Ba=function(){je(this.g,"a")};js.prototype.Aa=function(t){je(this.g,new eg(t))};js.prototype.za=function(t){je(this.g,new tg)};js.prototype.ya=function(){je(this.g,"b")};function ob(){this.blockSize=-1}function At(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Fe(At,ob);At.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ma(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}At.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)ma(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){ma(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){ma(this,s),r=0;break}}this.h=r,this.i+=e};At.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function fe(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var ab={};function Cl(t){return-128<=t&&128>t?ep(ab,t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Bt(t){if(isNaN(t)||!isFinite(t))return ws;if(0>t)return Ue(Bt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=fc;return new fe(e,0)}function ng(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(ng(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bt(Math.pow(e,8)),s=ws,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=Bt(Math.pow(e,i)),s=s.R(i).add(Bt(o))):(s=s.R(n),s=s.add(Bt(o)))}return s}var fc=4294967296,ws=Cl(0),dc=Cl(1),Rh=Cl(16777216);O=fe.prototype;O.ea=function(){if(mt(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:fc+s)*e,e*=fc}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qt(this))return"0";if(mt(this))return"-"+Ue(this).toString(t);for(var e=Bt(Math.pow(t,6)),n=this,s="";;){var r=Wi(n,e).g;n=Ki(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Qt(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mt(t){return t.h==-1}O.X=function(t){return t=Ki(this,t),mt(t)?-1:Qt(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new fe(n,~t.h).add(dc)}O.abs=function(){return mt(this)?Ue(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function Ki(t,e){return t.add(Ue(e))}O.R=function(t){if(Qt(this)||Qt(t))return ws;if(mt(this))return mt(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(mt(t))return Ue(this.R(Ue(t)));if(0>this.X(Rh)&&0>t.X(Rh))return Bt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*s+2*r]+=o*c,fi(n,2*s+2*r),n[2*s+2*r+1]+=i*c,fi(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,fi(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,fi(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new fe(n,0)};function fi(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xs(t,e){this.g=t,this.h=e}function Wi(t,e){if(Qt(e))throw Error("division by zero");if(Qt(t))return new Xs(ws,ws);if(mt(t))return e=Wi(Ue(t),e),new Xs(Ue(e.g),Ue(e.h));if(mt(e))return e=Wi(t,Ue(e)),new Xs(Ue(e.g),e.h);if(30<t.g.length){if(mt(t)||mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dc,s=e;0>=s.X(t);)n=Nh(n),s=Nh(s);var r=as(n,1),i=as(s,1);for(s=as(s,2),n=as(n,2);!Qt(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=as(s,1),n=as(n,1)}return e=Ki(t,r.R(e)),new Xs(r,e)}for(r=ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=Bt(n),o=i.R(e);mt(o)||0<o.X(t);)n-=s,i=Bt(n),o=i.R(e);Qt(i)&&(i=dc),r=r.add(i),t=Ki(t,o)}return new Xs(r,t)}O.gb=function(t){return Wi(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new fe(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new fe(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new fe(n,this.h^t.h)};function Nh(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new fe(n,t.h)}function as(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new fe(r,t.h)}zi.prototype.createWebChannel=zi.prototype.g;pt.prototype.send=pt.prototype.u;pt.prototype.open=pt.prototype.m;pt.prototype.close=pt.prototype.close;Io.NO_ERROR=0;Io.TIMEOUT=8;Io.HTTP_ERROR=6;Ep.COMPLETE="complete";bp.EventType=qr;qr.OPEN="a";qr.CLOSE="b";qr.ERROR="c";qr.MESSAGE="d";Le.prototype.listen=Le.prototype.O;Te.prototype.listenOnce=Te.prototype.P;Te.prototype.getLastError=Te.prototype.Sa;Te.prototype.getLastErrorCode=Te.prototype.Ia;Te.prototype.getStatus=Te.prototype.da;Te.prototype.getResponseJson=Te.prototype.Wa;Te.prototype.getResponseText=Te.prototype.ja;Te.prototype.send=Te.prototype.ha;Te.prototype.setWithCredentials=Te.prototype.Oa;At.prototype.digest=At.prototype.l;At.prototype.reset=At.prototype.reset;At.prototype.update=At.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Bt;fe.fromString=ng;var cb=function(){return new zi},lb=function(){return To()},ya=Io,ub=Ep,hb=Zn,Oh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fb=Kr,di=bp,db=Te,pb=At,Es=fe;const Ph="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new sl("@firebase/firestore");function Mh(){return Gn.logLevel}function $(t,...e){if(Gn.logLevel<=le.DEBUG){const n=e.map(xl);Gn.debug(`Firestore (${qs}): ${t}`,...n)}}function en(t,...e){if(Gn.logLevel<=le.ERROR){const n=e.map(xl);Gn.error(`Firestore (${qs}): ${t}`,...n)}}function Ds(t,...e){if(Gn.logLevel<=le.WARN){const n=e.map(xl);Gn.warn(`Firestore (${qs}): ${t}`,...n)}}function xl(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw en(e),new Error(e)}function ve(t,e){t||K()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends In{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}}class mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yb{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ve(typeof s.accessToken=="string"),new sg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new ze(e)}}class vb{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wb{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new vb(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.T=n.token,new Eb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=_b(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ie(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Re(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Re(0,0))}static max(){return new X(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,s){n===void 0?n=0:n>e.length&&K(),s===void 0?s=e.length-n:s>e.length-n&&K(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Rr{construct(e,n,s){return new Ee(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new q(I.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const Tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Rr{construct(e,n,s){return new Ye(e,n,s)}static isValidIdentifier(e){return Tb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new q(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new q(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Ee.fromString(e))}static fromName(e){return new H(Ee.fromString(e).popFirst(5))}static empty(){return new H(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Ee(e.slice()))}}function Ib(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=X.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new bn(r,H.empty(),e)}function Sb(t){return new bn(t.readTime,t.key,-1)}class bn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new bn(X.min(),H.empty(),-1)}static max(){return new bn(X.max(),H.empty(),-1)}}function Cb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ab{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==xb)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,s)=>{n(e)})}static reject(e){return new x((n,s)=>{s(e)})}static waitFor(e){return new x((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=x.resolve(!1);for(const s of e)n=n.next(r=>r?x.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new x((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new x((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Yr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Al.ct=-1;function No(t){return t==null}function Gi(t){return t===0&&1/t==-1/0}function Db(t){return typeof t=="number"&&Number.isInteger(t)&&!Gi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ig(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.comparator=e,this.root=n||Be.EMPTY}insert(e,n){return new _e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pi(this.root,e,this.comparator,!1)}getReverseIterator(){return new pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pi(this.root,e,this.comparator,!0)}}class pi{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Be.RED,this.left=r!=null?r:Be.EMPTY,this.right=i!=null?i:Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Be(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Be.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Be(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fh(this.data.getIterator())}getIteratorFrom(e){return new Fh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class Fh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new ht([])}unionWith(e){let n=new Ze(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new og("Invalid base64 string: "+r):r}}(e);return new et(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _n(t){if(ve(!!t),typeof t=="string"){let e=0;const n=kb.exec(t);if(ve(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kl(t){const e=t.mapValue.fields.__previous_value__;return Dl(e)?kl(e):e}function Nr(t){const e=_n(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,s,r,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Or{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Or("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Or&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dl(t)?4:Nb(t)?9007199254740991:10:K()}function jt(t,e){if(t===e)return!0;const n=Yn(t);if(n!==Yn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nr(t).isEqual(Nr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=_n(s.timestampValue),o=_n(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Qn(s.bytesValue).isEqual(Qn(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return De(s.geoPointValue.latitude)===De(r.geoPointValue.latitude)&&De(s.geoPointValue.longitude)===De(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return De(s.integerValue)===De(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=De(s.doubleValue),o=De(r.doubleValue);return i===o?Gi(i)===Gi(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],jt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Lh(i)!==Lh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!jt(i[a],o[a])))return!1;return!0}(t,e);default:return K()}}function Pr(t,e){return(t.values||[]).find(n=>jt(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Yn(t),s=Yn(e);if(n!==s)return ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=De(r.integerValue||r.doubleValue),a=De(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return $h(t.timestampValue,e.timestampValue);case 4:return $h(Nr(t),Nr(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Qn(r),a=Qn(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=ie(o[c],a[c]);if(l!==0)return l}return ie(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ie(De(r.latitude),De(i.latitude));return o!==0?o:ie(De(r.longitude),De(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Rs(o[c],a[c]);if(l)return l}return ie(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===gi.mapValue&&i===gi.mapValue)return 0;if(r===gi.mapValue)return 1;if(i===gi.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=ie(a[u],l[u]);if(h!==0)return h;const f=Rs(o[a[u]],c[l[u]]);if(f!==0)return f}return ie(a.length,l.length)}(t.mapValue,e.mapValue);default:throw K()}}function $h(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=_n(t),s=_n(e),r=ie(n.seconds,s.seconds);return r!==0?r:ie(n.nanos,s.nanos)}function Ns(t){return pc(t)}function pc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=_n(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,H.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=pc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${pc(s.fields[a])}`;return i+"}"}(t.mapValue):K();var e,n}function gc(t){return!!t&&"integerValue"in t}function Rl(t){return!!t&&"arrayValue"in t}function Bh(t){return!!t&&"nullValue"in t}function Vh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ii(t){return!!t&&"mapValue"in t}function ur(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ur(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ur(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.value=e}static empty(){return new ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ii(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ur(n)}setAll(e){let n=Ye.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=ur(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Ii(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Ii(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){es(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new ot(ur(this.value))}}function ag(t){const e=[];return es(t.fields,(n,s)=>{const r=new Ye([n]);if(Ii(s)){const i=ag(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,X.min(),X.min(),X.min(),ot.empty(),0)}static newFoundDocument(e,n,s,r){return new Ke(e,1,n,X.min(),s,r,0)}static newNoDocument(e,n){return new Ke(e,2,n,X.min(),X.min(),ot.empty(),0)}static newUnknownDocument(e,n){return new Ke(e,3,n,X.min(),X.min(),ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.position=e,this.inclusive=n}}function Uh(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=H.comparator(H.fromName(o.referenceValue),n.key):s=Rs(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function jh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ob(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{}class ke extends cg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Mb(e,n,s):n==="array-contains"?new $b(e,s):n==="in"?new Bb(e,s):n==="not-in"?new Vb(e,s):n==="array-contains-any"?new Ub(e,s):new ke(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Lb(e,s):new Fb(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rs(n,this.value)):n!==null&&Yn(this.value)===Yn(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qt extends cg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new qt(e,n)}matches(e){return lg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lg(t){return t.op==="and"}function ug(t){return Pb(t)&&lg(t)}function Pb(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function mc(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+Ns(t.value);if(ug(t))return t.filters.map(e=>mc(e)).join(",");{const e=t.filters.map(n=>mc(n)).join(",");return`${t.op}(${e})`}}function hg(t,e){return t instanceof ke?function(n,s){return s instanceof ke&&n.op===s.op&&n.field.isEqual(s.field)&&jt(n.value,s.value)}(t,e):t instanceof qt?function(n,s){return s instanceof qt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&hg(i,s.filters[o]),!0):!1}(t,e):void K()}function fg(t){return t instanceof ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Ns(e.value)}`}(t):t instanceof qt?function(e){return e.op.toString()+" {"+e.getFilters().map(fg).join(" ,")+"}"}(t):"Filter"}class Mb extends ke{constructor(e,n,s){super(e,n,s),this.key=H.fromName(s.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lb extends ke{constructor(e,n){super(e,"in",n),this.keys=dg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fb extends ke{constructor(e,n){super(e,"not-in",n),this.keys=dg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>H.fromName(s.referenceValue))}class $b extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rl(n)&&Pr(n.arrayValue,this.value)}}class Bb extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pr(this.value.arrayValue,n)}}class Vb extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pr(this.value.arrayValue,n)}}class Ub extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function qh(t,e=null,n=[],s=[],r=null,i=null,o=null){return new jb(t,e,n,s,r,i,o)}function Nl(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>mc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),No(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ns(s)).join(",")),e.dt=n}return e.dt}function Ol(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ob(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jh(t.startAt,e.startAt)&&jh(t.endAt,e.endAt)}function yc(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function qb(t,e,n,s,r,i,o,a){return new Oo(t,e,n,s,r,i,o,a)}function Pl(t){return new Oo(t)}function Hh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zb(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Kb(t){return t.collectionGroup!==null}function bs(t){const e=J(t);if(e.wt===null){e.wt=[];const n=zb(e),s=Hb(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new hr(n)),e.wt.push(new hr(Ye.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new hr(Ye.keyField(),i))}}}return e.wt}function tn(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=qh(e.path,e.collectionGroup,bs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of bs(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new hr(i.field,o))}const s=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;e._t=qh(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function vc(t,e,n){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Po(t,e){return Ol(tn(t),tn(e))&&t.limitType===e.limitType}function pg(t){return`${Nl(tn(t))}|lt:${t.limitType}`}function wc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>fg(s)).join(", ")}]`),No(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ns(s)).join(",")),`Target(${n})`}(tn(t))}; limitType=${t.limitType})`}function Mo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):H.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of bs(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Uh(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,bs(n),s)||n.endAt&&!function(r,i,o){const a=Uh(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,bs(n),s))}(t,e)}function Wb(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gg(t){return(e,n)=>{let s=!1;for(const r of bs(t)){const i=Gb(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Gb(t,e,n){const s=t.field.isKeyField()?H.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Rs(a,c):K()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return ig(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new _e(H.comparator);function nn(){return Qb}const mg=new _e(H.comparator);function nr(...t){let e=mg;for(const n of t)e=e.insert(n.key,n);return e}function yg(t){let e=mg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $n(){return fr()}function vg(){return fr()}function fr(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yb=new _e(H.comparator),Xb=new Ze(H.comparator);function te(...t){let e=Xb;for(const n of t)e=e.add(n);return e}const Jb=new Ze(ie);function Zb(){return Jb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gi(e)?"-0":e}}function Eg(t){return{integerValue:""+t}}function e_(t,e){return Db(e)?Eg(e):wg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this._=void 0}}function t_(t,e,n){return t instanceof Yi?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Dl(r)&&(r=kl(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Mr?_g(t,e):t instanceof Lr?Tg(t,e):function(s,r){const i=bg(s,r),o=zh(i)+zh(s.gt);return gc(i)&&gc(s.gt)?Eg(o):wg(s.serializer,o)}(t,e)}function n_(t,e,n){return t instanceof Mr?_g(t,e):t instanceof Lr?Tg(t,e):n}function bg(t,e){return t instanceof Xi?gc(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Yi extends Lo{}class Mr extends Lo{constructor(e){super(),this.elements=e}}function _g(t,e){const n=Ig(e);for(const s of t.elements)n.some(r=>jt(r,s))||n.push(s);return{arrayValue:{values:n}}}class Lr extends Lo{constructor(e){super(),this.elements=e}}function Tg(t,e){let n=Ig(e);for(const s of t.elements)n=n.filter(r=>!jt(r,s));return{arrayValue:{values:n}}}class Xi extends Lo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function zh(t){return De(t.integerValue||t.doubleValue)}function Ig(t){return Rl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s_(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Mr&&s instanceof Mr||n instanceof Lr&&s instanceof Lr?ks(n.elements,s.elements,jt):n instanceof Xi&&s instanceof Xi?jt(n.gt,s.gt):n instanceof Yi&&s instanceof Yi}(t.transform,e.transform)}class r_{constructor(e,n){this.version=e,this.transformResults=n}}class St{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new St}static exists(e){return new St(void 0,e)}static updateTime(e){return new St(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Si(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fo{}function Sg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ml(t.key,St.none()):new Xr(t.key,t.data,St.none());{const n=t.data,s=ot.empty();let r=new Ze(Ye.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new xn(t.key,s,new ht(r.toArray()),St.none())}}function i_(t,e,n){t instanceof Xr?function(s,r,i){const o=s.value.clone(),a=Wh(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xn?function(s,r,i){if(!Si(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Wh(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Cg(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function dr(t,e,n,s){return t instanceof Xr?function(r,i,o,a){if(!Si(r.precondition,i))return o;const c=r.value.clone(),l=Gh(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof xn?function(r,i,o,a){if(!Si(r.precondition,i))return o;const c=Gh(r.fieldTransforms,a,i),l=i.data;return l.setAll(Cg(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Si(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function o_(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=bg(s.transform,r||null);i!=null&&(n===null&&(n=ot.empty()),n.set(s.field,i))}return n||null}function Kh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ks(n,s,(r,i)=>s_(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xr extends Fo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xn extends Fo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Wh(t,e,n){const s=new Map;ve(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,n_(o,a,n[r]))}return s}function Gh(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,t_(i,o,e))}return s}class Ml extends Fo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a_ extends Fo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&i_(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=dr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=dr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=vg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=Sg(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(X.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,s)=>Kh(n,s))&&ks(this.baseMutations,e.baseMutations,(n,s)=>Kh(n,s))}}class Ll{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){ve(e.mutations.length===s.length);let r=Yb;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Ll(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,ne;function h_(t){switch(t){default:return K();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function xg(t){if(t===void 0)return en("GRPC error has no .code"),I.UNKNOWN;switch(t){case xe.OK:return I.OK;case xe.CANCELLED:return I.CANCELLED;case xe.UNKNOWN:return I.UNKNOWN;case xe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case xe.INTERNAL:return I.INTERNAL;case xe.UNAVAILABLE:return I.UNAVAILABLE;case xe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case xe.NOT_FOUND:return I.NOT_FOUND;case xe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case xe.ABORTED:return I.ABORTED;case xe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case xe.DATA_LOSS:return I.DATA_LOSS;default:return K()}}(ne=xe||(xe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mi}static getOrCreateInstance(){return mi===null&&(mi=new Fl),mi}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let mi=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Es([4294967295,4294967295],0);function Qh(t){const e=f_().encode(t),n=new pb;return n.update(e),new Uint8Array(n.digest())}function Yh(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Es([n,s],0),new Es([r,i],0)]}class $l{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new sr(`Invalid padding: ${n}`);if(s<0)throw new sr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new sr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new sr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Es.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(Es.fromNumber(s)));return r.compare(d_)===1&&(r=new Es([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Qh(e),[s,r]=Yh(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new $l(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Qh(e),[s,r]=Yh(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class sr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Jr.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $o(X.min(),r,new _e(ie),nn(),te())}}class Jr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Jr(s,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class Ag{constructor(e,n){this.targetId=e,this.Vt=n}}class Dg{constructor(e,n,s=et.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Xh{constructor(){this.St=0,this.Dt=Zh(),this.Ct=et.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=te(),n=te(),s=te();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:K()}}),new Jr(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Zh()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class p_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=nn(),this.zt=Jh(),this.Wt=new _e(ie)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(yc(o))if(r===0){const a=new H(o.path);this.Yt(s,a,Ke.newNoDocument(a,X.min()))}else ve(r===1);else{const a=this.ie(s);if(a!==r){const c=this.re(e,a);if(c!==0){this.ee(s);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,l)}(n=Fl.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,u,h){var f,g,w,E,C,R;const P={localCacheCount:u,existenceFilterCount:h.count},z=h.unchangedNames;return z&&(P.bloomFilter={applied:l===0,hashCount:(f=z==null?void 0:z.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(E=(w=(g=z==null?void 0:z.bits)===null||g===void 0?void 0:g.bitmap)===null||w===void 0?void 0:w.length)!==null&&E!==void 0?E:0,padding:(R=(C=z==null?void 0:z.bits)===null||C===void 0?void 0:C.padding)!==null&&R!==void 0?R:0}),P}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let c,l;try{c=Qn(i).toUint8Array()}catch(u){if(u instanceof og)return Ds("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new $l(c,o,a)}catch(u){return Ds(u instanceof sr?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return l.It===0?1:r!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&yc(a.target)){const c=new H(a.target.path);this.jt.get(c)!==null||this.ae(o,c)||this.Yt(o,c,Ke.newNoDocument(c,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=te();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new $o(e,n,this.Wt,this.jt,s);return this.jt=nn(),this.zt=Jh(),this.Wt=new _e(ie),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Xh,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ze(ie),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Xh),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Jh(){return new _e(H.comparator)}function Zh(){return new _e(H.comparator)}const g_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),y_=(()=>({and:"AND",or:"OR"}))();class v_{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ec(t,e){return t.useProto3Json||No(e)?e:{value:e}}function Ji(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w_(t,e){return Ji(t,e.toTimestamp())}function Ut(t){return ve(!!t),X.fromTimestamp(function(e){const n=_n(e);return new Re(n.seconds,n.nanos)}(t))}function Bl(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Rg(t){const e=Ee.fromString(t);return ve(Mg(e)),e}function bc(t,e){return Bl(t.databaseId,e.path)}function va(t,e){const n=Rg(e);if(n.get(1)!==t.databaseId.projectId)throw new q(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Ng(n))}function _c(t,e){return Bl(t.databaseId,e)}function E_(t){const e=Rg(t);return e.length===4?Ee.emptyPath():Ng(e)}function Tc(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ng(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ef(t,e,n){return{name:bc(t,e),fields:n.value.mapValue.fields}}function b_(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.useProto3Json?(ve(l===void 0||typeof l=="string"),et.fromBase64String(l||"")):(ve(l===void 0||l instanceof Uint8Array),et.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?I.UNKNOWN:xg(c.code);return new q(l,c.message||"")}(o);n=new Dg(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=va(t,s.document.name),i=Ut(s.document.updateTime),o=s.document.createTime?Ut(s.document.createTime):X.min(),a=new ot({mapValue:{fields:s.document.fields}}),c=Ke.newFoundDocument(r,i,o,a),l=s.targetIds||[],u=s.removedTargetIds||[];n=new Ci(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=va(t,s.document),i=s.readTime?Ut(s.readTime):X.min(),o=Ke.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Ci([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=va(t,s.document),i=s.removedTargetIds||[];n=new Ci([],i,r,null)}else{if(!("filter"in e))return K();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new u_(r,i),a=s.targetId;n=new Ag(a,o)}}return n}function __(t,e){let n;if(e instanceof Xr)n={update:ef(t,e.key,e.value)};else if(e instanceof Ml)n={delete:bc(t,e.key)};else if(e instanceof xn)n={update:ef(t,e.key,e.data),updateMask:R_(e.fieldMask)};else{if(!(e instanceof a_))return K();n={verify:bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Yi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Mr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Lr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Xi)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw K()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:w_(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:K()}(t,e.precondition)),n}function T_(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Ut(s.updateTime):Ut(r);return i.isEqual(X.min())&&(i=Ut(r)),new r_(i,s.transformResults||[])}(n,e))):[]}function I_(t,e){return{documents:[_c(t,e.path)]}}function S_(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=_c(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_c(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return Pg(qt.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:fs(u.field),direction:A_(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Ec(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function C_(t){let e=E_(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){ve(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=Og(u);return h instanceof qt&&ug(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new hr(ds(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,No(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,f=u.values||[];return new Qi(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,f=u.values||[];return new Qi(f,h)}(n.endAt)),qb(e,r,o,i,a,"F",c,l)}function x_(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Og(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ds(e.unaryFilter.field);return ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ds(e.unaryFilter.field);return ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ds(e.unaryFilter.field);return ke.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ds(e.unaryFilter.field);return ke.create(i,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return ke.create(ds(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qt.create(e.compositeFilter.filters.map(n=>Og(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function A_(t){return g_[t]}function D_(t){return m_[t]}function k_(t){return y_[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ds(t){return Ye.fromServerFormat(t.fieldPath)}function Pg(t){return t instanceof ke?function(e){if(e.op==="=="){if(Vh(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NAN"}};if(Bh(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vh(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NOT_NAN"}};if(Bh(e.value))return{unaryFilter:{field:fs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(e.field),op:D_(e.op),value:e.value}}}(t):t instanceof qt?function(e){const n=e.getFilters().map(s=>Pg(s));return n.length===1?n[0]:{compositeFilter:{op:k_(e.op),filters:n}}}(t):K()}function R_(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mg(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,s,r,i=X.min(),o=X.min(),a=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new hn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this.fe=e}}function O_(t){const e=C_({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.rn=new M_}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(bn.min())}updateCollectionGroup(e,n,s){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class M_{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Ze(Ee.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Ze(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Os(0)}static Mn(){return new Os(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?x.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&dr(s.mutation,r,ht.empty(),Re.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=te()){const r=$n();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=nr();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=$n();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,te()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=nn();const o=fr(),a=fr();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof xn)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),dr(u.mutation,l,u.mutation.getFieldMask(),Re.now())):o.set(l.key,ht.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new F_(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=fr();let r=new _e((o,a)=>o-a),i=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||ht.empty();u=a.applyToLocalView(l,u),s.set(c,u);const h=(r.get(a.batchId)||te()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=vg();u.forEach(f=>{if(!i.has(f)){const g=Sg(n.get(f),s.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return x.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return H.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):x.resolve($n());let a=-1,c=i;return o.next(l=>x.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?x.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,te())).next(u=>({batchId:a,changes:yg(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(s=>{let r=nr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=nr();return this.indexManager.getCollectionParents(e,r).next(o=>x.forEach(o,a=>{const c=function(l,u){return new Oo(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,c)=>{const l=c.getKey();i.get(l)===null&&(i=i.insert(l,Ke.newInvalidDocument(l)))});let o=nr();return i.forEach((a,c)=>{const l=r.get(a);l!==void 0&&dr(l.mutation,c,ht.empty(),Re.now()),Mo(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Ut(s.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:O_(s.bundledQuery),readTime:Ut(s.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.overlays=new _e(H.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$n();return x.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),x.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),x.resolve()}getOverlaysForCollection(e,n,s){const r=$n(),i=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return x.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new _e((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=$n(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=$n(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return x.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new l_(n,s));let i=this.ls.get(n);i===void 0&&(i=te(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.fs=new Ze(Pe.ds),this.ws=new Ze(Pe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Pe(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Pe(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new H(new Ee([])),s=new Pe(n,e),r=new Pe(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new H(new Ee([])),s=new Pe(n,e),r=new Pe(n,e+1);let i=te();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pe(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pe{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return H.comparator(e.key,n.key)||ie(e.As,n.As)}static _s(e,n){return ie(e.As,n.As)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ze(Pe.ds)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c_(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new Pe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return x.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pe(n,0),r=new Pe(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),x.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ze(ie);return n.forEach(r=>{const i=new Pe(r,0),o=new Pe(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),x.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;H.isDocumentKey(i)||(i=i.child(""));const o=new Pe(new H(i),0);let a=new Ze(ie);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},o),x.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ve(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return x.forEach(n.mutations,r=>{const i=new Pe(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Pe(n,0),r=this.Rs.firstAfterOrEqual(s);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.Ds=e,this.docs=new _e(H.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return x.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(e,n){let s=nn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ke.newInvalidDocument(r))}),x.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=nn();const o=n.path,a=new H(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Cb(Sb(u),s)<=0||(r.has(u.key)||Mo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return x.resolve(i)}getAllFromCollectionGroup(e,n,s,r){K()}Cs(e,n){return x.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new q_(this)}getSize(e){return x.resolve(this.size)}}class q_ extends L_{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.persistence=e,this.xs=new Hs(n=>Nl(n),Ol),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vl,this.targetCount=0,this.Ms=Os.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),x.waitFor(i).next(()=>r)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return x.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),x.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),x.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return x.resolve(s)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.$s={},this.overlays={},this.Os=new Al(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new H_(this),this.indexManager=new P_,this.remoteDocumentCache=function(s){return new j_(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new N_(n),this.qs=new B_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new U_(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){$("MemoryPersistence","Starting transaction:",e);const r=new K_(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return x.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class K_ extends Ab{constructor(e){super(),this.currentSequenceNumber=e}}class Ul{constructor(e){this.persistence=e,this.Qs=new Vl,this.js=null}static zs(e){return new Ul(e)}get Ws(){if(this.js)return this.js;throw K()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),x.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,s=>{const r=H.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,X.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=te(),r=te();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new jl(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Hh(n))return x.resolve(null);let s=tn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=vc(n,null,"F"),s=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=te(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,vc(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,s,r){return Hh(n)||r.isEqual(X.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(Mh()<=le.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wc(n)),this.Wi(e,o,n,Ib(r,-1)))})}ji(e,n){let s=new Ze(gg(e));return n.forEach((r,i)=>{Mo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return Mh()<=le.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",wc(n)),this.Ui.getDocumentsMatchingQuery(e,n,bn.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new _e(ie),this.Yi=new Hs(i=>Nl(i),Ol),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Q_(t,e,n,s){return new G_(t,e,n,s)}async function Lg(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=te();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function Y_(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let f=x.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(a,g)).next(w=>{const E=c.docVersions.get(g);ve(E!==null),w.version.compareTo(E)<0&&(u.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),l.addEntry(w)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=te();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Fg(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function X_(t,e){const n=J(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(et.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,s)),r=r.insert(h,g),function(w,E,C){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,g,u)&&a.push(n.Bs.updateTargetData(i,g))});let c=nn(),l=te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(J_(i,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!s.isEqual(X.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return x.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.Ji=r,i))}function J_(t,e,n){let s=te(),r=te();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=nn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(X.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:r}})}function Z_(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eT(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,x.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new hn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Ic(t,e,n){const s=J(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Yr(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function tf(t,e,n){const s=J(t);let r=X.min(),i=te();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=J(a),h=u.Yi.get(l);return h!==void 0?x.resolve(u.Ji.get(h)):u.Bs.getTargetData(c,l)}(s,o,tn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:X.min(),n?i:te())).next(a=>(tT(s,Wb(e),a),{documents:a,ir:i})))}function tT(t,e,n){let s=t.Xi.get(e)||X.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class nf{constructor(){this.activeTargetIds=Zb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nT{constructor(){this.Hr=new nf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi=null;function wa(){return yi===null?yi=268435456+Math.round(2147483648*Math.random()):yi++,"0x"+yi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class oT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=wa(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const c={};return this.Eo(c,r,i),this.Ao(e,a,c,s).then(l=>($("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Ds("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",s),l})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=rT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=wa();return new Promise((o,a)=>{const c=new db;c.setWithCredentials(!0),c.listenOnce(ub.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ya.NO_ERROR:const u=c.getResponseJson();$(He,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case ya.TIMEOUT:$(He,`RPC '${e}' ${i} timed out`),a(new q(I.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:const h=c.getStatus();if($(He,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const w=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(C)>=0?C:I.UNKNOWN}(g.status);a(new q(w,g.message))}else a(new q(I.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new q(I.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{$(He,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);$(He,`RPC '${e}' ${i} sending request:`,r),c.send(n,"POST",l,s,15)})}Ro(e,n,s){const r=wa(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cb(),a=lb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new fb({})),this.Eo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const u=i.join("");$(He,`Creating RPC '${e}' stream ${r}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,g=!1;const w=new iT({ro:C=>{g?$(He,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(f||($(He,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),$(He,`RPC '${e}' stream ${r} sending:`,C),h.send(C))},oo:()=>h.close()}),E=(C,R,P)=>{C.listen(R,z=>{try{P(z)}catch(N){setTimeout(()=>{throw N},0)}})};return E(h,di.EventType.OPEN,()=>{g||$(He,`RPC '${e}' stream ${r} transport opened.`)}),E(h,di.EventType.CLOSE,()=>{g||(g=!0,$(He,`RPC '${e}' stream ${r} transport closed`),w.wo())}),E(h,di.EventType.ERROR,C=>{g||(g=!0,Ds(He,`RPC '${e}' stream ${r} transport errored:`,C),w.wo(new q(I.UNAVAILABLE,"The operation could not be completed")))}),E(h,di.EventType.MESSAGE,C=>{var R;if(!g){const P=C.data[0];ve(!!P);const z=P,N=z.error||((R=z[0])===null||R===void 0?void 0:R.error);if(N){$(He,`RPC '${e}' stream ${r} received error:`,N);const G=N.status;let V=function(lt){const Ht=xe[lt];if(Ht!==void 0)return xg(Ht)}(G),Ie=N.message;V===void 0&&(V=I.INTERNAL,Ie="Unknown error status: "+G+" with message "+N.message),g=!0,w.wo(new q(V,Ie)),h.close()}else $(He,`RPC '${e}' stream ${r} received:`,P),w._o(P)}}),E(a,hb.STAT_EVENT,C=>{C.stat===Oh.PROXY?$(He,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===Oh.NOPROXY&&$(He,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function Ea(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return new v_(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,s,r,i,o,a,c){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $g(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(en(n.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new q(I.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aT extends Bg{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=b_(this.serializer,e),s=function(r){if(!("targetChange"in r))return X.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?X.min():i.readTime?Ut(i.readTime):X.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Tc(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=yc(a)?{documents:I_(r,a)}:{query:S_(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=kg(r,i.resumeToken);const c=Ec(r,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(X.min())>0){o.readTime=Ji(r,i.snapshotVersion.toTimestamp());const c=Ec(r,i.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const s=x_(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Tc(this.serializer),n.removeTarget=e,this.Wo(n)}}class cT extends Bg{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=T_(e.writeResults,e.commitTime),s=Ut(e.commitTime);return this.listener.cu(s,n)}return ve(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>__(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new q(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(I.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(I.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class uT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(en(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{ts(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=J(a);c.vu.add(4),await Zr(c),c.bu.set("Unknown"),c.vu.delete(4),await Vo(c)}(this))})}),this.bu=new uT(s,r)}}async function Vo(t){if(ts(t))for(const e of t.Ru)await e(!0)}async function Zr(t){for(const e of t.Ru)await e(!1)}function Vg(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),zl(n)?Hl(n):zs(n).Ko()&&ql(n,e))}function Ug(t,e){const n=J(t),s=zs(n);n.Au.delete(e),s.Ko()&&jg(n,e),n.Au.size===0&&(s.Ko()?s.jo():ts(n)&&n.bu.set("Unknown"))}function ql(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zs(t).su(e)}function jg(t,e){t.Vu.qt(e),zs(t).iu(e)}function Hl(t){t.Vu=new p_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),zs(t).start(),t.bu.gu()}function zl(t){return ts(t)&&!zs(t).Uo()&&t.Au.size>0}function ts(t){return J(t).vu.size===0}function qg(t){t.Vu=void 0}async function fT(t){t.Au.forEach((e,n)=>{ql(t,e)})}async function dT(t,e){qg(t),zl(t)?(t.bu.Iu(e),Hl(t)):t.bu.set("Unknown")}async function pT(t,e,n){if(t.bu.set("Online"),e instanceof Dg&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zi(t,s)}else if(e instanceof Ci?t.Vu.Ht(e):e instanceof Ag?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(X.min()))try{const s=await Fg(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(et.EMPTY_BYTE_STRING,l.snapshotVersion)),jg(r,a);const u=new hn(l.target,a,c,l.sequenceNumber);ql(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){$("RemoteStore","Failed to raise snapshot:",s),await Zi(t,s)}}async function Zi(t,e,n){if(!Yr(e))throw e;t.vu.add(1),await Zr(t),t.bu.set("Offline"),n||(n=()=>Fg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Vo(t)})}function Hg(t,e){return e().catch(n=>Zi(t,n,e))}async function Uo(t){const e=J(t),n=Tn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;gT(e);)try{const r=await Z_(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,mT(e,r)}catch(r){await Zi(e,r)}zg(e)&&Kg(e)}function gT(t){return ts(t)&&t.Eu.length<10}function mT(t,e){t.Eu.push(e);const n=Tn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function zg(t){return ts(t)&&!Tn(t).Uo()&&t.Eu.length>0}function Kg(t){Tn(t).start()}async function yT(t){Tn(t).hu()}async function vT(t){const e=Tn(t);for(const n of t.Eu)e.uu(n.mutations)}async function wT(t,e,n){const s=t.Eu.shift(),r=Ll.from(s,e,n);await Hg(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Uo(t)}async function ET(t,e){e&&Tn(t).ou&&await async function(n,s){if(r=s.code,h_(r)&&r!==I.ABORTED){const i=n.Eu.shift();Tn(n).Qo(),await Hg(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Uo(n)}var r}(t,e),zg(t)&&Kg(t)}async function rf(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=ts(n);n.vu.add(3),await Zr(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Vo(n)}async function bT(t,e){const n=J(t);e?(n.vu.delete(2),await Vo(n)):e||(n.vu.add(2),await Zr(n),n.bu.set("Unknown"))}function zs(t){return t.Su||(t.Su=function(e,n,s){const r=J(e);return r.fu(),new aT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:fT.bind(null,t),ao:dT.bind(null,t),nu:pT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),zl(t)?Hl(t):t.bu.set("Unknown")):(await t.Su.stop(),qg(t))})),t.Su}function Tn(t){return t.Du||(t.Du=function(e,n,s){const r=J(e);return r.fu(),new cT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:yT.bind(null,t),ao:ET.bind(null,t),au:vT.bind(null,t),cu:wT.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Uo(t)):(await t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Kl(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wl(t,e){if(en("AsyncQueue",`${e}: ${t}`),Yr(t))return new q(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.comparator=e?(n,s)=>e(n,s)||H.comparator(n.key,s.key):(n,s)=>H.comparator(n.key,s.key),this.keyedMap=nr(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new _s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.Cu=new _e(H.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):K():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ps{constructor(e,n,s,r,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ps(e,n,_s.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Po(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.Nu=void 0,this.listeners=[]}}class TT{constructor(){this.queries=new Hs(e=>pg(e),Po),this.onlineState="Unknown",this.ku=new Set}}async function IT(t,e){const n=J(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new _T),r)try{i.Nu=await n.onListen(s)}catch(o){const a=Wl(o,`Initialization of query '${wc(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Gl(n)}async function ST(t,e){const n=J(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function CT(t,e){const n=J(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&Gl(n)}function xT(t,e,n){const s=J(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function Gl(t){t.ku.forEach(e=>{e.next()})}class AT{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.key=e}}class Gg{constructor(e){this.key=e}}class DT{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=gg(e),this.ec=new _s(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new of,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),g=Mo(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?w!==E&&(s.track({type:3,doc:g}),C=!0):this.rc(f,g)||(s.track({type:2,doc:g}),C=!0,(c&&this.tc(g,c)>0||l&&this.tc(g,l)<0)&&(a=!0)):!f&&g?(s.track({type:0,doc:g}),C=!0):f&&!g&&(s.track({type:1,doc:f}),C=!0,(c||l)&&(a=!0)),C&&(g?(o=o.add(g),i=E?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((l,u)=>function(h,f){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return g(h)-g(f)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,i.length!==0||c?{snapshot:new Ps(this.query,e.ec,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new of,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=te(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Gg(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Wg(s))}),n}hc(e){this.Yu=e.ir,this.Zu=te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ps.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class kT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RT{constructor(e){this.key=e,this.fc=!1}}class NT{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Hs(a=>pg(a),Po),this._c=new Map,this.mc=new Set,this.gc=new _e(H.comparator),this.yc=new Map,this.Ic=new Vl,this.Tc={},this.Ec=new Map,this.Ac=Os.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function OT(t,e){const n=qT(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await eT(n.localStore,tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await PT(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&Vg(n.remoteStore,o)}return r}async function PT(t,e,n,s,r){t.Rc=(h,f,g)=>async function(w,E,C,R){let P=E.view.sc(C);P.zi&&(P=await tf(w.localStore,E.query,!1).then(({documents:G})=>E.view.sc(G,P)));const z=R&&R.targetChanges.get(E.targetId),N=E.view.applyChanges(P,w.isPrimaryClient,z);return cf(w,E.targetId,N.cc),N.snapshot}(t,h,f,g);const i=await tf(t.localStore,e,!0),o=new DT(e,i.ir),a=o.sc(i.documents),c=Jr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);cf(t,n,l.cc);const u=new kT(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function MT(t,e){const n=J(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!Po(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ic(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Ug(n.remoteStore,s.targetId),Sc(n,s.targetId)}).catch(Qr)):(Sc(n,s.targetId),await Ic(n.localStore,s.targetId,!0))}async function LT(t,e,n){const s=HT(t);try{const r=await function(i,o){const a=J(i),c=Re.now(),l=o.reduce((f,g)=>f.add(g.key),te());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=nn(),w=te();return a.Zi.getEntries(f,l).next(E=>{g=E,g.forEach((C,R)=>{R.isValidDocument()||(w=w.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(E=>{u=E;const C=[];for(const R of o){const P=o_(R,u.get(R.key).overlayedDocument);P!=null&&C.push(new xn(R.key,P,ag(P.value.mapValue),St.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,C,o)}).next(E=>{h=E;const C=E.applyToLocalDocumentSet(u,w);return a.documentOverlayCache.saveOverlays(f,E.batchId,C)})}).then(()=>({batchId:h.batchId,changes:yg(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.Tc[i.currentUser.toKey()];c||(c=new _e(ie)),c=c.insert(o,a),i.Tc[i.currentUser.toKey()]=c}(s,r.batchId,n),await ei(s,r.changes),await Uo(s.remoteStore)}catch(r){const i=Wl(r,"Failed to persist write");n.reject(i)}}async function Qg(t,e){const n=J(t);try{const s=await X_(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?ve(o.fc):r.removedDocuments.size>0&&(ve(o.fc),o.fc=!1))}),await ei(n,s,e)}catch(s){await Qr(s)}}function af(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=J(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.Mu(o)&&(c=!0)}),c&&Gl(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FT(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new _e(H.comparator);o=o.insert(i,Ke.newNoDocument(i,X.min()));const a=te().add(i),c=new $o(X.min(),new Map,new _e(ie),o,a);await Qg(s,c),s.gc=s.gc.remove(i),s.yc.delete(e),Ql(s)}else await Ic(s.localStore,e,!1).then(()=>Sc(s,e,n)).catch(Qr)}async function $T(t,e){const n=J(t),s=e.batch.batchId;try{const r=await Y_(n.localStore,e);Xg(n,s,null),Yg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ei(n,r)}catch(r){await Qr(r)}}async function BT(t,e,n){const s=J(t);try{const r=await function(i,o){const a=J(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(ve(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,e);Xg(s,e,n),Yg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ei(s,r)}catch(r){await Qr(r)}}function Yg(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Xg(t,e,n){const s=J(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Sc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Jg(t,s)})}function Jg(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Ug(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Ql(t))}function cf(t,e,n){for(const s of n)s instanceof Wg?(t.Ic.addReference(s.key,e),VT(t,s)):s instanceof Gg?($("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Jg(t,s.key)):K()}function VT(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||($("SyncEngine","New document in limbo: "+n),t.mc.add(s),Ql(t))}function Ql(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new H(Ee.fromString(e)),s=t.Ac.next();t.yc.set(s,new RT(n)),t.gc=t.gc.insert(n,s),Vg(t.remoteStore,new hn(tn(Pl(n.path)),s,"TargetPurposeLimboResolution",Al.ct))}}async function ei(t,e,n){const s=J(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,c)=>{o.push(s.Rc(c,e,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const u=jl.Li(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,c){const l=J(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>x.forEach(c,h=>x.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>x.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Yr(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const f=l.Ji.get(h),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);l.Ji=l.Ji.insert(h,w)}}}(s.localStore,i))}async function UT(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const s=await Lg(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new q(I.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ei(n,s.er)}}function jT(t,e){const n=J(t),s=n.yc.get(e);if(s&&s.fc)return te().add(s.key);{let r=te();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function qT(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FT.bind(null,e),e.dc.nu=CT.bind(null,e.eventManager),e.dc.Pc=xT.bind(null,e.eventManager),e}function HT(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$T.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BT.bind(null,e),e}class lf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Q_(this.persistence,new W_,e.initialUser,this.serializer)}createPersistence(e){return new z_(Ul.zs,this.serializer)}createSharedClientState(e){return new nT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>af(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UT.bind(null,this.syncEngine),await bT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new TT}createDatastore(e){const n=Bo(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new oT(r));var r;return function(i,o,a,c){return new lT(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>af(this.syncEngine,a,0),o=sf.D()?new sf:new sT,new hT(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new NT(s,r,i,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Zr(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ze.UNAUTHENTICATED,this.clientId=rg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wl(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ba(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Lg(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QT(t);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>rf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rf(e.remoteStore,i)),t._onlineComponents=e}function GT(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function QT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await ba(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GT(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await ba(t,new lf)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await ba(t,new lf);return t._offlineComponents}async function Zg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await uf(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await uf(t,new zT))),t._onlineComponents}function YT(t){return Zg(t).then(e=>e.syncEngine)}async function hf(t){const e=await Zg(t),n=e.eventManager;return n.onListen=OT.bind(null,e.syncEngine),n.onUnlisten=MT.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e,n){if(!n)throw new q(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XT(t,e,n,s){if(e===!0&&s===!0)throw new q(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function df(t){if(!H.isDocumentKey(t))throw new q(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pf(t){if(H.isDocumentKey(t))throw new q(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yl(t);throw new q(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new q(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=em((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(I.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class jo{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new gb;switch(n.type){case"firstParty":return new wb(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ff.get(e);n&&($("ComponentProvider","Removing Datastore"),ff.delete(e),n.terminate())}(this),Promise.resolve()}}function JT(t,e,n,s={}){var r;const i=(t=mn(t,jo))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Ds("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=ze.MOCK_USER;else{o=Qw(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new q(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ze(c)}t._authCredentials=new mb(new sg(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class qo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class yn extends qo{constructor(e,n,s){super(e,n,Pl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new H(e))}withConverter(e){return new yn(this.firestore,e,this._path)}}function pr(t,e,...n){if(t=xt(t),tm("collection","path",e),t instanceof jo){const s=Ee.fromString(e,...n);return pf(s),new yn(t,null,s)}{if(!(t instanceof ft||t instanceof yn))throw new q(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ee.fromString(e,...n));return pf(s),new yn(t.firestore,null,s)}}function Cc(t,e,...n){if(t=xt(t),arguments.length===1&&(e=rg.A()),tm("doc","path",e),t instanceof jo){const s=Ee.fromString(e,...n);return df(s),new ft(t,null,new H(s))}{if(!(t instanceof ft||t instanceof yn))throw new q(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ee.fromString(e,...n));return df(s),new ft(t.firestore,t instanceof yn?t.converter:null,new H(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $g(this,"async_queue_retry"),this.Xc=()=>{const n=Ea();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ea();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ea();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Hn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Yr(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw en("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=Kl.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&K()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function mf(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends jo{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new ZT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function eI(t,e){const n=typeof t=="object"?t:Yd(),s=typeof t=="string"?t:e||"(default)",r=Br(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Ww("firestore");i&&JT(r,...i)}return r}function nm(t){return t._firestoreClient||sm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sm(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,c,l){return new Rb(o,a,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,em(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new WT(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=r.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=r.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(et.fromBase64String(e))}catch(n){throw new q(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^__.*__$/;class nI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xr(e,this.data,n,this.fieldTransforms)}}class rm{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new xn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function im(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Zl{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Zl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return eo(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(im(this.ca)&&tI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bo(e)}ya(e,n,s,r=!1){return new Zl({ca:e,methodName:n,ga:s,path:Ye.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=Bo(t._databaseId);return new sI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rI(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);eu("Data must be an object, but it was:",o,s);const a=am(s,o);let c,l;if(i.merge)c=new ht(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=xc(e,h,n);if(!o.contains(f))throw new q(I.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);lm(u,f)||u.push(f)}c=new ht(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new nI(new ot(a),c,l)}class zo extends Xl{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zo}}function iI(t,e,n,s){const r=t.ya(1,e,n);eu("Data must be an object, but it was:",r,s);const i=[],o=ot.empty();es(s,(c,l)=>{const u=tu(e,c,n);l=xt(l);const h=r.da(u);if(l instanceof zo)i.push(u);else{const f=Ko(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new ht(i);return new rm(o,a,r.fieldTransforms)}function oI(t,e,n,s,r,i){const o=t.ya(1,e,n),a=[xc(e,s,n)],c=[r];if(i.length%2!=0)throw new q(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(xc(e,i[f])),c.push(i[f+1]);const l=[],u=ot.empty();for(let f=a.length-1;f>=0;--f)if(!lm(l,a[f])){const g=a[f];let w=c[f];w=xt(w);const E=o.da(g);if(w instanceof zo)l.push(g);else{const C=Ko(w,E);C!=null&&(l.push(g),u.set(g,C))}}const h=new ht(l);return new rm(u,h,o.fieldTransforms)}function Ko(t,e){if(cm(t=xt(t)))return eu("Unsupported field value:",e,t),am(t,e);if(t instanceof Xl)return function(n,s){if(!im(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Ko(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=xt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return e_(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Re.fromDate(n);return{timestampValue:Ji(s.serializer,r)}}if(n instanceof Re){const r=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ji(s.serializer,r)}}if(n instanceof Jl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ls)return{bytesValue:kg(s.serializer,n._byteString)};if(n instanceof ft){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Bl(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Yl(n)}`)}(t,e)}function am(t,e){const n={};return ig(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(s,r)=>{const i=Ko(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function cm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Jl||t instanceof Ls||t instanceof ft||t instanceof Xl)}function eu(t,e,n){if(!cm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Yl(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function xc(t,e,n){if((e=xt(e))instanceof Ho)return e._internalPath;if(typeof e=="string")return tu(t,e);throw eo("Field path arguments must be of type string or ",t,!1,void 0,n)}const aI=new RegExp("[~\\*/\\[\\]]");function tu(t,e,n){if(e.search(aI)>=0)throw eo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ho(...e.split("."))._internalPath}catch{throw eo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eo(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new q(I.INVALID_ARGUMENT,a+t+c)}function lm(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cI extends um{data(){return super.data()}}function hm(t,e){return typeof e=="string"?tu(t,e):e instanceof Ho?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uI{convertValue(e,n="none"){switch(Yn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new Jl(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nr(e));default:return null}}convertTimestamp(e){const n=_n(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ee.fromString(e);ve(Mg(s));const r=new Or(s.get(1),s.get(3)),i=new H(s.popFirst(5));return r.isEqual(n)||en(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fm extends um{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xi extends fm{data(e={}){return super.data(e)}}class fI{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new rr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xi(this._firestore,this._userDataWriter,s.key,s,new rr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new xi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new rr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new xi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new rr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:dI(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class dm extends uI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function pI(t,e,n,...s){t=mn(t,ft);const r=mn(t.firestore,Ms),i=om(r);let o;return o=typeof(e=xt(e))=="string"||e instanceof Ho?oI(i,"updateDoc",t._key,e,n,s):iI(i,"updateDoc",t._key,e),nu(r,[o.toMutation(t._key,St.exists(!0))])}function gI(t){return nu(mn(t.firestore,Ms),[new Ml(t._key,St.none())])}function pm(t,e){const n=mn(t.firestore,Ms),s=Cc(t),r=hI(t.converter,e);return nu(n,[rI(om(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,St.exists(!1))]).then(()=>s)}function gm(t,...e){var n,s,r;t=xt(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||mf(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(mf(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,u;if(t instanceof ft)l=mn(t.firestore,Ms),u=Pl(t._key.path),c={next:h=>{e[o]&&e[o](mI(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=mn(t,qo);l=mn(h.firestore,Ms),u=h._query;const f=new dm(l);c={next:g=>{e[o]&&e[o](new fI(l,f,h,g))},error:e[o+1],complete:e[o+2]},lI(t._query)}return function(h,f,g,w){const E=new KT(w),C=new AT(f,E,g);return h.asyncQueue.enqueueAndForget(async()=>IT(await hf(h),C)),()=>{E.Dc(),h.asyncQueue.enqueueAndForget(async()=>ST(await hf(h),C))}}(nm(l),u,a,c)}function nu(t,e){return function(n,s){const r=new Hn;return n.asyncQueue.enqueueAndForget(async()=>LT(await YT(n),s,r)),r.promise}(nm(t),e)}function mI(t,e,n){const s=n.docs.get(e._key),r=new dm(t);return new fm(t,r,e._key,s,new rr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){qs=n})(tE),En(new Jt("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new Ms(new yb(n.getProvider("auth-internal")),new bb(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Or(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Vt(Ph,"3.12.0",t),Vt(Ph,"3.12.0","esm2017")})();var yI="firebase",vI="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(yI,vI,"app");const wI=(t,e)=>e.some(n=>t instanceof n);let yf,vf;function EI(){return yf||(yf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return vf||(vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mm=new WeakMap,Ac=new WeakMap,ym=new WeakMap,_a=new WeakMap,su=new WeakMap;function _I(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mm.set(n,t)}).catch(()=>{}),su.set(e,t),e}function TI(t){if(Ac.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ac.set(t,e)}let Dc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ac.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ym.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function II(t){Dc=t(Dc)}function SI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ta(this),e,...n);return ym.set(s,e.sort?e.sort():[e]),vn(s)}:bI().includes(t)?function(...e){return t.apply(Ta(this),e),vn(mm.get(this))}:function(...e){return vn(t.apply(Ta(this),e))}}function CI(t){return typeof t=="function"?SI(t):(t instanceof IDBTransaction&&TI(t),wI(t,EI())?new Proxy(t,Dc):t)}function vn(t){if(t instanceof IDBRequest)return _I(t);if(_a.has(t))return _a.get(t);const e=CI(t);return e!==t&&(_a.set(t,e),su.set(e,t)),e}const Ta=t=>su.get(t);function xI(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=vn(o);return s&&o.addEventListener("upgradeneeded",c=>{s(vn(o.result),c.oldVersion,c.newVersion,vn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const AI=["get","getKey","getAll","getAllKeys","count"],DI=["put","add","delete","clear"],Ia=new Map;function wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ia.get(e))return Ia.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=DI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||AI.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Ia.set(e,i),i}II(t=>({...t,get:(e,n,s)=>wf(e,n)||t.get(e,n,s),has:(e,n)=>!!wf(e,n)||t.has(e,n)}));const vm="@firebase/installations",ru="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=1e4,Em=`w:${ru}`,bm="FIS_v2",kI="https://firebaseinstallations.googleapis.com/v1",RI=60*60*1e3,NI="installations",OI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Xn=new mo(NI,OI,PI);function _m(t){return t instanceof In&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm({projectId:t}){return`${kI}/projects/${t}/installations`}function Im(t){return{token:t.token,requestStatus:2,expiresIn:LI(t.expiresIn),creationTime:Date.now()}}async function Sm(t,e){const s=(await e.json()).error;return Xn.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Cm({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MI(t,{refreshToken:e}){const n=Cm(t);return n.append("Authorization",FI(e)),n}async function xm(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LI(t){return Number(t.replace("s","000"))}function FI(t){return`${bm} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=Tm(t),r=Cm(t),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:bm,appId:t.appId,sdkVersion:Em},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await xm(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Im(l.authToken)}}else throw await Sm("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=/^[cdef][\w-]{21}$/,kc="";function UI(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=jI(t);return VI.test(n)?n:kc}catch{return kc}}function jI(t){return BI(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;function km(t,e){const n=Wo(t);Rm(n,e),qI(n,e)}function Rm(t,e){const n=Dm.get(t);if(!!n)for(const s of n)s(e)}function qI(t,e){const n=HI();n&&n.postMessage({key:t,fid:e}),zI()}let Bn=null;function HI(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=t=>{Rm(t.data.key,t.data.fid)}),Bn}function zI(){Dm.size===0&&Bn&&(Bn.close(),Bn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firebase-installations-database",WI=1,Jn="firebase-installations-store";let Sa=null;function iu(){return Sa||(Sa=xI(KI,WI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jn)}}})),Sa}async function to(t,e){const n=Wo(t),r=(await iu()).transaction(Jn,"readwrite"),i=r.objectStore(Jn),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&km(t,e.fid),e}async function Nm(t){const e=Wo(t),s=(await iu()).transaction(Jn,"readwrite");await s.objectStore(Jn).delete(e),await s.done}async function Go(t,e){const n=Wo(t),r=(await iu()).transaction(Jn,"readwrite"),i=r.objectStore(Jn),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&km(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){let e;const n=await Go(t.appConfig,s=>{const r=GI(s),i=QI(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===kc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GI(t){const e=t||{fid:UI(),registrationStatus:0};return Om(e)}function QI(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Xn.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=YI(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XI(t)}:{installationEntry:e}}async function YI(t,e){try{const n=await $I(t,e);return to(t.appConfig,n)}catch(n){throw _m(n)&&n.customData.serverCode===409?await Nm(t.appConfig):await to(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XI(t){let e=await Ef(t.appConfig);for(;e.registrationStatus===1;)await Am(100),e=await Ef(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ou(t);return s||n}return e}function Ef(t){return Go(t,e=>{if(!e)throw Xn.create("installation-not-found");return Om(e)})}function Om(t){return JI(t)?{fid:t.fid,registrationStatus:0}:t}function JI(t){return t.registrationStatus===1&&t.registrationTime+wm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI({appConfig:t,heartbeatServiceProvider:e},n){const s=eS(t,n),r=MI(t,n),i=e.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:Em,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await xm(()=>fetch(s,a));if(c.ok){const l=await c.json();return Im(l)}else throw await Sm("Generate Auth Token",c)}function eS(t,{fid:e}){return`${Tm(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e=!1){let n;const s=await Go(t.appConfig,i=>{if(!Pm(i))throw Xn.create("not-registered");const o=i.authToken;if(!e&&sS(o))return i;if(o.requestStatus===1)return n=tS(t,e),i;{if(!navigator.onLine)throw Xn.create("app-offline");const a=iS(i);return n=nS(t,a),a}});return n?await n:s.authToken}async function tS(t,e){let n=await bf(t.appConfig);for(;n.authToken.requestStatus===1;)await Am(100),n=await bf(t.appConfig);const s=n.authToken;return s.requestStatus===0?au(t,e):s}function bf(t){return Go(t,e=>{if(!Pm(e))throw Xn.create("not-registered");const n=e.authToken;return oS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nS(t,e){try{const n=await ZI(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await to(t.appConfig,s),n}catch(n){if(_m(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Nm(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await to(t.appConfig,s)}throw n}}function Pm(t){return t!==void 0&&t.registrationStatus===2}function sS(t){return t.requestStatus===2&&!rS(t)}function rS(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RI}function iS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oS(t){return t.requestStatus===1&&t.requestTime+wm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t){const e=t,{installationEntry:n,registrationPromise:s}=await ou(e);return s?s.catch(console.error):au(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e=!1){const n=t;return await lS(n),(await au(n,e)).token}async function lS(t){const{registrationPromise:e}=await ou(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){if(!t||!t.options)throw Ca("App Configuration");if(!t.name)throw Ca("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ca(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ca(t){return Xn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="installations",hS="installations-internal",fS=t=>{const e=t.getProvider("app").getImmediate(),n=uS(e),s=Br(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},dS=t=>{const e=t.getProvider("app").getImmediate(),n=Br(e,Mm).getImmediate();return{getId:()=>aS(n),getToken:r=>cS(n,r)}};function pS(){En(new Jt(Mm,fS,"PUBLIC")),En(new Jt(hS,dS,"PRIVATE"))}pS();Vt(vm,ru);Vt(vm,ru,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="analytics",gS="firebase_id",mS="origin",yS=60*1e3,vS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at=new sl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dt=new mo("analytics","Analytics",wS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){if(!t.startsWith(cu)){const e=dt.create("invalid-gtag-resource",{gtagURL:t});return at.warn(e.message),""}return t}function Lm(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bS(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _S(t,e){const n=bS("firebase-js-sdk-policy",{createScriptURL:ES}),s=document.createElement("script"),r=`${cu}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function TS(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function IS(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const c=(await Lm(n)).find(l=>l.measurementId===r);c&&await e[c.appId]}}catch(a){at.error(a)}t("config",r,i)}async function SS(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await Lm(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&e[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){at.error(i)}}function CS(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await SS(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await IS(t,e,n,s,a,c)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,c,l]=o;t("get",a,c,l)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){at.error(a)}}return r}function xS(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=CS(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function AS(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cu)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=30,kS=1e3;class RS{constructor(e={},n=kS){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Fm=new RS;function NS(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function OS(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:NS(s)},i=vS.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw dt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function PS(t,e=Fm,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw dt.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw dt.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FS;return setTimeout(async()=>{a.abort()},n!==void 0?n:yS),$m({appId:s,apiKey:r,measurementId:i},o,a,e)}async function $m(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Fm){var i;const{appId:o,measurementId:a}=t;try{await MS(s,e)}catch(c){if(a)return at.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await OS(t);return r.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!LS(l)){if(r.deleteThrottleMetadata(o),a)return at.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?hh(n,r.intervalMillis,DS):hh(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),at.debug(`Calling attemptFetch again in ${u} millis`),$m(t,h,s,r)}}function MS(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(dt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LS(t){if(!(t instanceof In)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class FS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $S(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(){if(zd())try{await Kd()}catch(t){return at.warn(dt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return at.warn(dt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VS(t,e,n,s,r,i,o){var a;const c=PS(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&at.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>at.error(g)),e.push(c);const l=BS().then(g=>{if(g)return s.getId()}),[u,h]=await Promise.all([c,l]);AS(i)||_S(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[mS]="firebase",f.update=!0,h!=null&&(f[gS]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.app=e}_delete(){return delete gr[this.app.options.appId],Promise.resolve()}}let gr={},_f=[];const Tf={};let xa="dataLayer",jS="gtag",If,Bm,Sf=!1;function qS(){const t=[];if(Yw()&&t.push("This is a browser extension environment."),Xw()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=dt.create("invalid-analytics-context",{errorInfo:e});at.warn(n.message)}}function HS(t,e,n){qS();const s=t.options.appId;if(!s)throw dt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)at.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dt.create("no-api-key");if(gr[s]!=null)throw dt.create("already-exists",{id:s});if(!Sf){TS(xa);const{wrappedGtag:i,gtagCore:o}=xS(gr,_f,Tf,xa,jS);Bm=i,If=o,Sf=!0}return gr[s]=VS(t,_f,Tf,e,If,xa,n),new US(t)}function zS(t=Yd()){t=xt(t);const e=Br(t,no);return e.isInitialized()?e.getImmediate():KS(t)}function KS(t,e={}){const n=Br(t,no);if(n.isInitialized()){const r=n.getImmediate();if(Li(e,n.getOptions()))return r;throw dt.create("already-initialized")}return n.initialize({options:e})}function WS(t,e,n,s){t=xt(t),$S(Bm,gr[t.app.options.appId],e,n,s).catch(r=>at.error(r))}const Cf="@firebase/analytics",xf="0.10.0";function GS(){En(new Jt(no,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return HS(s,r,n)},"PUBLIC")),En(new Jt("analytics-internal",t,"PRIVATE")),Vt(Cf,xf),Vt(Cf,xf,"esm2017");function t(e){try{const n=e.getProvider(no).getImmediate();return{logEvent:(s,r,i)=>WS(n,s,r,i)}}catch(n){throw dt.create("interop-component-reg-failed",{reason:n})}}}GS();const QS={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},Vm=Qd(QS);zS(Vm);const mr=eI(Vm),YS={class:"header"},XS={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},JS={class:"relative flex h-16 items-center justify-between"},ZS={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},eC=y("span",{class:"sr-only"},"Open main menu",-1),tC={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},nC=y("div",{class:"flex flex-shrink-0 items-center"},[y("img",{class:"block mt-5 h-8 w-auto lg:hidden",src:ah,alt:"Arumi_id"}),y("img",{class:"hidden h-8 w-auto lg:block",src:ah,alt:"Arumi_id"})],-1),sC={class:"hidden sm:ml-6 sm:block"},rC={class:"flex space-x-4"},iC=["aria-current"],oC=["aria-current"],aC={class:"space-y-1 px-2 pb-3 pt-2"},cC={key:0,class:"bg-white"},lC={key:0,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},uC=y("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Stock Barang",-1),hC={class:"flex flex-col"},fC={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},dC={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},pC={class:"overflow-hidden"},gC={class:"min-w-full text-left text-sm font-light"},mC=y("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[y("tr",null,[y("th",{scope:"col",class:"px-8 py-4"},"No"),y("th",{scope:"col",class:"px-8 py-4"},"Jenis Barang"),y("th",{scope:"col",class:"px-8 py-4"},"Nama Barang"),y("th",{scope:"col",class:"px-8 py-4"},"Warna Barang"),y("th",{scope:"col",class:"px-8 py-4"},"Quantity"),y("th",{scope:"col",class:"px-8 py-4"},"Harga Barang"),y("th",{scope:"col",class:"px-8 py-4"},"Aksi")])],-1),yC={class:"whitespace-nowrap px-8 py-4"},vC={class:"whitespace-nowrap px-8 py-4 font-medium"},wC={class:"whitespace-nowrap px-8 py-4 font-medium"},EC={class:"whitespace-nowrap px-8 py-4"},bC={class:"whitespace-nowrap px-8 py-4"},_C={class:"whitespace-nowrap px-8 py-4 font-medium"},TC={class:"whitespace-nowrap px-8 py-4 font-medium"},IC=["onClick"],SC=["onClick"],CC={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},xC={class:"text-2xl font-bold tracking-tight text-gray-900"},AC=["onSubmit"],DC={class:"space-y-12"},kC={class:"border-b border-gray-900/10 pb-12"},RC=y("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Profile",-1),NC=y("p",{class:"mt-1 text-sm leading-6 text-gray-600"},"This information will be displayed publicly so be careful what you share.",-1),OC={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},PC={class:"sm:col-span-4"},MC=y("label",{for:"jenisBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Jenis Barang",-1),LC={class:"mt-2"},FC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},$C={class:"sm:col-span-4"},BC=y("label",{for:"namaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Nama Barang",-1),VC={class:"mt-2"},UC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},jC={class:"sm:col-span-4"},qC=y("label",{for:"warnaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Warna Barang",-1),HC={class:"mt-2"},zC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},KC={class:"sm:col-span-4"},WC=y("label",{for:"qty",class:"block text-sm font-medium leading-6 text-gray-900"},"Quantity",-1),GC={class:"mt-2"},QC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},YC={class:"sm:col-span-4"},XC=y("label",{for:"hargaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Harga Barang",-1),JC={class:"mt-2"},ZC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ex={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},tx=y("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",-1),nx={key:1,class:"bg-white"},sx=y("div",{class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},[y("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Petty Cash")],-1),rx=[sx],ix={__name:"DashboardView",setup(t){let e=he([]);he(!1);let n=he(""),s=he(""),r=he(""),i=he(""),o=he(""),a=he(""),c=he(""),l=he(!0),u=he("stock_barang"),h=he(!0),f=he(!1);const g=pr(mr,"stockBarang");Vs(async()=>{gm(pr(mr,"stockBarang"),N=>{let G=[];N.forEach(V=>{let Ie={id:V.id,varian:V.data().varian,nama:V.data().nama,warna:V.data().warna,qty:V.data().qty,harga:V.data().harga};G.push(Ie)}),e.value=G})});const w=()=>{console.log("data",l.value),l.value?E():R()},E=async()=>{console.log("add"),await pm(pr(mr,"stockBarang"),{id:Qa(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value}),h.value=!0,n.value="",s.value="",r.value="",i.value="",o.value=""},C=async N=>{gI(Cc(g,N))},R=async()=>{await pI(Cc(g,a),{varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value}),h.value=!0,n.value="",s.value="",r.value="",i.value="",o.value=""},P=()=>{n.value="",s.value="",r.value="",i.value="",o.value="",l.value=!0,c.value="Tambah Stock Barang",h.value=!1},z=N=>{a=N.id,n.value=N.varian,s.value=N.nama,r.value=N.warna,i.value=N.qty,o.value=N.harga,l.value=!1,c.value="Edit Stock Barang",h.value=!1};return(N,G)=>(Ae(),Ve(nt,null,[y("div",YS,[Se(se(kw),{as:"nav",class:"bg-pink-50"},{default:cs(({open:V})=>[y("div",XS,[y("div",JS,[y("div",ZS,[Se(se(ra),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:cs(()=>[eC,V?(Ae(),Va(se(Ow),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(Ae(),Va(se(Nw),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),y("div",tC,[nC,y("div",sC,[y("div",rC,[y("a",{onClick:G[0]||(G[0]=Ie=>me(u)?u.value="stock_barang":u="stock_barang"),class:Pn([se(f)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":se(f)?"page":void 0},"Stock Barang",10,iC),y("a",{onClick:G[1]||(G[1]=Ie=>me(u)?u.value="petty_cash":u="petty_cash"),class:Pn([se(f)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":se(f)?"page":void 0},"Petty Cash",10,oC)])])])])]),Se(se(Rw),{class:"sm:hidden"},{default:cs(()=>[y("div",aC,[Se(se(ra),{onClick:G[2]||(G[2]=Ie=>me(u)?u.value="stock_barang":u="stock_barang"),as:"a",class:Pn([se(f)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":se(f)?"page":void 0},{default:cs(()=>[ja("Stock Barang")]),_:1},8,["class","aria-current"]),Se(se(ra),{onClick:G[3]||(G[3]=Ie=>me(u)?u.value="petty_cash":u="petty_cash"),as:"a",class:Pn([se(f)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":se(f)?"page":void 0},{default:cs(()=>[ja("Petty Cash")]),_:1},8,["class","aria-current"])])]),_:1})]),_:1})]),se(u)==="stock_barang"?(Ae(),Ve("div",cC,[se(h)?(Ae(),Ve("div",lC,[uC,y("button",{onClick:P,type:"button",class:"mt-4 inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Tambah Barang "),y("div",hC,[y("div",fC,[y("div",dC,[y("div",pC,[y("table",gC,[mC,y("tbody",null,[se(e).length!==0?(Ae(!0),Ve(nt,{key:0},ld(se(e),(V,Ie)=>(Ae(),Ve("tr",{key:V.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[y("td",yC,gt(Ie+1),1),y("td",vC,gt(V.varian),1),y("td",wC,gt(V.nama),1),y("td",EC,gt(V.warna),1),y("td",bC,gt(V.qty),1),y("td",_C,"Rp "+gt(V.harga),1),y("td",TC,[y("button",{onClick:lt=>C(V.id),class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus",8,IC),y("button",{onClick:lt=>z(V),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit",8,SC)])]))),128)):qa("",!0)])])])])])])])):(Ae(),Ve("div",CC,[y("h2",xC,gt(se(c)),1),y("form",{onSubmit:_d(w,["prevent"])},[y("div",DC,[y("div",kC,[RC,NC,y("div",OC,[y("div",PC,[MC,y("div",LC,[y("div",FC,[Lt(y("input",{"onUpdate:modelValue":G[4]||(G[4]=V=>me(n)?n.value=V:n=V),type:"text",name:"jenisBarang",id:"jenisBarang",autocomplete:"jenisBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Jenis Barang"},null,512),[[Ft,se(n)]])])])]),y("div",$C,[BC,y("div",VC,[y("div",UC,[Lt(y("input",{"onUpdate:modelValue":G[5]||(G[5]=V=>me(s)?s.value=V:s=V),type:"text",name:"namaBarang",id:"namaBarang",autocomplete:"namaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Nama Barang"},null,512),[[Ft,se(s)]])])])]),y("div",jC,[qC,y("div",HC,[y("div",zC,[Lt(y("input",{"onUpdate:modelValue":G[6]||(G[6]=V=>me(r)?r.value=V:r=V),type:"text",name:"warnaBarang",id:"warnaBarang",autocomplete:"warnaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Warna Barang"},null,512),[[Ft,se(r)]])])])]),y("div",KC,[WC,y("div",GC,[y("div",QC,[Lt(y("input",{"onUpdate:modelValue":G[7]||(G[7]=V=>me(i)?i.value=V:i=V),type:"number",name:"qty",id:"qty",autocomplete:"qty",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Quantity"},null,512),[[Ft,se(i)]])])])]),y("div",YC,[XC,y("div",JC,[y("div",ZC,[Lt(y("input",{"onUpdate:modelValue":G[8]||(G[8]=V=>me(o)?o.value=V:o=V),type:"number",name:"hargaBarang",id:"hargaBarang",autocomplete:"hargaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Harga Barang"},null,512),[[Ft,se(o)]])])])])])])]),y("div",ex,[y("button",{onClick:G[9]||(G[9]=V=>me(h)?h.value=!0:h=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),tx])],40,AC)]))])):se(u)==="petty_cash"?(Ae(),Ve("div",nx,rx)):qa("",!0)],64))}};const ox=["onSubmit"],ax={key:0,class:"add-product"},cx={class:"field"},lx=y("label",{class:"label"},"Jenis Product",-1),ux={class:"control"},hx={class:"field"},fx=y("label",{class:"label"},"Nama Product",-1),dx={class:"control"},px={class:"field"},gx=y("label",{class:"label"},"Warna Product",-1),mx={class:"control"},yx={class:"field"},vx=y("label",{class:"label"},"Quantity Product",-1),wx={class:"control"},Ex={class:"field"},bx=y("label",{class:"label"},"Harga Product",-1),_x={class:"control"},Tx={class:"field is-grouped pt-4"},Ix={class:"control"},Sx=["disabled"],Cx={class:"control"},xx={key:1,class:"add-product"},Ax={class:"field is-grouped pl-20 pt-4"},Dx={class:"control"},kx={key:0,class:"data-product"},Rx={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},Nx=y("thead",null,[y("tr",null,[y("th",null,"Jenis Barang"),y("th",null,"Nama Barang"),y("th",null,"Warna Barang"),y("th",null,"Quantity"),y("th",null,"Harga Barang")])],-1),Ox={__name:"DataProduct",setup(t){let e=he([]);const n=he(!1),s=he(""),r=he(""),i=he(""),o=he(""),a=he("");Vs(async()=>{gm(pr(mr,"stockBarang"),l=>{let u=[];l.forEach(h=>{let f={id:h.id,varian:h.data().varian,nama:h.data().nama,warna:h.data().warna,qty:h.data().qty,harga:h.data().harga};u.push(f)}),e.value=u})});const c=async()=>{console.log("asd",{id:Qa(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});const l=await pm(pr(mr,"stockBarang"),{id:Qa(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});console.log("Document written with ID: ",l.id)};return(l,u)=>(Ae(),Ve(nt,null,[y("form",{onSubmit:_d(c,["prevent"])},[n.value?(Ae(),Ve("div",ax,[y("div",cx,[lx,y("div",ux,[Lt(y("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>s.value=h),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[Ft,s.value]])])]),y("div",hx,[fx,y("div",dx,[Lt(y("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[Ft,r.value]])])]),y("div",px,[gx,y("div",mx,[Lt(y("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),class:"input",type:"text",placeholder:"warna Product"},null,512),[[Ft,i.value]])])]),y("div",yx,[vx,y("div",wx,[Lt(y("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>o.value=h),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[Ft,o.value]])])]),y("div",Ex,[bx,y("div",_x,[Lt(y("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>a.value=h),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[Ft,a.value]])])]),y("div",Tx,[y("div",Ix,[y("button",{disabled:!s.value||!r.value||!a.value,class:"button is-link"},"Submit",8,Sx)]),y("div",Cx,[y("button",{onClick:u[5]||(u[5]=h=>n.value=!1),class:"button is-danger"},"Cancel")])])])):(Ae(),Ve("div",xx,[y("div",Ax,[y("div",Dx,[y("button",{class:"button is-link",onClick:u[6]||(u[6]=h=>n.value=!0)},"Tambah Data")])])]))],40,ox),n.value?qa("",!0):(Ae(),Ve("div",kx,[y("table",Rx,[Nx,y("tbody",null,[(Ae(!0),Ve(nt,null,ld(se(e),h=>(Ae(),Ve("tr",{key:h.id},[y("th",null,gt(h.varian),1),y("th",null,gt(h.nama),1),y("th",null,gt(h.warna),1),y("th",null,gt(h.qty)+" pcs",1),y("th",null,gt(h.harga),1)]))),128))])])]))],64))}},Px=uw({history:xv("/"),routes:[{path:"/",name:"home",component:ix},{path:"/data",name:"data",component:Ox}]}),lu=iv(ww);lu.use(lv());lu.use(Px);lu.mount("#app");
