(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ml(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Ee={},ws=[],Nt=()=>{},qm=()=>!1,Hm=/^on[^a-z]/,ao=t=>Hm.test(t),Ll=t=>t.startsWith("onUpdate:"),He=Object.assign,Fl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zm=Object.prototype.hasOwnProperty,ae=(t,e)=>zm.call(t,e),G=Array.isArray,bs=t=>lo(t)==="[object Map]",Mf=t=>lo(t)==="[object Set]",te=t=>typeof t=="function",je=t=>typeof t=="string",$l=t=>typeof t=="symbol",Ce=t=>t!==null&&typeof t=="object",Lf=t=>Ce(t)&&te(t.then)&&te(t.catch),Ff=Object.prototype.toString,lo=t=>Ff.call(t),Km=t=>lo(t).slice(8,-1),$f=t=>lo(t)==="[object Object]",Bl=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wi=Ml(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),co=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Wm=/-(\w)/g,Ss=co(t=>t.replace(Wm,(e,n)=>n?n.toUpperCase():"")),Gm=/\B([A-Z])/g,Us=co(t=>t.replace(Gm,"-$1").toLowerCase()),Bf=co(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zo=co(t=>t?`on${Bf(t)}`:""),wr=(t,e)=>!Object.is(t,e),bi=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ri=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Pa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let vu;const Na=()=>vu||(vu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vl(t){if(G(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=je(s)?Jm(s):Vl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(je(t))return t;if(Ce(t))return t}}const Qm=/;(?![^(]*\))/g,Ym=/:([^]+)/,Xm=new RegExp("\\/\\*.*?\\*\\/","gs");function Jm(t){const e={};return t.replace(Xm,"").split(Qm).forEach(n=>{if(n){const s=n.split(Ym);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Un(t){let e="";if(je(t))e=t;else if(G(t))for(let n=0;n<t.length;n++){const s=Un(t[n]);s&&(e+=s+" ")}else if(Ce(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Zm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ey=Ml(Zm);function Vf(t){return!!t||t===""}const be=t=>je(t)?t:t==null?"":G(t)||Ce(t)&&(t.toString===Ff||!te(t.toString))?JSON.stringify(t,Uf,2):String(t),Uf=(t,e)=>e&&e.__v_isRef?Uf(t,e.value):bs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Mf(e)?{[`Set(${e.size})`]:[...e.values()]}:Ce(e)&&!G(e)&&!$f(e)?String(e):e;let kt;class jf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kt,!e&&kt&&(this.index=(kt.scopes||(kt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=kt;try{return kt=this,e()}finally{kt=n}}}on(){kt=this}off(){kt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ty(t){return new jf(t)}function ny(t,e=kt){e&&e.active&&e.effects.push(t)}function sy(){return kt}const Ul=t=>{const e=new Set(t);return e.w=0,e.n=0,e},qf=t=>(t.w&Cn)>0,Hf=t=>(t.n&Cn)>0,ry=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Cn},iy=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];qf(r)&&!Hf(r)?r.delete(t):e[n++]=r,r.w&=~Cn,r.n&=~Cn}e.length=n}},Oa=new WeakMap;let tr=0,Cn=1;const Ma=30;let Dt;const Wn=Symbol(""),La=Symbol("");class jl{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ny(this,s)}run(){if(!this.active)return this.fn();let e=Dt,n=wn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Dt,Dt=this,wn=!0,Cn=1<<++tr,tr<=Ma?ry(this):wu(this),this.fn()}finally{tr<=Ma&&iy(this),Cn=1<<--tr,Dt=this.parent,wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Dt===this?this.deferStop=!0:this.active&&(wu(this),this.onStop&&this.onStop(),this.active=!1)}}function wu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let wn=!0;const zf=[];function js(){zf.push(wn),wn=!1}function qs(){const t=zf.pop();wn=t===void 0?!0:t}function yt(t,e,n){if(wn&&Dt){let s=Oa.get(t);s||Oa.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Ul()),Kf(r)}}function Kf(t,e){let n=!1;tr<=Ma?Hf(t)||(t.n|=Cn,n=!qf(t)):n=!t.has(Dt),n&&(t.add(Dt),Dt.deps.push(t))}function tn(t,e,n,s,r,i){const o=Oa.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&G(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":G(t)?Bl(n)&&a.push(o.get("length")):(a.push(o.get(Wn)),bs(t)&&a.push(o.get(La)));break;case"delete":G(t)||(a.push(o.get(Wn)),bs(t)&&a.push(o.get(La)));break;case"set":bs(t)&&a.push(o.get(Wn));break}if(a.length===1)a[0]&&Fa(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Fa(Ul(l))}}function Fa(t,e){const n=G(t)?t:[...t];for(const s of n)s.computed&&bu(s);for(const s of n)s.computed||bu(s)}function bu(t,e){(t!==Dt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const oy=Ml("__proto__,__v_isRef,__isVue"),Wf=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($l)),ay=ql(),ly=ql(!1,!0),cy=ql(!0),Eu=uy();function uy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=he(this);for(let i=0,o=this.length;i<o;i++)yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(he)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){js();const s=he(this)[e].apply(this,n);return qs(),s}}),t}function hy(t){const e=he(this);return yt(e,"has",t),e.hasOwnProperty(t)}function ql(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Sy:Jf:e?Xf:Yf).get(s))return s;const o=G(s);if(!t){if(o&&ae(Eu,r))return Reflect.get(Eu,r,i);if(r==="hasOwnProperty")return hy}const a=Reflect.get(s,r,i);return($l(r)?Wf.has(r):oy(r))||(t||yt(s,"get",r),e)?a:ee(a)?o&&Bl(r)?a:a.value:Ce(a)?t?Zf(a):Br(a):a}}const fy=Gf(),dy=Gf(!0);function Gf(t=!1){return function(n,s,r,i){let o=n[s];if(As(o)&&ee(o)&&!ee(r))return!1;if(!t&&(!Pi(r)&&!As(r)&&(o=he(o),r=he(r)),!G(n)&&ee(o)&&!ee(r)))return o.value=r,!0;const a=G(n)&&Bl(s)?Number(s)<n.length:ae(n,s),l=Reflect.set(n,s,r,i);return n===he(i)&&(a?wr(r,o)&&tn(n,"set",s,r):tn(n,"add",s,r)),l}}function py(t,e){const n=ae(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&tn(t,"delete",e,void 0),s}function gy(t,e){const n=Reflect.has(t,e);return(!$l(e)||!Wf.has(e))&&yt(t,"has",e),n}function my(t){return yt(t,"iterate",G(t)?"length":Wn),Reflect.ownKeys(t)}const Qf={get:ay,set:fy,deleteProperty:py,has:gy,ownKeys:my},yy={get:cy,set(t,e){return!0},deleteProperty(t,e){return!0}},vy=He({},Qf,{get:ly,set:dy}),Hl=t=>t,uo=t=>Reflect.getPrototypeOf(t);function si(t,e,n=!1,s=!1){t=t.__v_raw;const r=he(t),i=he(e);n||(e!==i&&yt(r,"get",e),yt(r,"get",i));const{has:o}=uo(r),a=s?Hl:n?Gl:br;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function ri(t,e=!1){const n=this.__v_raw,s=he(n),r=he(t);return e||(t!==r&&yt(s,"has",t),yt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ii(t,e=!1){return t=t.__v_raw,!e&&yt(he(t),"iterate",Wn),Reflect.get(t,"size",t)}function _u(t){t=he(t);const e=he(this);return uo(e).has.call(e,t)||(e.add(t),tn(e,"add",t,t)),this}function Iu(t,e){e=he(e);const n=he(this),{has:s,get:r}=uo(n);let i=s.call(n,t);i||(t=he(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?wr(e,o)&&tn(n,"set",t,e):tn(n,"add",t,e),this}function Tu(t){const e=he(this),{has:n,get:s}=uo(e);let r=n.call(e,t);r||(t=he(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&tn(e,"delete",t,void 0),i}function xu(){const t=he(this),e=t.size!==0,n=t.clear();return e&&tn(t,"clear",void 0,void 0),n}function oi(t,e){return function(s,r){const i=this,o=i.__v_raw,a=he(o),l=e?Hl:t?Gl:br;return!t&&yt(a,"iterate",Wn),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function ai(t,e,n){return function(...s){const r=this.__v_raw,i=he(r),o=bs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Hl:e?Gl:br;return!e&&yt(i,"iterate",l?La:Wn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function fn(t){return function(...e){return t==="delete"?!1:this}}function wy(){const t={get(i){return si(this,i)},get size(){return ii(this)},has:ri,add:_u,set:Iu,delete:Tu,clear:xu,forEach:oi(!1,!1)},e={get(i){return si(this,i,!1,!0)},get size(){return ii(this)},has:ri,add:_u,set:Iu,delete:Tu,clear:xu,forEach:oi(!1,!0)},n={get(i){return si(this,i,!0)},get size(){return ii(this,!0)},has(i){return ri.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:oi(!0,!1)},s={get(i){return si(this,i,!0,!0)},get size(){return ii(this,!0)},has(i){return ri.call(this,i,!0)},add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear"),forEach:oi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ai(i,!1,!1),n[i]=ai(i,!0,!1),e[i]=ai(i,!1,!0),s[i]=ai(i,!0,!0)}),[t,n,e,s]}const[by,Ey,_y,Iy]=wy();function zl(t,e){const n=e?t?Iy:_y:t?Ey:by;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ae(n,r)&&r in s?n:s,r,i)}const Ty={get:zl(!1,!1)},xy={get:zl(!1,!0)},Cy={get:zl(!0,!1)},Yf=new WeakMap,Xf=new WeakMap,Jf=new WeakMap,Sy=new WeakMap;function Ay(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ky(t){return t.__v_skip||!Object.isExtensible(t)?0:Ay(Km(t))}function Br(t){return As(t)?t:Kl(t,!1,Qf,Ty,Yf)}function Dy(t){return Kl(t,!1,vy,xy,Xf)}function Zf(t){return Kl(t,!0,yy,Cy,Jf)}function Kl(t,e,n,s,r){if(!Ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ky(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Es(t){return As(t)?Es(t.__v_raw):!!(t&&t.__v_isReactive)}function As(t){return!!(t&&t.__v_isReadonly)}function Pi(t){return!!(t&&t.__v_isShallow)}function ed(t){return Es(t)||As(t)}function he(t){const e=t&&t.__v_raw;return e?he(e):t}function Wl(t){return Ri(t,"__v_skip",!0),t}const br=t=>Ce(t)?Br(t):t,Gl=t=>Ce(t)?Zf(t):t;function td(t){wn&&Dt&&(t=he(t),Kf(t.dep||(t.dep=Ul())))}function nd(t,e){t=he(t);const n=t.dep;n&&Fa(n)}function ee(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return sd(t,!1)}function Ry(t){return sd(t,!0)}function sd(t,e){return ee(t)?t:new Py(t,e)}class Py{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:he(e),this._value=n?e:br(e)}get value(){return td(this),this._value}set value(e){const n=this.__v_isShallow||Pi(e)||As(e);e=n?e:he(e),wr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:br(e),nd(this))}}function K(t){return ee(t)?t.value:t}const Ny={get:(t,e,n)=>K(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ee(r)&&!ee(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function rd(t){return Es(t)?t:new Proxy(t,Ny)}class Oy{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new jl(e,()=>{this._dirty||(this._dirty=!0,nd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=he(this);return td(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function My(t,e,n=!1){let s,r;const i=te(t);return i?(s=t,r=Nt):(s=t.get,r=t.set),new Oy(s,r,i||!r,n)}function bn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){ho(i,e,n)}return r}function Ot(t,e,n,s){if(te(t)){const i=bn(t,e,n,s);return i&&Lf(i)&&i.catch(o=>{ho(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Ot(t[i],e,n,s));return r}function ho(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){bn(l,null,10,[t,o,a]);return}}Ly(t,n,r,s)}function Ly(t,e,n,s=!0){console.error(t)}let Er=!1,$a=!1;const rt=[];let qt=0;const _s=[];let Xt=null,Bn=0;const id=Promise.resolve();let Ql=null;function od(t){const e=Ql||id;return t?e.then(this?t.bind(this):t):e}function Fy(t){let e=qt+1,n=rt.length;for(;e<n;){const s=e+n>>>1;_r(rt[s])<t?e=s+1:n=s}return e}function Yl(t){(!rt.length||!rt.includes(t,Er&&t.allowRecurse?qt+1:qt))&&(t.id==null?rt.push(t):rt.splice(Fy(t.id),0,t),ad())}function ad(){!Er&&!$a&&($a=!0,Ql=id.then(cd))}function $y(t){const e=rt.indexOf(t);e>qt&&rt.splice(e,1)}function By(t){G(t)?_s.push(...t):(!Xt||!Xt.includes(t,t.allowRecurse?Bn+1:Bn))&&_s.push(t),ad()}function Cu(t,e=Er?qt+1:0){for(;e<rt.length;e++){const n=rt[e];n&&n.pre&&(rt.splice(e,1),e--,n())}}function ld(t){if(_s.length){const e=[...new Set(_s)];if(_s.length=0,Xt){Xt.push(...e);return}for(Xt=e,Xt.sort((n,s)=>_r(n)-_r(s)),Bn=0;Bn<Xt.length;Bn++)Xt[Bn]();Xt=null,Bn=0}}const _r=t=>t.id==null?1/0:t.id,Vy=(t,e)=>{const n=_r(t)-_r(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cd(t){$a=!1,Er=!0,rt.sort(Vy);const e=Nt;try{for(qt=0;qt<rt.length;qt++){const n=rt[qt];n&&n.active!==!1&&bn(n,null,14)}}finally{qt=0,rt.length=0,ld(),Er=!1,Ql=null,(rt.length||_s.length)&&cd()}}function Uy(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ee;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Ee;f&&(r=n.map(m=>je(m)?m.trim():m)),h&&(r=n.map(Pa))}let a,l=s[a=Zo(e)]||s[a=Zo(Ss(e))];!l&&i&&(l=s[a=Zo(Us(e))]),l&&Ot(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(c,t,6,r)}}function ud(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!te(t)){const l=c=>{const u=ud(c,e,!0);u&&(a=!0,He(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ce(t)&&s.set(t,null),null):(G(i)?i.forEach(l=>o[l]=null):He(o,i),Ce(t)&&s.set(t,o),o)}function fo(t,e){return!t||!ao(e)?!1:(e=e.slice(2).replace(/Once$/,""),ae(t,e[0].toLowerCase()+e.slice(1))||ae(t,Us(e))||ae(t,e))}let Rt=null,hd=null;function Ni(t){const e=Rt;return Rt=t,hd=t&&t.type.__scopeId||null,e}function fs(t,e=Rt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Lu(-1);const i=Ni(e);let o;try{o=t(...r)}finally{Ni(i),s._d&&Lu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ea(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:m,ctx:w,inheritAttrs:E}=t;let x,N;const k=Ni(t);try{if(n.shapeFlag&4){const O=r||s;x=jt(u.call(O,O,h,i,m,f,w)),N=l}else{const O=e;x=jt(O.length>1?O(i,{attrs:l,slots:a,emit:c}):O(i,null)),N=e.props?l:jy(l)}}catch(O){ur.length=0,ho(O,t,1),x=Ne(Jn)}let V=x;if(N&&E!==!1){const O=Object.keys(N),{shapeFlag:ie}=V;O.length&&ie&7&&(o&&O.some(Ll)&&(N=qy(N,o)),V=Zn(V,N))}return n.dirs&&(V=Zn(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),x=V,Ni(k),x}const jy=t=>{let e;for(const n in t)(n==="class"||n==="style"||ao(n))&&((e||(e={}))[n]=t[n]);return e},qy=(t,e)=>{const n={};for(const s in t)(!Ll(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Hy(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Su(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!fo(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Su(s,o,c):!0:!!o;return!1}function Su(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!fo(n,i))return!0}return!1}function zy({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Ky=t=>t.__isSuspense;function Wy(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):By(t)}function Xl(t,e){return Jl(t,null,e)}const li={};function Ei(t,e,n){return Jl(t,e,n)}function Jl(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ee){var a;const l=sy()===((a=it)==null?void 0:a.scope)?it:null;let c,u=!1,h=!1;if(ee(t)?(c=()=>t.value,u=Pi(t)):Es(t)?(c=()=>t,s=!0):G(t)?(h=!0,u=t.some(O=>Es(O)||Pi(O)),c=()=>t.map(O=>{if(ee(O))return O.value;if(Es(O))return jn(O);if(te(O))return bn(O,l,2)})):te(t)?e?c=()=>bn(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Ot(t,l,3,[m])}:c=Nt,e&&s){const O=c;c=()=>jn(O())}let f,m=O=>{f=k.onStop=()=>{bn(O,l,4)}},w;if(Tr)if(m=Nt,e?n&&Ot(e,l,3,[c(),h?[]:void 0,m]):c(),r==="sync"){const O=$0();w=O.__watcherHandles||(O.__watcherHandles=[])}else return Nt;let E=h?new Array(t.length).fill(li):li;const x=()=>{if(!!k.active)if(e){const O=k.run();(s||u||(h?O.some((ie,ce)=>wr(ie,E[ce])):wr(O,E)))&&(f&&f(),Ot(e,l,3,[O,E===li?void 0:h&&E[0]===li?[]:E,m]),E=O)}else k.run()};x.allowRecurse=!!e;let N;r==="sync"?N=x:r==="post"?N=()=>pt(x,l&&l.suspense):(x.pre=!0,l&&(x.id=l.uid),N=()=>Yl(x));const k=new jl(c,N);e?n?x():E=k.run():r==="post"?pt(k.run.bind(k),l&&l.suspense):k.run();const V=()=>{k.stop(),l&&l.scope&&Fl(l.scope.effects,k)};return w&&w.push(V),V}function Gy(t,e,n){const s=this.proxy,r=je(t)?t.includes(".")?fd(s,t):()=>s[t]:t.bind(s,s);let i;te(e)?i=e:(i=e.handler,n=e);const o=it;ks(this);const a=Jl(r,i.bind(s),n);return o?ks(o):Qn(),a}function fd(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function jn(t,e){if(!Ce(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ee(t))jn(t.value,e);else if(G(t))for(let n=0;n<t.length;n++)jn(t[n],e);else if(Mf(t)||bs(t))t.forEach(n=>{jn(n,e)});else if($f(t))for(const n in t)jn(t[n],e);return t}function Fe(t,e){const n=Rt;if(n===null)return t;const s=vo(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=Ee]=e[i];o&&(te(o)&&(o={mounted:o,updated:o}),o.deep&&jn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ln(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(js(),Ot(l,n,8,[t.el,a,t,e]),qs())}}function Vr(t,e){return te(t)?(()=>He({name:t.name},e,{setup:t}))():t}const _i=t=>!!t.type.__asyncLoader,dd=t=>t.type.__isKeepAlive;function Qy(t,e){pd(t,"a",e)}function Yy(t,e){pd(t,"da",e)}function pd(t,e,n=it){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(po(e,s,n),n){let r=n.parent;for(;r&&r.parent;)dd(r.parent.vnode)&&Xy(s,e,n,r),r=r.parent}}function Xy(t,e,n,s){const r=po(e,t,s,!0);go(()=>{Fl(s[e],r)},n)}function po(t,e,n=it,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;js(),ks(n);const a=Ot(e,n,t,o);return Qn(),qs(),a});return s?r.unshift(i):r.push(i),i}}const ln=t=>(e,n=it)=>(!Tr||t==="sp")&&po(t,(...s)=>e(...s),n),Jy=ln("bm"),Hs=ln("m"),Zy=ln("bu"),e0=ln("u"),t0=ln("bum"),go=ln("um"),n0=ln("sp"),s0=ln("rtg"),r0=ln("rtc");function i0(t,e=it){po("ec",t,e)}const o0=Symbol.for("v-ndc");function Ba(t,e,n,s){let r;const i=n&&n[s];if(G(t)||je(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Ce(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Va=t=>t?xd(t)?vo(t)||t.proxy:Va(t.parent):null,cr=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Va(t.parent),$root:t=>Va(t.root),$emit:t=>t.emit,$options:t=>Zl(t),$forceUpdate:t=>t.f||(t.f=()=>Yl(t.update)),$nextTick:t=>t.n||(t.n=od.bind(t.proxy)),$watch:t=>Gy.bind(t)}),ta=(t,e)=>t!==Ee&&!t.__isScriptSetup&&ae(t,e),a0={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ta(s,e))return o[e]=1,s[e];if(r!==Ee&&ae(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ae(c,e))return o[e]=3,i[e];if(n!==Ee&&ae(n,e))return o[e]=4,n[e];Ua&&(o[e]=0)}}const u=cr[e];let h,f;if(u)return e==="$attrs"&&yt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ee&&ae(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ae(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ta(r,e)?(r[e]=n,!0):s!==Ee&&ae(s,e)?(s[e]=n,!0):ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ee&&ae(t,o)||ta(e,o)||(a=i[0])&&ae(a,o)||ae(s,o)||ae(cr,o)||ae(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Au(t){return G(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ua=!0;function l0(t){const e=Zl(t),n=t.proxy,s=t.ctx;Ua=!1,e.beforeCreate&&ku(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:w,activated:E,deactivated:x,beforeDestroy:N,beforeUnmount:k,destroyed:V,unmounted:O,render:ie,renderTracked:ce,renderTriggered:we,errorCaptured:Se,serverPrefetch:Re,expose:ke,inheritAttrs:We,components:Je,directives:It,filters:Mn}=e;if(c&&c0(c,s,null),o)for(const pe in o){const le=o[pe];te(le)&&(s[pe]=le.bind(n))}if(r){const pe=r.call(n,n);Ce(pe)&&(t.data=Br(pe))}if(Ua=!0,i)for(const pe in i){const le=i[pe],St=te(le)?le.bind(n,n):te(le.get)?le.get.bind(n,n):Nt,Bt=!te(le)&&te(le.set)?le.set.bind(n):Nt,Tt=ot({get:St,set:Bt});Object.defineProperty(s,pe,{enumerable:!0,configurable:!0,get:()=>Tt.value,set:Ze=>Tt.value=Ze})}if(a)for(const pe in a)gd(a[pe],s,n,pe);if(l){const pe=te(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(le=>{Gn(le,pe[le])})}u&&ku(u,t,"c");function Oe(pe,le){G(le)?le.forEach(St=>pe(St.bind(n))):le&&pe(le.bind(n))}if(Oe(Jy,h),Oe(Hs,f),Oe(Zy,m),Oe(e0,w),Oe(Qy,E),Oe(Yy,x),Oe(i0,Se),Oe(r0,ce),Oe(s0,we),Oe(t0,k),Oe(go,O),Oe(n0,Re),G(ke))if(ke.length){const pe=t.exposed||(t.exposed={});ke.forEach(le=>{Object.defineProperty(pe,le,{get:()=>n[le],set:St=>n[le]=St})})}else t.exposed||(t.exposed={});ie&&t.render===Nt&&(t.render=ie),We!=null&&(t.inheritAttrs=We),Je&&(t.components=Je),It&&(t.directives=It)}function c0(t,e,n=Nt){G(t)&&(t=ja(t));for(const s in t){const r=t[s];let i;Ce(r)?"default"in r?i=Ct(r.from||s,r.default,!0):i=Ct(r.from||s):i=Ct(r),ee(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function ku(t,e,n){Ot(G(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function gd(t,e,n,s){const r=s.includes(".")?fd(n,s):()=>n[s];if(je(t)){const i=e[t];te(i)&&Ei(r,i)}else if(te(t))Ei(r,t.bind(n));else if(Ce(t))if(G(t))t.forEach(i=>gd(i,e,n,s));else{const i=te(t.handler)?t.handler.bind(n):e[t.handler];te(i)&&Ei(r,i,t)}}function Zl(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Oi(l,c,o,!0)),Oi(l,e,o)),Ce(e)&&i.set(e,l),l}function Oi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Oi(t,i,n,!0),r&&r.forEach(o=>Oi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=u0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const u0={data:Du,props:Ru,emits:Ru,methods:nr,computed:nr,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:nr,directives:nr,watch:f0,provide:Du,inject:h0};function Du(t,e){return e?t?function(){return He(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function h0(t,e){return nr(ja(t),ja(e))}function ja(t){if(G(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ft(t,e){return t?[...new Set([].concat(t,e))]:e}function nr(t,e){return t?He(Object.create(null),t,e):e}function Ru(t,e){return t?G(t)&&G(e)?[...new Set([...t,...e])]:He(Object.create(null),Au(t),Au(e!=null?e:{})):e}function f0(t,e){if(!t)return e;if(!e)return t;const n=He(Object.create(null),t);for(const s in e)n[s]=ft(t[s],e[s]);return n}function md(){return{app:null,config:{isNativeTag:qm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d0=0;function p0(t,e){return function(s,r=null){te(s)||(s=He({},s)),r!=null&&!Ce(r)&&(r=null);const i=md(),o=new Set;let a=!1;const l=i.app={_uid:d0++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:B0,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&te(c.install)?(o.add(c),c.install(l,...u)):te(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=Ne(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,vo(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){Mi=l;try{return c()}finally{Mi=null}}};return l}}let Mi=null;function Gn(t,e){if(it){let n=it.provides;const s=it.parent&&it.parent.provides;s===n&&(n=it.provides=Object.create(s)),n[t]=e}}function Ct(t,e,n=!1){const s=it||Rt;if(s||Mi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Mi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&te(e)?e.call(s&&s.proxy):e}}function g0(t,e,n,s=!1){const r={},i={};Ri(i,yo,1),t.propsDefaults=Object.create(null),yd(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Dy(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function m0(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=he(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(fo(t.emitsOptions,f))continue;const m=e[f];if(l)if(ae(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const w=Ss(f);r[w]=qa(l,a,w,m,t,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{yd(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!ae(e,h)&&((u=Us(h))===h||!ae(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=qa(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ae(e,h)&&!0)&&(delete i[h],c=!0)}c&&tn(t,"set","$attrs")}function yd(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(wi(l))continue;const c=e[l];let u;r&&ae(r,u=Ss(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:fo(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=he(n),c=a||Ee;for(let u=0;u<i.length;u++){const h=i[u];n[h]=qa(r,l,h,c[h],t,!ae(c,h))}}return o}function qa(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ae(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(ks(r),s=c[n]=l.call(null,e),Qn())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Us(n))&&(s=!0))}return s}function vd(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!te(t)){const u=h=>{l=!0;const[f,m]=vd(h,e,!0);He(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ce(t)&&s.set(t,ws),ws;if(G(i))for(let u=0;u<i.length;u++){const h=Ss(i[u]);Pu(h)&&(o[h]=Ee)}else if(i)for(const u in i){const h=Ss(u);if(Pu(h)){const f=i[u],m=o[h]=G(f)||te(f)?{type:f}:He({},f);if(m){const w=Mu(Boolean,m.type),E=Mu(String,m.type);m[0]=w>-1,m[1]=E<0||w<E,(w>-1||ae(m,"default"))&&a.push(h)}}}const c=[o,a];return Ce(t)&&s.set(t,c),c}function Pu(t){return t[0]!=="$"}function Nu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Ou(t,e){return Nu(t)===Nu(e)}function Mu(t,e){return G(e)?e.findIndex(n=>Ou(n,t)):te(e)&&Ou(e,t)?0:-1}const wd=t=>t[0]==="_"||t==="$stable",ec=t=>G(t)?t.map(jt):[jt(t)],y0=(t,e,n)=>{if(e._n)return e;const s=fs((...r)=>ec(e(...r)),n);return s._c=!1,s},bd=(t,e,n)=>{const s=t._ctx;for(const r in t){if(wd(r))continue;const i=t[r];if(te(i))e[r]=y0(r,i,s);else if(i!=null){const o=ec(i);e[r]=()=>o}}},Ed=(t,e)=>{const n=ec(e);t.slots.default=()=>n},v0=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=he(e),Ri(e,"_",n)):bd(e,t.slots={})}else t.slots={},e&&Ed(t,e);Ri(t.slots,yo,1)},w0=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ee;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(He(r,e),!n&&a===1&&delete r._):(i=!e.$stable,bd(e,r)),o=e}else e&&(Ed(t,e),o={default:1});if(i)for(const a in r)!wd(a)&&!(a in o)&&delete r[a]};function Ha(t,e,n,s,r=!1){if(G(t)){t.forEach((f,m)=>Ha(f,e&&(G(e)?e[m]:e),n,s,r));return}if(_i(s)&&!r)return;const i=s.shapeFlag&4?vo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ee?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(je(c)?(u[c]=null,ae(h,c)&&(h[c]=null)):ee(c)&&(c.value=null)),te(l))bn(l,a,12,[o,u]);else{const f=je(l),m=ee(l);if(f||m){const w=()=>{if(t.f){const E=f?ae(h,l)?h[l]:u[l]:l.value;r?G(E)&&Fl(E,i):G(E)?E.includes(i)||E.push(i):f?(u[l]=[i],ae(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ae(h,l)&&(h[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};o?(w.id=-1,pt(w,n)):w()}}}const pt=Wy;function b0(t){return E0(t)}function E0(t,e){const n=Na();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=Nt,insertStaticContent:w}=t,E=(d,g,v,b=null,_=null,I=null,L=!1,A=null,P=!!g.dynamicChildren)=>{if(d===g)return;d&&!Xs(d,g)&&(b=y(d),Ze(d,_,I,!0),d=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:C,ref:j,shapeFlag:$}=g;switch(C){case mo:x(d,g,v,b);break;case Jn:N(d,g,v,b);break;case Ii:d==null&&k(g,v,b,L);break;case nt:Je(d,g,v,b,_,I,L,A,P);break;default:$&1?ie(d,g,v,b,_,I,L,A,P):$&6?It(d,g,v,b,_,I,L,A,P):($&64||$&128)&&C.process(d,g,v,b,_,I,L,A,P,R)}j!=null&&_&&Ha(j,d&&d.ref,I,g||d,!g)},x=(d,g,v,b)=>{if(d==null)s(g.el=a(g.children),v,b);else{const _=g.el=d.el;g.children!==d.children&&c(_,g.children)}},N=(d,g,v,b)=>{d==null?s(g.el=l(g.children||""),v,b):g.el=d.el},k=(d,g,v,b)=>{[d.el,d.anchor]=w(d.children,g,v,b,d.el,d.anchor)},V=({el:d,anchor:g},v,b)=>{let _;for(;d&&d!==g;)_=f(d),s(d,v,b),d=_;s(g,v,b)},O=({el:d,anchor:g})=>{let v;for(;d&&d!==g;)v=f(d),r(d),d=v;r(g)},ie=(d,g,v,b,_,I,L,A,P)=>{L=L||g.type==="svg",d==null?ce(g,v,b,_,I,L,A,P):Re(d,g,_,I,L,A,P)},ce=(d,g,v,b,_,I,L,A)=>{let P,C;const{type:j,props:$,shapeFlag:q,transition:Y,dirs:ne}=d;if(P=d.el=o(d.type,I,$&&$.is,$),q&8?u(P,d.children):q&16&&Se(d.children,P,null,b,_,I&&j!=="foreignObject",L,A),ne&&Ln(d,null,b,"created"),we(P,d,d.scopeId,L,b),$){for(const ye in $)ye!=="value"&&!wi(ye)&&i(P,ye,null,$[ye],I,d.children,b,_,F);"value"in $&&i(P,"value",null,$.value),(C=$.onVnodeBeforeMount)&&Ut(C,b,d)}ne&&Ln(d,null,b,"beforeMount");const ve=(!_||_&&!_.pendingBranch)&&Y&&!Y.persisted;ve&&Y.beforeEnter(P),s(P,g,v),((C=$&&$.onVnodeMounted)||ve||ne)&&pt(()=>{C&&Ut(C,b,d),ve&&Y.enter(P),ne&&Ln(d,null,b,"mounted")},_)},we=(d,g,v,b,_)=>{if(v&&m(d,v),b)for(let I=0;I<b.length;I++)m(d,b[I]);if(_){let I=_.subTree;if(g===I){const L=_.vnode;we(d,L,L.scopeId,L.slotScopeIds,_.parent)}}},Se=(d,g,v,b,_,I,L,A,P=0)=>{for(let C=P;C<d.length;C++){const j=d[C]=A?pn(d[C]):jt(d[C]);E(null,j,g,v,b,_,I,L,A)}},Re=(d,g,v,b,_,I,L)=>{const A=g.el=d.el;let{patchFlag:P,dynamicChildren:C,dirs:j}=g;P|=d.patchFlag&16;const $=d.props||Ee,q=g.props||Ee;let Y;v&&Fn(v,!1),(Y=q.onVnodeBeforeUpdate)&&Ut(Y,v,g,d),j&&Ln(g,d,v,"beforeUpdate"),v&&Fn(v,!0);const ne=_&&g.type!=="foreignObject";if(C?ke(d.dynamicChildren,C,A,v,b,ne,I):L||le(d,g,A,null,v,b,ne,I,!1),P>0){if(P&16)We(A,g,$,q,v,b,_);else if(P&2&&$.class!==q.class&&i(A,"class",null,q.class,_),P&4&&i(A,"style",$.style,q.style,_),P&8){const ve=g.dynamicProps;for(let ye=0;ye<ve.length;ye++){const Me=ve[ye],At=$[Me],cs=q[Me];(cs!==At||Me==="value")&&i(A,Me,At,cs,_,d.children,v,b,F)}}P&1&&d.children!==g.children&&u(A,g.children)}else!L&&C==null&&We(A,g,$,q,v,b,_);((Y=q.onVnodeUpdated)||j)&&pt(()=>{Y&&Ut(Y,v,g,d),j&&Ln(g,d,v,"updated")},b)},ke=(d,g,v,b,_,I,L)=>{for(let A=0;A<g.length;A++){const P=d[A],C=g[A],j=P.el&&(P.type===nt||!Xs(P,C)||P.shapeFlag&70)?h(P.el):v;E(P,C,j,null,b,_,I,L,!0)}},We=(d,g,v,b,_,I,L)=>{if(v!==b){if(v!==Ee)for(const A in v)!wi(A)&&!(A in b)&&i(d,A,v[A],null,L,g.children,_,I,F);for(const A in b){if(wi(A))continue;const P=b[A],C=v[A];P!==C&&A!=="value"&&i(d,A,C,P,L,g.children,_,I,F)}"value"in b&&i(d,"value",v.value,b.value)}},Je=(d,g,v,b,_,I,L,A,P)=>{const C=g.el=d?d.el:a(""),j=g.anchor=d?d.anchor:a("");let{patchFlag:$,dynamicChildren:q,slotScopeIds:Y}=g;Y&&(A=A?A.concat(Y):Y),d==null?(s(C,v,b),s(j,v,b),Se(g.children,v,j,_,I,L,A,P)):$>0&&$&64&&q&&d.dynamicChildren?(ke(d.dynamicChildren,q,v,_,I,L,A),(g.key!=null||_&&g===_.subTree)&&_d(d,g,!0)):le(d,g,v,j,_,I,L,A,P)},It=(d,g,v,b,_,I,L,A,P)=>{g.slotScopeIds=A,d==null?g.shapeFlag&512?_.ctx.activate(g,v,b,L,P):Mn(g,v,b,_,I,L,P):cn(d,g,P)},Mn=(d,g,v,b,_,I,L)=>{const A=d.component=R0(d,b,_);if(dd(d)&&(A.ctx.renderer=R),P0(A),A.asyncDep){if(_&&_.registerDep(A,Oe),!d.el){const P=A.subTree=Ne(Jn);N(null,P,g,v)}return}Oe(A,d,g,v,_,I,L)},cn=(d,g,v)=>{const b=g.component=d.component;if(Hy(d,g,v))if(b.asyncDep&&!b.asyncResolved){pe(b,g,v);return}else b.next=g,$y(b.update),b.update();else g.el=d.el,b.vnode=g},Oe=(d,g,v,b,_,I,L)=>{const A=()=>{if(d.isMounted){let{next:j,bu:$,u:q,parent:Y,vnode:ne}=d,ve=j,ye;Fn(d,!1),j?(j.el=ne.el,pe(d,j,L)):j=ne,$&&bi($),(ye=j.props&&j.props.onVnodeBeforeUpdate)&&Ut(ye,Y,j,ne),Fn(d,!0);const Me=ea(d),At=d.subTree;d.subTree=Me,E(At,Me,h(At.el),y(At),d,_,I),j.el=Me.el,ve===null&&zy(d,Me.el),q&&pt(q,_),(ye=j.props&&j.props.onVnodeUpdated)&&pt(()=>Ut(ye,Y,j,ne),_)}else{let j;const{el:$,props:q}=g,{bm:Y,m:ne,parent:ve}=d,ye=_i(g);if(Fn(d,!1),Y&&bi(Y),!ye&&(j=q&&q.onVnodeBeforeMount)&&Ut(j,ve,g),Fn(d,!0),$&&fe){const Me=()=>{d.subTree=ea(d),fe($,d.subTree,d,_,null)};ye?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Me()):Me()}else{const Me=d.subTree=ea(d);E(null,Me,v,b,d,_,I),g.el=Me.el}if(ne&&pt(ne,_),!ye&&(j=q&&q.onVnodeMounted)){const Me=g;pt(()=>Ut(j,ve,Me),_)}(g.shapeFlag&256||ve&&_i(ve.vnode)&&ve.vnode.shapeFlag&256)&&d.a&&pt(d.a,_),d.isMounted=!0,g=v=b=null}},P=d.effect=new jl(A,()=>Yl(C),d.scope),C=d.update=()=>P.run();C.id=d.uid,Fn(d,!0),C()},pe=(d,g,v)=>{g.component=d;const b=d.vnode.props;d.vnode=g,d.next=null,m0(d,g.props,b,v),w0(d,g.children,v),js(),Cu(),qs()},le=(d,g,v,b,_,I,L,A,P=!1)=>{const C=d&&d.children,j=d?d.shapeFlag:0,$=g.children,{patchFlag:q,shapeFlag:Y}=g;if(q>0){if(q&128){Bt(C,$,v,b,_,I,L,A,P);return}else if(q&256){St(C,$,v,b,_,I,L,A,P);return}}Y&8?(j&16&&F(C,_,I),$!==C&&u(v,$)):j&16?Y&16?Bt(C,$,v,b,_,I,L,A,P):F(C,_,I,!0):(j&8&&u(v,""),Y&16&&Se($,v,b,_,I,L,A,P))},St=(d,g,v,b,_,I,L,A,P)=>{d=d||ws,g=g||ws;const C=d.length,j=g.length,$=Math.min(C,j);let q;for(q=0;q<$;q++){const Y=g[q]=P?pn(g[q]):jt(g[q]);E(d[q],Y,v,null,_,I,L,A,P)}C>j?F(d,_,I,!0,!1,$):Se(g,v,b,_,I,L,A,P,$)},Bt=(d,g,v,b,_,I,L,A,P)=>{let C=0;const j=g.length;let $=d.length-1,q=j-1;for(;C<=$&&C<=q;){const Y=d[C],ne=g[C]=P?pn(g[C]):jt(g[C]);if(Xs(Y,ne))E(Y,ne,v,null,_,I,L,A,P);else break;C++}for(;C<=$&&C<=q;){const Y=d[$],ne=g[q]=P?pn(g[q]):jt(g[q]);if(Xs(Y,ne))E(Y,ne,v,null,_,I,L,A,P);else break;$--,q--}if(C>$){if(C<=q){const Y=q+1,ne=Y<j?g[Y].el:b;for(;C<=q;)E(null,g[C]=P?pn(g[C]):jt(g[C]),v,ne,_,I,L,A,P),C++}}else if(C>q)for(;C<=$;)Ze(d[C],_,I,!0),C++;else{const Y=C,ne=C,ve=new Map;for(C=ne;C<=q;C++){const vt=g[C]=P?pn(g[C]):jt(g[C]);vt.key!=null&&ve.set(vt.key,C)}let ye,Me=0;const At=q-ne+1;let cs=!1,gu=0;const Ys=new Array(At);for(C=0;C<At;C++)Ys[C]=0;for(C=Y;C<=$;C++){const vt=d[C];if(Me>=At){Ze(vt,_,I,!0);continue}let Vt;if(vt.key!=null)Vt=ve.get(vt.key);else for(ye=ne;ye<=q;ye++)if(Ys[ye-ne]===0&&Xs(vt,g[ye])){Vt=ye;break}Vt===void 0?Ze(vt,_,I,!0):(Ys[Vt-ne]=C+1,Vt>=gu?gu=Vt:cs=!0,E(vt,g[Vt],v,null,_,I,L,A,P),Me++)}const mu=cs?_0(Ys):ws;for(ye=mu.length-1,C=At-1;C>=0;C--){const vt=ne+C,Vt=g[vt],yu=vt+1<j?g[vt+1].el:b;Ys[C]===0?E(null,Vt,v,yu,_,I,L,A,P):cs&&(ye<0||C!==mu[ye]?Tt(Vt,v,yu,2):ye--)}}},Tt=(d,g,v,b,_=null)=>{const{el:I,type:L,transition:A,children:P,shapeFlag:C}=d;if(C&6){Tt(d.component.subTree,g,v,b);return}if(C&128){d.suspense.move(g,v,b);return}if(C&64){L.move(d,g,v,R);return}if(L===nt){s(I,g,v);for(let $=0;$<P.length;$++)Tt(P[$],g,v,b);s(d.anchor,g,v);return}if(L===Ii){V(d,g,v);return}if(b!==2&&C&1&&A)if(b===0)A.beforeEnter(I),s(I,g,v),pt(()=>A.enter(I),_);else{const{leave:$,delayLeave:q,afterLeave:Y}=A,ne=()=>s(I,g,v),ve=()=>{$(I,()=>{ne(),Y&&Y()})};q?q(I,ne,ve):ve()}else s(I,g,v)},Ze=(d,g,v,b=!1,_=!1)=>{const{type:I,props:L,ref:A,children:P,dynamicChildren:C,shapeFlag:j,patchFlag:$,dirs:q}=d;if(A!=null&&Ha(A,null,v,d,!0),j&256){g.ctx.deactivate(d);return}const Y=j&1&&q,ne=!_i(d);let ve;if(ne&&(ve=L&&L.onVnodeBeforeUnmount)&&Ut(ve,g,d),j&6)oe(d.component,v,b);else{if(j&128){d.suspense.unmount(v,b);return}Y&&Ln(d,null,g,"beforeUnmount"),j&64?d.type.remove(d,g,v,_,R,b):C&&(I!==nt||$>0&&$&64)?F(C,g,v,!1,!0):(I===nt&&$&384||!_&&j&16)&&F(P,g,v),b&&un(d)}(ne&&(ve=L&&L.onVnodeUnmounted)||Y)&&pt(()=>{ve&&Ut(ve,g,d),Y&&Ln(d,null,g,"unmounted")},v)},un=d=>{const{type:g,el:v,anchor:b,transition:_}=d;if(g===nt){hn(v,b);return}if(g===Ii){O(d);return}const I=()=>{r(v),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:L,delayLeave:A}=_,P=()=>L(v,I);A?A(d.el,I,P):P()}else I()},hn=(d,g)=>{let v;for(;d!==g;)v=f(d),r(d),d=v;r(g)},oe=(d,g,v)=>{const{bum:b,scope:_,update:I,subTree:L,um:A}=d;b&&bi(b),_.stop(),I&&(I.active=!1,Ze(L,d,g,v)),A&&pt(A,g),pt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},F=(d,g,v,b=!1,_=!1,I=0)=>{for(let L=I;L<d.length;L++)Ze(d[L],g,v,b,_)},y=d=>d.shapeFlag&6?y(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),D=(d,g,v)=>{d==null?g._vnode&&Ze(g._vnode,null,null,!0):E(g._vnode||null,d,g,null,null,null,v),Cu(),ld(),g._vnode=d},R={p:E,um:Ze,m:Tt,r:un,mt:Mn,mc:Se,pc:le,pbc:ke,n:y,o:t};let U,fe;return e&&([U,fe]=e(R)),{render:D,hydrate:U,createApp:p0(D,U)}}function Fn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _d(t,e,n=!1){const s=t.children,r=e.children;if(G(s)&&G(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=pn(r[i]),a.el=o.el),n||_d(o,a)),a.type===mo&&(a.el=o.el)}}function _0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const I0=t=>t.__isTeleport,nt=Symbol.for("v-fgt"),mo=Symbol.for("v-txt"),Jn=Symbol.for("v-cmt"),Ii=Symbol.for("v-stc"),ur=[];let Pt=null;function Ie(t=!1){ur.push(Pt=t?null:[])}function T0(){ur.pop(),Pt=ur[ur.length-1]||null}let Ir=1;function Lu(t){Ir+=t}function Id(t){return t.dynamicChildren=Ir>0?Pt||ws:null,T0(),Ir>0&&Pt&&Pt.push(t),t}function Pe(t,e,n,s,r,i){return Id(p(t,e,n,s,r,i,!0))}function za(t,e,n,s,r){return Id(Ne(t,e,n,s,r,!0))}function Ka(t){return t?t.__v_isVNode===!0:!1}function Xs(t,e){return t.type===e.type&&t.key===e.key}const yo="__vInternal",Td=({key:t})=>t!=null?t:null,Ti=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||ee(t)||te(t)?{i:Rt,r:t,k:e,f:!!n}:t:null);function p(t,e=null,n=null,s=0,r=null,i=t===nt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Td(e),ref:e&&Ti(e),scopeId:hd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Rt};return a?(tc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=je(n)?8:16),Ir>0&&!o&&Pt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pt.push(l),l}const Ne=x0;function x0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===o0)&&(t=Jn),Ka(t)){const a=Zn(t,e,!0);return n&&tc(a,n),Ir>0&&!i&&Pt&&(a.shapeFlag&6?Pt[Pt.indexOf(t)]=a:Pt.push(a)),a.patchFlag|=-2,a}if(L0(t)&&(t=t.__vccOpts),e){e=C0(e);let{class:a,style:l}=e;a&&!je(a)&&(e.class=Un(a)),Ce(l)&&(ed(l)&&!G(l)&&(l=He({},l)),e.style=Vl(l))}const o=je(t)?1:Ky(t)?128:I0(t)?64:Ce(t)?4:te(t)?2:0;return p(t,e,n,s,r,o,i,!0)}function C0(t){return t?ed(t)||yo in t?He({},t):t:null}function Zn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?A0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Td(a),ref:e&&e.ref?n&&r?G(r)?r.concat(Ti(e)):[r,Ti(e)]:Ti(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zn(t.ssContent),ssFallback:t.ssFallback&&Zn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function xi(t=" ",e=0){return Ne(mo,null,t,e)}function S0(t,e){const n=Ne(Ii,null,t);return n.staticCount=e,n}function Ci(t="",e=!1){return e?(Ie(),za(Jn,null,t)):Ne(Jn,null,t)}function jt(t){return t==null||typeof t=="boolean"?Ne(Jn):G(t)?Ne(nt,null,t.slice()):typeof t=="object"?pn(t):Ne(mo,null,String(t))}function pn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Zn(t)}function tc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(G(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),tc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(yo in e)?e._ctx=Rt:r===3&&Rt&&(Rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:Rt},n=32):(e=String(e),s&64?(n=16,e=[xi(e)]):n=8);t.children=e,t.shapeFlag|=n}function A0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Un([e.class,s.class]));else if(r==="style")e.style=Vl([e.style,s.style]);else if(ao(r)){const i=e[r],o=s[r];o&&i!==o&&!(G(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ut(t,e,n,s=null){Ot(t,e,7,[n,s])}const k0=md();let D0=0;function R0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||k0,i={uid:D0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new jf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vd(s,r),emitsOptions:ud(s,r),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:s.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Uy.bind(null,i),t.ce&&t.ce(i),i}let it=null,nc,us,Fu="__VUE_INSTANCE_SETTERS__";(us=Na()[Fu])||(us=Na()[Fu]=[]),us.push(t=>it=t),nc=t=>{us.length>1?us.forEach(e=>e(t)):us[0](t)};const ks=t=>{nc(t),t.scope.on()},Qn=()=>{it&&it.scope.off(),nc(null)};function xd(t){return t.vnode.shapeFlag&4}let Tr=!1;function P0(t,e=!1){Tr=e;const{props:n,children:s}=t.vnode,r=xd(t);g0(t,n,r,e),v0(t,s);const i=r?N0(t,e):void 0;return Tr=!1,i}function N0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Wl(new Proxy(t.ctx,a0));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?M0(t):null;ks(t),js();const i=bn(s,t,0,[t.props,r]);if(qs(),Qn(),Lf(i)){if(i.then(Qn,Qn),e)return i.then(o=>{$u(t,o,e)}).catch(o=>{ho(o,t,0)});t.asyncDep=i}else $u(t,i,e)}else Cd(t,e)}function $u(t,e,n){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ce(e)&&(t.setupState=rd(e)),Cd(t,n)}let Bu;function Cd(t,e,n){const s=t.type;if(!t.render){if(!e&&Bu&&!s.render){const r=s.template||Zl(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=He(He({isCustomElement:i,delimiters:a},o),l);s.render=Bu(r,c)}}t.render=s.render||Nt}ks(t),js(),l0(t),qs(),Qn()}function O0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return yt(t,"get","$attrs"),e[n]}}))}function M0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return O0(t)},slots:t.slots,emit:t.emit,expose:e}}function vo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(rd(Wl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in cr)return cr[n](t)},has(e,n){return n in e||n in cr}}))}function L0(t){return te(t)&&"__vccOpts"in t}const ot=(t,e)=>My(t,e,Tr);function sc(t,e,n){const s=arguments.length;return s===2?Ce(e)&&!G(e)?Ka(e)?Ne(t,null,[e]):Ne(t,e):Ne(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ka(n)&&(n=[n]),Ne(t,e,n))}const F0=Symbol.for("v-scx"),$0=()=>Ct(F0),B0="3.3.2",V0="http://www.w3.org/2000/svg",Vn=typeof document<"u"?document:null,Vu=Vn&&Vn.createElement("template"),U0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Vn.createElementNS(V0,t):Vn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Vn.createTextNode(t),createComment:t=>Vn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Vn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Vu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Vu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function j0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function q0(t,e,n){const s=t.style,r=je(n);if(n&&!r){if(e&&!je(e))for(const i in e)n[i]==null&&Wa(s,i,"");for(const i in n)Wa(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Uu=/\s*!important$/;function Wa(t,e,n){if(G(n))n.forEach(s=>Wa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=H0(t,e);Uu.test(n)?t.setProperty(Us(s),n.replace(Uu,""),"important"):t[s]=n}}const ju=["Webkit","Moz","ms"],na={};function H0(t,e){const n=na[e];if(n)return n;let s=Ss(e);if(s!=="filter"&&s in t)return na[e]=s;s=Bf(s);for(let r=0;r<ju.length;r++){const i=ju[r]+s;if(i in t)return na[e]=i}return e}const qu="http://www.w3.org/1999/xlink";function z0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(qu,e.slice(6,e.length)):t.setAttributeNS(qu,e,n);else{const i=ey(e);n==null||i&&!Vf(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function K0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Vf(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ds(t,e,n,s){t.addEventListener(e,n,s)}function W0(t,e,n,s){t.removeEventListener(e,n,s)}function G0(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Q0(e);if(s){const c=i[e]=J0(s,r);ds(t,a,c,l)}else o&&(W0(t,a,o,l),i[e]=void 0)}}const Hu=/(?:Once|Passive|Capture)$/;function Q0(t){let e;if(Hu.test(t)){e={};let s;for(;s=t.match(Hu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Us(t.slice(2)),e]}let sa=0;const Y0=Promise.resolve(),X0=()=>sa||(Y0.then(()=>sa=0),sa=Date.now());function J0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ot(Z0(s,n.value),e,5,[s])};return n.value=t,n.attached=X0(),n}function Z0(t,e){if(G(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const zu=/^on[a-z]/,ev=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?j0(t,s,r):e==="style"?q0(t,n,s):ao(e)?Ll(e)||G0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tv(t,e,s,r))?K0(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),z0(t,e,s,r))};function tv(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&zu.test(e)&&te(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||zu.test(e)&&je(n)?!1:e in t}const Ku=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?n=>bi(e,n):e};function nv(t){t.target.composing=!0}function Wu(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const $e={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Ku(r);const i=s||r.props&&r.props.type==="number";ds(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Pa(a)),t._assign(a)}),n&&ds(t,"change",()=>{t.value=t.value.trim()}),e||(ds(t,"compositionstart",nv),ds(t,"compositionend",Wu),ds(t,"change",Wu))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Ku(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Pa(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},sv=["ctrl","shift","alt","meta"],rv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>sv.some(n=>t[`${n}Key`]&&!e.includes(n))},Ga=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=rv[e[r]];if(i&&i(n,e))return}return t(n,...s)},iv=He({patchProp:ev},U0);let Gu;function ov(){return Gu||(Gu=b0(iv))}const av=(...t)=>{const e=ov().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=lv(s);if(!r)return;const i=e._component;!te(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function lv(t){return je(t)?document.querySelector(t):t}var cv=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const uv=Symbol();var Qu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Qu||(Qu={}));function hv(){const t=ty(!0),e=t.run(()=>Z({}));let n=[],s=[];const r=Wl({install(i){r._a=i,i.provide(uv,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!cv?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ps=typeof window<"u";function fv(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ge=Object.assign;function ra(t,e){const n={};for(const s in e){const r=e[s];n[s]=Lt(r)?r.map(t):t(r)}return n}const hr=()=>{},Lt=Array.isArray,dv=/\/$/,pv=t=>t.replace(dv,"");function ia(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=vv(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function gv(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Yu(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mv(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Ds(e.matched[s],n.matched[r])&&Sd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ds(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Sd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yv(t[n],e[n]))return!1;return!0}function yv(t,e){return Lt(t)?Xu(t,e):Lt(e)?Xu(e,t):t===e}function Xu(t,e){return Lt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function vv(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var xr;(function(t){t.pop="pop",t.push="push"})(xr||(xr={}));var fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fr||(fr={}));function wv(t){if(!t)if(ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pv(t)}const bv=/^[^#]+#/;function Ev(t,e){return t.replace(bv,"#")+e}function _v(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const wo=()=>({left:window.pageXOffset,top:window.pageYOffset});function Iv(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=_v(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ju(t,e){return(history.state?history.state.position-e:-1)+t}const Qa=new Map;function Tv(t,e){Qa.set(t,e)}function xv(t){const e=Qa.get(t);return Qa.delete(t),e}let Cv=()=>location.protocol+"//"+location.host;function Ad(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Yu(l,"")}return Yu(n,t)+s+r}function Sv(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const m=Ad(t,location),w=n.value,E=e.value;let x=0;if(f){if(n.value=m,e.value=f,o&&o===w){o=null;return}x=E?f.position-E.position:0}else s(m);r.forEach(N=>{N(n.value,w,{delta:x,type:xr.pop,direction:x?x>0?fr.forward:fr.back:fr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const m=()=>{const w=r.indexOf(f);w>-1&&r.splice(w,1)};return i.push(m),m}function u(){const{history:f}=window;!f.state||f.replaceState(ge({},f.state,{scroll:wo()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Zu(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?wo():null}}function Av(t){const{history:e,location:n}=window,s={value:Ad(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Cv()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(l,c){const u=ge({},e.state,Zu(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=ge({},r.value,e.state,{forward:l,scroll:wo()});i(u.current,u,!0);const h=ge({},Zu(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function kv(t){t=wv(t);const e=Av(t),n=Sv(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ge({location:"",base:t,go:s,createHref:Ev.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Dv(t){return typeof t=="string"||t&&typeof t=="object"}function kd(t){return typeof t=="string"||typeof t=="symbol"}const dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Dd=Symbol("");var eh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eh||(eh={}));function Rs(t,e){return ge(new Error,{type:t,[Dd]:!0},e)}function Yt(t,e){return t instanceof Error&&Dd in t&&(e==null||!!(t.type&e))}const th="[^/]+?",Rv={sensitive:!1,strict:!1,start:!0,end:!0},Pv=/[.+*?^${}()[\]/\\]/g;function Nv(t,e){const n=ge({},Rv,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(Pv,"\\$&"),m+=40;else if(f.type===1){const{value:w,repeatable:E,optional:x,regexp:N}=f;i.push({name:w,repeatable:E,optional:x});const k=N||th;if(k!==th){m+=10;try{new RegExp(`(${k})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${w}" (${k}): `+O.message)}}let V=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(V=x&&c.length<2?`(?:/${V})`:"/"+V),x&&(V+="?"),r+=V,m+=20,x&&(m+=-8),E&&(m+=-20),k===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",w=i[f-1];h[w.name]=m&&w.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:w,repeatable:E,optional:x}=m,N=w in c?c[w]:"";if(Lt(N)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const k=Lt(N)?N.join("/"):N;if(!k)if(x)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=k}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Ov(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Mv(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Ov(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(nh(s))return 1;if(nh(r))return-1}return r.length-s.length}function nh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Lv={type:0,value:""},Fv=/[a-zA-Z0-9_]/;function $v(t){if(!t)return[[]];if(t==="/")return[[Lv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Fv.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Bv(t,e,n){const s=Nv($v(t.path),n),r=ge(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Vv(t,e){const n=[],s=new Map;e=ih({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const m=!f,w=Uv(u);w.aliasOf=f&&f.record;const E=ih(e,u),x=[w];if("alias"in u){const V=typeof u.alias=="string"?[u.alias]:u.alias;for(const O of V)x.push(ge({},w,{components:f?f.record.components:w.components,path:O,aliasOf:f?f.record:w}))}let N,k;for(const V of x){const{path:O}=V;if(h&&O[0]!=="/"){const ie=h.record.path,ce=ie[ie.length-1]==="/"?"":"/";V.path=h.record.path+(O&&ce+O)}if(N=Bv(V,h,E),f?f.alias.push(N):(k=k||N,k!==N&&k.alias.push(N),m&&u.name&&!rh(N)&&o(u.name)),w.children){const ie=w.children;for(let ce=0;ce<ie.length;ce++)i(ie[ce],N,f&&f.children[ce])}f=f||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&l(N)}return k?()=>{o(k)}:hr}function o(u){if(kd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&Mv(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Rd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!rh(u)&&s.set(u.record.name,u)}function c(u,h){let f,m={},w,E;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Rs(1,{location:u});E=f.record.name,m=ge(sh(h.params,f.keys.filter(k=>!k.optional).map(k=>k.name)),u.params&&sh(u.params,f.keys.map(k=>k.name))),w=f.stringify(m)}else if("path"in u)w=u.path,f=n.find(k=>k.re.test(w)),f&&(m=f.parse(w),E=f.record.name);else{if(f=h.name?s.get(h.name):n.find(k=>k.re.test(h.path)),!f)throw Rs(1,{location:u,currentLocation:h});E=f.record.name,m=ge({},h.params,u.params),w=f.stringify(m)}const x=[];let N=f;for(;N;)x.unshift(N.record),N=N.parent;return{name:E,path:w,params:m,matched:x,meta:qv(x)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function sh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Uv(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:jv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function jv(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function rh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function qv(t){return t.reduce((e,n)=>ge(e,n.meta),{})}function ih(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Rd(t,e){return e.children.some(n=>n===t||Rd(t,n))}const Pd=/#/g,Hv=/&/g,zv=/\//g,Kv=/=/g,Wv=/\?/g,Nd=/\+/g,Gv=/%5B/g,Qv=/%5D/g,Od=/%5E/g,Yv=/%60/g,Md=/%7B/g,Xv=/%7C/g,Ld=/%7D/g,Jv=/%20/g;function rc(t){return encodeURI(""+t).replace(Xv,"|").replace(Gv,"[").replace(Qv,"]")}function Zv(t){return rc(t).replace(Md,"{").replace(Ld,"}").replace(Od,"^")}function Ya(t){return rc(t).replace(Nd,"%2B").replace(Jv,"+").replace(Pd,"%23").replace(Hv,"%26").replace(Yv,"`").replace(Md,"{").replace(Ld,"}").replace(Od,"^")}function ew(t){return Ya(t).replace(Kv,"%3D")}function tw(t){return rc(t).replace(Pd,"%23").replace(Wv,"%3F")}function nw(t){return t==null?"":tw(t).replace(zv,"%2F")}function Li(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function sw(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Nd," "),o=i.indexOf("="),a=Li(o<0?i:i.slice(0,o)),l=o<0?null:Li(i.slice(o+1));if(a in e){let c=e[a];Lt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function oh(t){let e="";for(let n in t){const s=t[n];if(n=ew(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Lt(s)?s.map(i=>i&&Ya(i)):[s&&Ya(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function rw(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Lt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const iw=Symbol(""),ah=Symbol(""),ic=Symbol(""),Fd=Symbol(""),Xa=Symbol("");function Js(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function gn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Rs(4,{from:n,to:e})):h instanceof Error?a(h):Dv(h)?a(Rs(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function oa(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(ow(a)){const c=(a.__vccOpts||a)[e];c&&r.push(gn(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=fv(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&gn(f,n,s,i,o)()}))}}return r}function ow(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lh(t){const e=Ct(ic),n=Ct(Fd),s=ot(()=>e.resolve(K(t.to))),r=ot(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ds.bind(null,u));if(f>-1)return f;const m=ch(l[c-2]);return c>1&&ch(u)===m&&h[h.length-1].path!==m?h.findIndex(Ds.bind(null,l[c-2])):f}),i=ot(()=>r.value>-1&&uw(n.params,s.value.params)),o=ot(()=>r.value>-1&&r.value===n.matched.length-1&&Sd(n.params,s.value.params));function a(l={}){return cw(l)?e[K(t.replace)?"replace":"push"](K(t.to)).catch(hr):Promise.resolve()}return{route:s,href:ot(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const aw=Vr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lh,setup(t,{slots:e}){const n=Br(lh(t)),{options:s}=Ct(ic),r=ot(()=>({[uh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[uh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:sc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),lw=aw;function cw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function uw(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Lt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ch(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uh=(t,e,n)=>t!=null?t:e!=null?e:n,hw=Vr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ct(Xa),r=ot(()=>t.route||s.value),i=Ct(ah,0),o=ot(()=>{let c=K(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ot(()=>r.value.matched[o.value]);Gn(ah,ot(()=>o.value+1)),Gn(iw,a),Gn(Xa,r);const l=Z();return Ei(()=>[l.value,a.value,t.name],([c,u,h],[f,m,w])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!Ds(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(E=>E(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return hh(n.default,{Component:f,route:c});const m=h.props[u],w=m?m===!0?c.params:typeof m=="function"?m(c):m:null,x=sc(f,ge({},w,e,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return hh(n.default,{Component:x,route:c})||x}}});function hh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const $d=hw;function fw(t){const e=Vv(t.routes,t),n=t.parseQuery||sw,s=t.stringifyQuery||oh,r=t.history,i=Js(),o=Js(),a=Js(),l=Ry(dn);let c=dn;ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ra.bind(null,y=>""+y),h=ra.bind(null,nw),f=ra.bind(null,Li);function m(y,D){let R,U;return kd(y)?(R=e.getRecordMatcher(y),U=D):U=y,e.addRoute(U,R)}function w(y){const D=e.getRecordMatcher(y);D&&e.removeRoute(D)}function E(){return e.getRoutes().map(y=>y.record)}function x(y){return!!e.getRecordMatcher(y)}function N(y,D){if(D=ge({},D||l.value),typeof y=="string"){const v=ia(n,y,D.path),b=e.resolve({path:v.path},D),_=r.createHref(v.fullPath);return ge(v,b,{params:f(b.params),hash:Li(v.hash),redirectedFrom:void 0,href:_})}let R;if("path"in y)R=ge({},y,{path:ia(n,y.path,D.path).path});else{const v=ge({},y.params);for(const b in v)v[b]==null&&delete v[b];R=ge({},y,{params:h(v)}),D.params=h(D.params)}const U=e.resolve(R,D),fe=y.hash||"";U.params=u(f(U.params));const d=gv(s,ge({},y,{hash:Zv(fe),path:U.path})),g=r.createHref(d);return ge({fullPath:d,hash:fe,query:s===oh?rw(y.query):y.query||{}},U,{redirectedFrom:void 0,href:g})}function k(y){return typeof y=="string"?ia(n,y,l.value.path):ge({},y)}function V(y,D){if(c!==y)return Rs(8,{from:D,to:y})}function O(y){return we(y)}function ie(y){return O(ge(k(y),{replace:!0}))}function ce(y){const D=y.matched[y.matched.length-1];if(D&&D.redirect){const{redirect:R}=D;let U=typeof R=="function"?R(y):R;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=k(U):{path:U},U.params={}),ge({query:y.query,hash:y.hash,params:"path"in U?{}:y.params},U)}}function we(y,D){const R=c=N(y),U=l.value,fe=y.state,d=y.force,g=y.replace===!0,v=ce(R);if(v)return we(ge(k(v),{state:typeof v=="object"?ge({},fe,v.state):fe,force:d,replace:g}),D||R);const b=R;b.redirectedFrom=D;let _;return!d&&mv(s,U,R)&&(_=Rs(16,{to:b,from:U}),Tt(U,U,!0,!1)),(_?Promise.resolve(_):ke(b,U)).catch(I=>Yt(I)?Yt(I,2)?I:Bt(I):le(I,b,U)).then(I=>{if(I){if(Yt(I,2))return we(ge({replace:g},k(I.to),{state:typeof I.to=="object"?ge({},fe,I.to.state):fe,force:d}),D||b)}else I=Je(b,U,!0,g,fe);return We(b,U,I),I})}function Se(y,D){const R=V(y,D);return R?Promise.reject(R):Promise.resolve()}function Re(y){const D=hn.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(y):y()}function ke(y,D){let R;const[U,fe,d]=dw(y,D);R=oa(U.reverse(),"beforeRouteLeave",y,D);for(const v of U)v.leaveGuards.forEach(b=>{R.push(gn(b,y,D))});const g=Se.bind(null,y,D);return R.push(g),F(R).then(()=>{R=[];for(const v of i.list())R.push(gn(v,y,D));return R.push(g),F(R)}).then(()=>{R=oa(fe,"beforeRouteUpdate",y,D);for(const v of fe)v.updateGuards.forEach(b=>{R.push(gn(b,y,D))});return R.push(g),F(R)}).then(()=>{R=[];for(const v of y.matched)if(v.beforeEnter&&!D.matched.includes(v))if(Lt(v.beforeEnter))for(const b of v.beforeEnter)R.push(gn(b,y,D));else R.push(gn(v.beforeEnter,y,D));return R.push(g),F(R)}).then(()=>(y.matched.forEach(v=>v.enterCallbacks={}),R=oa(d,"beforeRouteEnter",y,D),R.push(g),F(R))).then(()=>{R=[];for(const v of o.list())R.push(gn(v,y,D));return R.push(g),F(R)}).catch(v=>Yt(v,8)?v:Promise.reject(v))}function We(y,D,R){for(const U of a.list())Re(()=>U(y,D,R))}function Je(y,D,R,U,fe){const d=V(y,D);if(d)return d;const g=D===dn,v=ps?history.state:{};R&&(U||g?r.replace(y.fullPath,ge({scroll:g&&v&&v.scroll},fe)):r.push(y.fullPath,fe)),l.value=y,Tt(y,D,R,g),Bt()}let It;function Mn(){It||(It=r.listen((y,D,R)=>{if(!oe.listening)return;const U=N(y),fe=ce(U);if(fe){we(ge(fe,{replace:!0}),U).catch(hr);return}c=U;const d=l.value;ps&&Tv(Ju(d.fullPath,R.delta),wo()),ke(U,d).catch(g=>Yt(g,12)?g:Yt(g,2)?(we(g.to,U).then(v=>{Yt(v,20)&&!R.delta&&R.type===xr.pop&&r.go(-1,!1)}).catch(hr),Promise.reject()):(R.delta&&r.go(-R.delta,!1),le(g,U,d))).then(g=>{g=g||Je(U,d,!1),g&&(R.delta&&!Yt(g,8)?r.go(-R.delta,!1):R.type===xr.pop&&Yt(g,20)&&r.go(-1,!1)),We(U,d,g)}).catch(hr)}))}let cn=Js(),Oe=Js(),pe;function le(y,D,R){Bt(y);const U=Oe.list();return U.length?U.forEach(fe=>fe(y,D,R)):console.error(y),Promise.reject(y)}function St(){return pe&&l.value!==dn?Promise.resolve():new Promise((y,D)=>{cn.add([y,D])})}function Bt(y){return pe||(pe=!y,Mn(),cn.list().forEach(([D,R])=>y?R(y):D()),cn.reset()),y}function Tt(y,D,R,U){const{scrollBehavior:fe}=t;if(!ps||!fe)return Promise.resolve();const d=!R&&xv(Ju(y.fullPath,0))||(U||!R)&&history.state&&history.state.scroll||null;return od().then(()=>fe(y,D,d)).then(g=>g&&Iv(g)).catch(g=>le(g,y,D))}const Ze=y=>r.go(y);let un;const hn=new Set,oe={currentRoute:l,listening:!0,addRoute:m,removeRoute:w,hasRoute:x,getRoutes:E,resolve:N,options:t,push:O,replace:ie,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Oe.add,isReady:St,install(y){const D=this;y.component("RouterLink",lw),y.component("RouterView",$d),y.config.globalProperties.$router=D,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>K(l)}),ps&&!un&&l.value===dn&&(un=!0,O(r.location).catch(fe=>{}));const R={};for(const fe in dn)R[fe]=ot(()=>l.value[fe]);y.provide(ic,D),y.provide(Fd,Br(R)),y.provide(Xa,l);const U=y.unmount;hn.add(y),y.unmount=function(){hn.delete(y),hn.size<1&&(c=dn,It&&It(),It=null,l.value=dn,un=!1,pe=!1),U()}}};function F(y){return y.reduce((D,R)=>D.then(()=>Re(R)),Promise.resolve())}return oe}function dw(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ds(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ds(c,l))||r.push(l))}return[n,s,r]}const pw=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},gw={name:"Footer"},mw={id:"footer",class:"bg-pink-50 text-center text-white dark:bg-neutral-600"},yw=S0('<div class="pt-4"><div class="mb-4 flex justify-center"><a href="https://www.facebook.com/profile.php?id=100090460875885" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="https://www.instagram.com/arumi_id/" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="https://api.whatsapp.com/send?phone=6285777040200" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="#000000" viewBox="0 0 30.667 30.667"><path d="M30.667,14.939c0,8.25-6.74,14.938-15.056,14.938c-2.639,0-5.118-0.675-7.276-1.857L0,30.667l2.717-8.017 c-1.37-2.25-2.159-4.892-2.159-7.712C0.559,6.688,7.297,0,15.613,0C23.928,0.002,30.667,6.689,30.667,14.939z M15.61,2.382 c-6.979,0-12.656,5.634-12.656,12.56c0,2.748,0.896,5.292,2.411,7.362l-1.58,4.663l4.862-1.545c2,1.312,4.393,2.076,6.963,2.076 c6.979,0,12.658-5.633,12.658-12.559C28.27,8.016,22.59,2.382,15.61,2.382z M23.214,18.38c-0.094-0.151-0.34-0.243-0.708-0.427 c-0.367-0.184-2.184-1.069-2.521-1.189c-0.34-0.123-0.586-0.185-0.832,0.182c-0.243,0.367-0.951,1.191-1.168,1.437 c-0.215,0.245-0.43,0.276-0.799,0.095c-0.369-0.186-1.559-0.57-2.969-1.817c-1.097-0.972-1.838-2.169-2.052-2.536 c-0.217-0.366-0.022-0.564,0.161-0.746c0.165-0.165,0.369-0.428,0.554-0.643c0.185-0.213,0.246-0.364,0.369-0.609 c0.121-0.245,0.06-0.458-0.031-0.643c-0.092-0.184-0.829-1.984-1.138-2.717c-0.307-0.732-0.614-0.611-0.83-0.611 c-0.215,0-0.461-0.03-0.707-0.03S9.897,8.215,9.56,8.582s-1.291,1.252-1.291,3.054c0,1.804,1.321,3.543,1.506,3.787 c0.186,0.243,2.554,4.062,6.305,5.528c3.753,1.465,3.753,0.976,4.429,0.914c0.678-0.062,2.184-0.885,2.49-1.739 C23.307,19.268,23.307,18.533,23.214,18.38z"></path></svg></a></div></div><div class="bg-pink-100 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://www.instagram.com/arumi_id/">Arumi_id</a></div>',2),vw=[yw];function ww(t,e,n,s,r,i){return Ie(),Pe("div",mw,vw)}const bw=pw(gw,[["render",ww]]);const Ew={__name:"App",setup(t){return(e,n)=>(Ie(),Pe(nt,null,[Ne(K($d),{class:"pb-40 mb-5"}),Ne(bw)],64))}},fh="/assets/logoArumi.925cc7ae.png";function Fi(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Fi),s}var Ja=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ja||{}),_w=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(_w||{});function oc({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=Vd(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return aa(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return Fi(l,{[0](){return null},[1](){return aa({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return aa(a)}function aa({props:t,attrs:e,slots:n,slot:s,name:r}){var i,o;let{as:a,...l}=Iw(t,["unmount","static"]),c=(i=n.default)==null?void 0:i.call(n,s),u={};if(s){let h=!1,f=[];for(let[m,w]of Object.entries(s))typeof w=="boolean"&&(h=!0),w===!0&&f.push(m);h&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=Bd(c!=null?c:[]),Object.keys(l).length>0||Object.keys(e).length>0){let[h,...f]=c!=null?c:[];if(!Tw(h)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(E=>E.trim()).filter((E,x,N)=>N.indexOf(E)===x).sort((E,x)=>E.localeCompare(x)).map(E=>`  - ${E}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(E=>`  - ${E}`).join(`
`)].join(`
`));let m=Vd((o=h.props)!=null?o:{},l),w=Zn(h,m);for(let E in m)E.startsWith("on")&&(w.props||(w.props={}),w.props[E]=m[E]);return w}return Array.isArray(c)&&c.length===1?c[0]:c}return sc(a,Object.assign({},l,u),{default:()=>c})}function Bd(t){return t.flatMap(e=>e.type===nt?Bd(e.children):[e])}function Vd(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function Iw(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function Tw(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let xw=0;function Cw(){return++xw}function Ud(){return Cw()}var gs=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(gs||{});function en(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let jd=Symbol("Context");var Cr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Cr||{});function Sw(){return Ct(jd,null)}function Aw(t){Gn(jd,t)}function dh(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function kw(t,e){let n=Z(dh(t.value.type,t.value.as));return Hs(()=>{n.value=dh(t.value.type,t.value.as)}),Xl(()=>{var s;n.value||en(e)&&en(e)instanceof HTMLButtonElement&&!((s=en(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var Dw=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Dw||{});let qd=Symbol("DisclosureContext");function ac(t){let e=Ct(qd,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ac),n}return e}let Hd=Symbol("DisclosurePanelContext");function Rw(){return Ct(Hd,null)}let Pw=Vr({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=Z(t.defaultOpen?0:1),r=Z(null),i=Z(null),o={buttonId:Z(null),panelId:Z(null),disclosureState:s,panel:r,button:i,toggleDisclosure(){s.value=Fi(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let l=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?en(a):en(o.button):en(o.button))();l==null||l.focus()}};return Gn(qd,o),Aw(ot(()=>Fi(s.value,{[0]:Cr.Open,[1]:Cr.Closed}))),()=>{let{defaultOpen:a,...l}=t,c={open:s.value===0,close:o.close};return oc({theirProps:l,ourProps:{},slot:c,slots:e,attrs:n,name:"Disclosure"})}}}),la=Vr({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Ud()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=ac("DisclosureButton");Hs(()=>{r.buttonId.value=t.id}),go(()=>{r.buttonId.value=null});let i=Rw(),o=ot(()=>i===null?!1:i.value===r.panelId.value),a=Z(null);s({el:a,$el:a}),o.value||Xl(()=>{r.button.value=a.value});let l=kw(ot(()=>({as:t.as,type:e.type})),a);function c(){var f;t.disabled||(o.value?(r.toggleDisclosure(),(f=en(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var m;if(!t.disabled)if(o.value)switch(f.key){case gs.Space:case gs.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(m=en(r.button))==null||m.focus();break}else switch(f.key){case gs.Space:case gs.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case gs.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},{id:m,...w}=t,E=o.value?{ref:a,type:l.value,onClick:c,onKeydown:u}:{id:m,ref:a,type:l.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":en(r.panel)?r.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:u,onKeyup:h};return oc({ourProps:E,theirProps:w,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),Nw=Vr({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Ud()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=ac("DisclosurePanel");Hs(()=>{r.panelId.value=t.id}),go(()=>{r.panelId.value=null}),s({el:r.panel,$el:r.panel}),Gn(Hd,r.panelId);let i=Sw(),o=ot(()=>i!==null?(i.value&Cr.Open)===Cr.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},{id:l,...c}=t,u={id:l,ref:r.panel};return oc({ourProps:u,theirProps:c,slot:a,attrs:e,slots:n,features:Ja.RenderStrategy|Ja.Static,visible:o.value,name:"DisclosurePanel"})}}});function Ow(t,e){return Ie(),Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function Mw(t,e){return Ie(),Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[p("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Lw=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),s.push(n[u],n[h],n[f],n[m])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new Fw;const f=i<<2|a>>4;if(s.push(f),c!==64){const m=a<<4&240|c>>2;if(s.push(m),h!==64){const w=c<<6&192|h;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $w=function(t){const e=zd(t);return Kd.encodeByteArray(e,!0)},$i=function(t){return $w(t).replace(/\./g,"")},Bw=function(t){try{return Kd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=()=>Vw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bw(t[1]);return e&&JSON.parse(e)},Wd=()=>{try{return Uw()||jw()||qw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hw=t=>{var e,n;return(n=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zw=t=>{const e=Hw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Gd=()=>{var t;return(t=Wd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$i(JSON.stringify(n)),$i(JSON.stringify(o)),a].join(".")}function Gw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qd(){try{return typeof indexedDB=="object"}catch{return!1}}function Yd(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FirebaseError";class Rn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Yw,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bo.prototype.create)}}class bo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Xw(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Rn(r,a,s)}}function Xw(t,e){return t.replace(Jw,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Jw=/\{\$([^}]+)}/g;function Bi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(ph(i)&&ph(o)){if(!Bi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function ph(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1e3,e1=2,t1=4*60*60*1e3,n1=.5;function gh(t,e=Zw,n=e1){const s=e*Math.pow(n,t),r=Math.round(n1*s*(Math.random()-.5)*2);return Math.min(t1,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class nn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i1(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r1(t){return t===$n?void 0:t}function i1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new s1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const a1={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},l1=de.INFO,c1={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},u1=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=c1[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lc{constructor(e){this.name=e,this._logLevel=l1,this._logHandler=u1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const h1=(t,e)=>e.some(n=>t instanceof n);let mh,yh;function f1(){return mh||(mh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d1(){return yh||(yh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xd=new WeakMap,Za=new WeakMap,Jd=new WeakMap,ca=new WeakMap,cc=new WeakMap;function p1(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(En(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xd.set(n,t)}).catch(()=>{}),cc.set(e,t),e}function g1(t){if(Za.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Za.set(t,e)}let el={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m1(t){el=t(el)}function y1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ua(this),e,...n);return Jd.set(s,e.sort?e.sort():[e]),En(s)}:d1().includes(t)?function(...e){return t.apply(ua(this),e),En(Xd.get(this))}:function(...e){return En(t.apply(ua(this),e))}}function v1(t){return typeof t=="function"?y1(t):(t instanceof IDBTransaction&&g1(t),h1(t,f1())?new Proxy(t,el):t)}function En(t){if(t instanceof IDBRequest)return p1(t);if(ca.has(t))return ca.get(t);const e=v1(t);return e!==t&&(ca.set(t,e),cc.set(e,t)),e}const ua=t=>cc.get(t);function w1(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=En(o);return s&&o.addEventListener("upgradeneeded",l=>{s(En(o.result),l.oldVersion,l.newVersion,En(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const b1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],ha=new Map;function vh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ha.get(e))return ha.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=E1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||b1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ha.set(e,i),i}m1(t=>({...t,get:(e,n,s)=>vh(e,n)||t.get(e,n,s),has:(e,n)=>!!vh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function I1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tl="@firebase/app",wh="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new lc("@firebase/app"),T1="@firebase/app-compat",x1="@firebase/analytics-compat",C1="@firebase/analytics",S1="@firebase/app-check-compat",A1="@firebase/app-check",k1="@firebase/auth",D1="@firebase/auth-compat",R1="@firebase/database",P1="@firebase/database-compat",N1="@firebase/functions",O1="@firebase/functions-compat",M1="@firebase/installations",L1="@firebase/installations-compat",F1="@firebase/messaging",$1="@firebase/messaging-compat",B1="@firebase/performance",V1="@firebase/performance-compat",U1="@firebase/remote-config",j1="@firebase/remote-config-compat",q1="@firebase/storage",H1="@firebase/storage-compat",z1="@firebase/firestore",K1="@firebase/firestore-compat",W1="firebase",G1="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="[DEFAULT]",Q1={[tl]:"fire-core",[T1]:"fire-core-compat",[C1]:"fire-analytics",[x1]:"fire-analytics-compat",[A1]:"fire-app-check",[S1]:"fire-app-check-compat",[k1]:"fire-auth",[D1]:"fire-auth-compat",[R1]:"fire-rtdb",[P1]:"fire-rtdb-compat",[N1]:"fire-fn",[O1]:"fire-fn-compat",[M1]:"fire-iid",[L1]:"fire-iid-compat",[F1]:"fire-fcm",[$1]:"fire-fcm-compat",[B1]:"fire-perf",[V1]:"fire-perf-compat",[U1]:"fire-rc",[j1]:"fire-rc-compat",[q1]:"fire-gcs",[H1]:"fire-gcs-compat",[z1]:"fire-fst",[K1]:"fire-fst-compat","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Map,sl=new Map;function Y1(t,e){try{t.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sn(t){const e=t.name;if(sl.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;sl.set(e,t);for(const n of Vi.values())Y1(n,t);return!0}function Ur(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_n=new bo("app","Firebase",X1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=G1;function Zd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:nl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw _n.create("bad-app-name",{appName:String(r)});if(n||(n=Gd()),!n)throw _n.create("no-options");const i=Vi.get(r);if(i){if(Bi(n,i.options)&&Bi(s,i.config))return i;throw _n.create("duplicate-app",{appName:r})}const o=new o1(r);for(const l of sl.values())o.addComponent(l);const a=new J1(n,s,o);return Vi.set(r,a),a}function ep(t=nl){const e=Vi.get(t);if(!e&&t===nl&&Gd())return Zd();if(!e)throw _n.create("no-app",{appName:t});return e}function Kt(t,e,n){var s;let r=(s=Q1[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(a.join(" "));return}Sn(new nn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firebase-heartbeat-database",tb=1,Sr="firebase-heartbeat-store";let fa=null;function tp(){return fa||(fa=w1(eb,tb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sr)}}}).catch(t=>{throw _n.create("idb-open",{originalErrorMessage:t.message})})),fa}async function nb(t){try{return await(await tp()).transaction(Sr).objectStore(Sr).get(np(t))}catch(e){if(e instanceof Rn)es.warn(e.message);else{const n=_n.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});es.warn(n.message)}}}async function bh(t,e){try{const s=(await tp()).transaction(Sr,"readwrite");await s.objectStore(Sr).put(e,np(t)),await s.done}catch(n){if(n instanceof Rn)es.warn(n.message);else{const s=_n.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(s.message)}}}function np(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,rb=30*24*60*60*1e3;class ib{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ab(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Eh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=rb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Eh(),{heartbeatsToSend:n,unsentEntries:s}=ob(this._heartbeatsCache.heartbeats),r=$i(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Eh(){return new Date().toISOString().substring(0,10)}function ob(t,e=sb){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),_h(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_h(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ab{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qd()?Yd().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await nb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return bh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return bh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _h(t){return $i(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){Sn(new nn("platform-logger",e=>new _1(e),"PRIVATE")),Sn(new nn("heartbeat",e=>new ib(e),"PRIVATE")),Kt(tl,wh,t),Kt(tl,wh,"esm2017"),Kt("fire-js","")}lb("");var cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,uc=uc||{},Q=cb||self;function Ui(){}function Eo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ub(t){return Object.prototype.hasOwnProperty.call(t,da)&&t[da]||(t[da]=++hb)}var da="closure_uid_"+(1e9*Math.random()>>>0),hb=0;function fb(t,e,n){return t.call.apply(t.bind,arguments)}function db(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=fb:lt=db,lt.apply(null,arguments)}function ci(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Pn(){this.s=this.s,this.o=this.o}var pb=0;Pn.prototype.s=!1;Pn.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),pb!=0)&&ub(this)};Pn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Ih(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Eo(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var gb=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",Ui,e),Q.removeEventListener("test",Ui,e)}catch{}return t}();function ji(t){return/^[\s\xa0]*$/.test(t)}var Th=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function pa(t,e){return t<e?-1:t>e?1:0}function _o(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Ht(t){return _o().indexOf(t)!=-1}function fc(t){return fc[" "](t),t}fc[" "]=Ui;function rp(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var mb=Ht("Opera"),Ps=Ht("Trident")||Ht("MSIE"),ip=Ht("Edge"),rl=ip||Ps,op=Ht("Gecko")&&!(_o().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),yb=_o().toLowerCase().indexOf("webkit")!=-1&&!Ht("Edge");function ap(){var t=Q.document;return t?t.documentMode:void 0}var qi;e:{var ga="",ma=function(){var t=_o();if(op)return/rv:([^\);]+)(\)|;)/.exec(t);if(ip)return/Edge\/([\d\.]+)/.exec(t);if(Ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yb)return/WebKit\/(\S+)/.exec(t);if(mb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ma&&(ga=ma?ma[1]:""),Ps){var ya=ap();if(ya!=null&&ya>parseFloat(ga)){qi=String(ya);break e}}qi=ga}var vb={};function wb(){return rp(vb,9,function(){let t=0;const e=Th(String(qi)).split("."),n=Th("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=pa(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||pa(r[2].length==0,i[2].length==0)||pa(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var il;if(Q.document&&Ps){var xh=ap();il=xh||parseInt(qi,10)||void 0}else il=void 0;var bb=il;function Ar(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(op){e:{try{fc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Eb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ar.$.h.call(this)}}Ke(Ar,ct);var Eb={2:"touch",3:"pen",4:"mouse"};Ar.prototype.h=function(){Ar.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qr="closure_listenable_"+(1e6*Math.random()|0),_b=0;function Ib(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++_b,this.fa=this.ia=!1}function Io(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dc(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function lp(t){const e={};for(const n in t)e[n]=t[n];return e}const Ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cp(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Ch.length;i++)n=Ch[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function To(t){this.src=t,this.g={},this.h=0}To.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=al(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Ib(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function ol(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=sp(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Io(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function al(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var pc="closure_lm_"+(1e6*Math.random()|0),va={};function up(t,e,n,s,r){if(s&&s.once)return fp(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)up(t,e[i],n,s,r);return null}return n=yc(n),t&&t[qr]?t.O(e,n,jr(s)?!!s.capture:!!s,r):hp(t,e,n,!1,s,r)}function hp(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=jr(r)?!!r.capture:!!r,a=mc(t);if(a||(t[pc]=a=new To(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=Tb(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)gb||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(pp(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Tb(){function t(n){return e.call(t.src,t.listener,n)}const e=xb;return t}function fp(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)fp(t,e[i],n,s,r);return null}return n=yc(n),t&&t[qr]?t.P(e,n,jr(s)?!!s.capture:!!s,r):hp(t,e,n,!0,s,r)}function dp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)dp(t,e[i],n,s,r);else s=jr(s)?!!s.capture:!!s,n=yc(n),t&&t[qr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=al(i,n,s,r),-1<n&&(Io(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=mc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=al(e,n,s,r)),(n=-1<t?e[t]:null)&&gc(n))}function gc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[qr])ol(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(pp(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=mc(e))?(ol(n,t),n.h==0&&(n.src=null,e[pc]=null)):Io(t)}}}function pp(t){return t in va?va[t]:va[t]="on"+t}function xb(t,e){if(t.fa)t=!0;else{e=new Ar(e,this);var n=t.listener,s=t.la||t.src;t.ia&&gc(t),t=n.call(s,e)}return t}function mc(t){return t=t[pc],t instanceof To?t:null}var wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function yc(t){return typeof t=="function"?t:(t[wa]||(t[wa]=function(e){return t.handleEvent(e)}),t[wa])}function ze(){Pn.call(this),this.i=new To(this),this.S=this,this.J=null}Ke(ze,Pn);ze.prototype[qr]=!0;ze.prototype.removeEventListener=function(t,e,n,s){dp(this,t,e,n,s)};function Xe(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var r=e;e=new ct(s,t),cp(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ui(o,s,!0,e)&&r}if(o=e.g=t,r=ui(o,s,!0,e)&&r,r=ui(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ui(o,s,!1,e)&&r}ze.prototype.N=function(){if(ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Io(n[s]);delete t.g[e],t.h--}}this.J=null};ze.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};ze.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ui(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ol(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var vc=Q.JSON.stringify;function Cb(){var t=yp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Sb{constructor(){this.h=this.g=null}add(e,n){const s=gp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var gp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ab,t=>t.reset());class Ab{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function kb(t){Q.setTimeout(()=>{throw t},0)}function mp(t,e){ll||Db(),cl||(ll(),cl=!0),yp.add(t,e)}var ll;function Db(){var t=Q.Promise.resolve(void 0);ll=function(){t.then(Rb)}}var cl=!1,yp=new Sb;function Rb(){for(var t;t=Cb();){try{t.h.call(t.g)}catch(n){kb(n)}var e=gp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cl=!1}function xo(t,e){ze.call(this),this.h=t||1,this.g=e||Q,this.j=lt(this.qb,this),this.l=Date.now()}Ke(xo,ze);M=xo.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xe(this,"tick"),this.ga&&(wc(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){xo.$.N.call(this),wc(this),delete this.g};function bc(t,e,n){if(typeof t=="function")n&&(t=lt(t,n));else if(t&&typeof t.handleEvent=="function")t=lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function vp(t){t.g=bc(()=>{t.g=null,t.i&&(t.i=!1,vp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Pb extends Pn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vp(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(t){Pn.call(this),this.h=t,this.g={}}Ke(kr,Pn);var Sh=[];function wp(t,e,n,s){Array.isArray(n)||(n&&(Sh[0]=n.toString()),n=Sh);for(var r=0;r<n.length;r++){var i=up(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function bp(t){dc(t.g,function(e,n){this.g.hasOwnProperty(n)&&gc(e)},t),t.g={}}kr.prototype.N=function(){kr.$.N.call(this),bp(this)};kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Co(){this.g=!0}Co.prototype.Ea=function(){this.g=!1};function Nb(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function Ob(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function vs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Lb(t,n)+(s?" "+s:"")})}function Mb(t,e){t.info(function(){return"TIMEOUT: "+e})}Co.prototype.info=function(){};function Lb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return vc(n)}catch{return e}}var os={},Ah=null;function So(){return Ah=Ah||new ze}os.Ta="serverreachability";function Ep(t){ct.call(this,os.Ta,t)}Ke(Ep,ct);function Dr(t){const e=So();Xe(e,new Ep(e))}os.STAT_EVENT="statevent";function _p(t,e){ct.call(this,os.STAT_EVENT,t),this.stat=e}Ke(_p,ct);function dt(t){const e=So();Xe(e,new _p(e,t))}os.Ua="timingevent";function Ip(t,e){ct.call(this,os.Ua,t),this.size=e}Ke(Ip,ct);function Hr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var Ao={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ec(){}Ec.prototype.h=null;function kh(t){return t.h||(t.h=t.i())}function xp(){}var zr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _c(){ct.call(this,"d")}Ke(_c,ct);function Ic(){ct.call(this,"c")}Ke(Ic,ct);var ul;function ko(){}Ke(ko,Ec);ko.prototype.g=function(){return new XMLHttpRequest};ko.prototype.i=function(){return{}};ul=new ko;function Kr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new kr(this),this.P=Fb,t=rl?125:void 0,this.V=new xo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Cp}function Cp(){this.i=null,this.g="",this.h=!1}var Fb=45e3,hl={},Hi={};M=Kr.prototype;M.setTimeout=function(t){this.P=t};function fl(t,e,n){t.L=1,t.v=Ro(sn(e)),t.s=n,t.S=!0,Sp(t,null)}function Sp(t,e){t.G=Date.now(),Wr(t),t.A=sn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),Mp(n.i,"t",s),t.C=0,n=t.l.I,t.h=new Cp,t.g=ng(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Pb(lt(t.Pa,t,t.g),t.O)),wp(t.U,t.g,"readystatechange",t.nb),e=t.I?lp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Dr(),Nb(t.j,t.u,t.A,t.m,t.W,t.s)}M.nb=function(t){t=t.target;const e=this.M;e&&Jt(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const u=Jt(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||rl||this.g&&(this.h.h||this.g.ja()||Nh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Dr(3):Dr(2)),Do(this);var n=this.g.da();this.aa=n;t:if(Ap(this)){var s=Nh(this.g);t="";var r=s.length,i=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),dr(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Ob(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ji(a)){var c=a;break t}}c=null}if(n=c)vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dl(this,n);else{this.i=!1,this.o=3,dt(12),qn(this),dr(this);break e}}this.S?(kp(this,u,o),rl&&this.i&&u==3&&(wp(this.U,this.V,"tick",this.mb),this.V.start())):(vs(this.j,this.m,o,null),dl(this,o)),u==4&&qn(this),this.i&&!this.J&&(u==4?Jp(this.l,this):(this.i=!1,Wr(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,dt(12)):(this.o=0,dt(13)),qn(this),dr(this)}}}catch{}finally{}};function Ap(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function kp(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=$b(t,n),r==Hi){e==4&&(t.o=4,dt(14),s=!1),vs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==hl){t.o=4,dt(15),vs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else vs(t.j,t.m,r,null),dl(t,r);Ap(t)&&r!=Hi&&r!=hl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,dt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dc(e),e.L=!0,dt(11))):(vs(t.j,t.m,n,"[Invalid Chunked Response]"),qn(t),dr(t))}M.mb=function(){if(this.g){var t=Jt(this.g),e=this.g.ja();this.C<e.length&&(Do(this),kp(this,t,e),this.i&&t!=4&&Wr(this))}};function $b(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Hi:(n=Number(e.substring(n,s)),isNaN(n)?hl:(s+=1,s+n>e.length?Hi:(e=e.substr(s,n),t.C=s+n,e)))}M.cancel=function(){this.J=!0,qn(this)};function Wr(t){t.Y=Date.now()+t.P,Dp(t,t.P)}function Dp(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hr(lt(t.lb,t),e)}function Do(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Mb(this.j,this.A),this.L!=2&&(Dr(),dt(17)),qn(this),this.o=2,dr(this)):Dp(this,this.Y-t)};function dr(t){t.l.H==0||t.J||Jp(t.l,t)}function qn(t){Do(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,wc(t.V),bp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function dl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||pl(n.h,t))){if(!t.K&&pl(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wi(n),Oo(n);else break e;kc(n),dt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=Hr(lt(n.ib,n),6e3));if(1>=$p(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Hn(n,11)}else if((t.K||n.g==t)&&Wi(n),!ji(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const u=c[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const h=c[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const m=t.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=s.h;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Tc(i,i.h),i.h=null))}if(s.F){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(s.Da=E,Te(s.G,s.F,E))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=tg(s,s.I?s.oa:null,s.Y),o.K){Bp(s.h,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(Do(a),Wr(a)),s.g=o}else Yp(s);0<n.i.length&&Mo(n)}else c[0]!="stop"&&c[0]!="close"||Hn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Hn(n,7):Ac(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Dr(4)}catch{}}function Bb(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Eo(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function Vb(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Eo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Rp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Eo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Vb(t),s=Bb(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var Pp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ub(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Yn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yn){this.h=e!==void 0?e:t.h,zi(this,t.j),this.s=t.s,this.g=t.g,Ki(this,t.m),this.l=t.l,e=t.i;var n=new Rr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dh(this,n),this.o=t.o}else t&&(n=String(t).match(Pp))?(this.h=!!e,zi(this,n[1]||"",!0),this.s=sr(n[2]||""),this.g=sr(n[3]||"",!0),Ki(this,n[4]),this.l=sr(n[5]||"",!0),Dh(this,n[6]||"",!0),this.o=sr(n[7]||"")):(this.h=!!e,this.i=new Rr(null,this.h))}Yn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rr(e,Rh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rr(e,Rh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rr(n,n.charAt(0)=="/"?Hb:qb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rr(n,Kb)),t.join("")};function sn(t){return new Yn(t)}function zi(t,e,n){t.j=n?sr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ki(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dh(t,e,n){e instanceof Rr?(t.i=e,Wb(t.i,t.h)):(n||(e=rr(e,zb)),t.i=new Rr(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function Ro(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Rh=/[#\/\?@]/g,qb=/[#\?:]/g,Hb=/[#\?]/g,zb=/[#\?@]/g,Kb=/#/g;function Rr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Nn(t){t.g||(t.g=new Map,t.h=0,t.i&&Ub(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Rr.prototype;M.add=function(t,e){Nn(this),this.i=null,t=zs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Np(t,e){Nn(t),e=zs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Op(t,e){return Nn(t),e=zs(t,e),t.g.has(e)}M.forEach=function(t,e){Nn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};M.sa=function(){Nn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};M.Z=function(t){Nn(this);let e=[];if(typeof t=="string")Op(this,t)&&(e=e.concat(this.g.get(zs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return Nn(this),this.i=null,t=zs(this,t),Op(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Mp(t,e,n){Np(t,e),0<n.length&&(t.i=null,t.g.set(zs(t,e),hc(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function zs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Wb(t,e){e&&!t.j&&(Nn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Np(this,s),Mp(this,r,n))},t)),t.j=e}var Gb=class{constructor(t,e){this.h=t,this.g=e}};function Lp(t){this.l=t||Qb,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qb=10;function Fp(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $p(t){return t.h?1:t.g?t.g.size:0}function pl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Tc(t,e){t.g?t.g.add(e):t.h=e}function Bp(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Lp.prototype.cancel=function(){if(this.i=Vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Vp(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return hc(t.i)}function xc(){}xc.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)};xc.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};function Yb(){this.g=new xc}function Xb(t,e,n){const s=n||"";try{Rp(t,function(r,i){let o=r;jr(r)&&(o=vc(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function Jb(t,e){const n=new Co;if(Q.Image){const s=new Image;s.onload=ci(hi,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ci(hi,n,s,"TestLoadImage: error",!1,e),s.onabort=ci(hi,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ci(hi,n,s,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function hi(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Gr(t){this.l=t.fc||null,this.j=t.ob||!1}Ke(Gr,Ec);Gr.prototype.g=function(){return new Po(this.l,this.j)};Gr.prototype.i=function(t){return function(){return t}}({});function Po(t,e){ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Cc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Po,ze);var Cc=0;M=Po.prototype;M.open=function(t,e){if(this.readyState!=Cc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pr(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=Cc};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Up(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Up(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qr(this):Pr(this),this.readyState==3&&Up(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,Qr(this))};M.Ya=function(t){this.g&&(this.response=t,Qr(this))};M.ka=function(){this.g&&Qr(this)};function Qr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pr(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Zb=Q.JSON.parse;function De(t){ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jp,this.L=this.M=!1}Ke(De,ze);var jp="",eE=/^https?$/i,tE=["POST","PUT"];M=De.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ul.g(),this.C=this.u?kh(this.u):kh(ul),this.g.onreadystatechange=lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Ph(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=Q.FormData&&t instanceof Q.FormData,!(0<=sp(tE,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zp(this),0<this.B&&((this.L=nE(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.ua,this)):this.A=bc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Ph(this,i)}};function nE(t){return Ps&&wb()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof uc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function Ph(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qp(t),No(t)}function qp(t){t.F||(t.F=!0,Xe(t,"complete"),Xe(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),No(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),No(this,!0)),De.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?Hp(this):this.kb())};M.kb=function(){Hp(this)};function Hp(t){if(t.h&&typeof uc<"u"&&(!t.C[1]||Jt(t)!=4||t.da()!=2)){if(t.v&&Jt(t)==4)bc(t.La,0,t);else if(Xe(t,"readystatechange"),Jt(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.I).match(Pp)[1]||null;if(!r&&Q.self&&Q.self.location){var i=Q.self.location.protocol;r=i.substr(0,i.length-1)}s=!eE.test(r?r.toLowerCase():"")}n=s}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<Jt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",qp(t)}}finally{No(t)}}}}function No(t,e){if(t.g){zp(t);const n=t.g,s=t.C[0]?Ui:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=s}catch{}}}function zp(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Jt(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Zb(e)}};function Nh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kp(t){let e="";return dc(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Sc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Kp(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Te(t,e,n))}function Zs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wp(t){this.Ga=0,this.i=[],this.j=new Co,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zs("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zs("baseRetryDelayMs",5e3,t),this.hb=Zs("retryDelaySeedMs",1e4,t),this.eb=Zs("forwardChannelMaxRetries",2,t),this.xa=Zs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new Lp(t&&t.concurrentRequestLimit),this.Ja=new Yb,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}M=Wp.prototype;M.qa=8;M.H=1;function Ac(t){if(Gp(t),t.H==3){var e=t.W++,n=sn(t.G);Te(n,"SID",t.J),Te(n,"RID",e),Te(n,"TYPE","terminate"),Yr(t,n),e=new Kr(t,t.j,e,void 0),e.L=2,e.v=Ro(sn(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&(new Image().src=e.v,n=!0),n||(e.g=ng(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wr(e)}eg(t)}function Oo(t){t.g&&(Dc(t),t.g.cancel(),t.g=null)}function Gp(t){Oo(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Wi(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function Mo(t){Fp(t.h)||t.m||(t.m=!0,mp(t.Na,t),t.C=0)}function sE(t,e){return $p(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hr(lt(t.Na,t,e),Zp(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Kr(this,this.j,t,void 0);let i=this.s;if(this.U&&(i?(i=lp(i),cp(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Qp(this,r,e),n=sn(this.G),Te(n,"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),Yr(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Kp(i)))+"&"+e:this.o&&Sc(n,this.o,i)),Tc(this.h,r),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),r.ba=!0,fl(r,n,null)):fl(r,n,e),this.H=2}}else this.H==3&&(t?Oh(this,t):this.i.length==0||Fp(this.h)||Oh(this))};function Oh(t,e){var n;e?n=e.m:n=t.W++;const s=sn(t.G);Te(s,"SID",t.J),Te(s,"RID",n),Te(s,"AID",t.V),Yr(t,s),t.o&&t.s&&Sc(s,t.o,t.s),n=new Kr(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=Qp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Tc(t.h,n),fl(n,s,e)}function Yr(t,e){t.ma&&dc(t.ma,function(n,s){Te(e,s,n)}),t.l&&Rp({},function(n,s){Te(e,s,n)})}function Qp(t,e,n){n=Math.min(t.i.length,n);var s=t.l?lt(t.l.Va,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{Xb(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function Yp(t){t.g||t.u||(t.ba=1,mp(t.Ma,t),t.A=0)}function kc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hr(lt(t.Ma,t),Zp(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,Xp(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Hr(lt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,dt(10),Oo(this),Xp(this))};function Dc(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function Xp(t){t.g=new Kr(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sn(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.J),Te(e,"CI",t.M?"0":"1"),Te(e,"AID",t.V),Te(e,"TYPE","xmlhttp"),Yr(t,e),t.o&&t.s&&Sc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Ro(sn(e)),n.s=null,n.S=!0,Sp(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Oo(this),kc(this),dt(19))};function Wi(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function Jp(t,e){var n=null;if(t.g==e){Wi(t),Dc(t),t.g=null;var s=2}else if(pl(t.h,e))n=e.F,Bp(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=So(),Xe(s,new Ip(s,n)),Mo(t)}else Yp(t);else if(r=e.o,r==3||r==0&&0<t.ta||!(s==1&&sE(t,e)||s==2&&kc(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Hn(t,5);break;case 4:Hn(t,10);break;case 3:Hn(t,6);break;default:Hn(t,2)}}}function Zp(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Hn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=lt(t.pb,t);n||(n=new Yn("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||zi(n,"https"),Ro(n)),Jb(n.toString(),s)}else dt(2);t.H=0,t.l&&t.l.za(e),eg(t),Gp(t)}M.pb=function(t){t?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function eg(t){if(t.H=0,t.pa=[],t.l){const e=Vp(t.h);(e.length!=0||t.i.length!=0)&&(Ih(t.pa,e),Ih(t.pa,t.i),t.h.i.length=0,hc(t.i),t.i.length=0),t.l.ya()}}function tg(t,e,n){var s=n instanceof Yn?sn(n):new Yn(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),Ki(s,s.m);else{var r=Q.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new Yn(null,void 0);s&&zi(i,s),e&&(i.g=e),r&&Ki(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Te(s,n,e),Te(s,"VER",t.qa),Yr(t,s),s}function ng(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new De(new Gr({ob:!0})):new De(t.va),e.Oa(t.I),e}function sg(){}M=sg.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.Va=function(){};function Gi(){if(Ps&&!(10<=Number(bb)))throw Error("Environmental error: no available transport.")}Gi.prototype.g=function(t,e){return new _t(t,e)};function _t(t,e){ze.call(this),this.g=new Wp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ji(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ji(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ks(this)}Ke(_t,ze);_t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;dt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=tg(t,null,t.Y),Mo(t)};_t.prototype.close=function(){Ac(this.g)};_t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=vc(t),t=n);e.i.push(new Gb(e.fb++,t)),e.H==3&&Mo(e)};_t.prototype.N=function(){this.g.l=null,delete this.j,Ac(this.g),delete this.g,_t.$.N.call(this)};function rg(t){_c.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(rg,_c);function ig(){Ic.call(this),this.status=1}Ke(ig,Ic);function Ks(t){this.g=t}Ke(Ks,sg);Ks.prototype.Ba=function(){Xe(this.g,"a")};Ks.prototype.Aa=function(t){Xe(this.g,new rg(t))};Ks.prototype.za=function(t){Xe(this.g,new ig)};Ks.prototype.ya=function(){Xe(this.g,"b")};function rE(){this.blockSize=-1}function $t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke($t,rE);$t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ba(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}$t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)ba(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){ba(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){ba(this,s),r=0;break}}this.h=r,this.i+=e};$t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function me(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var iE={};function Rc(t){return-128<=t&&128>t?rp(iE,t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function zt(t){if(isNaN(t)||!isFinite(t))return Is;if(0>t)return Ye(zt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=gl;return new me(e,0)}function og(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ye(og(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zt(Math.pow(e,8)),s=Is,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=zt(Math.pow(e,i)),s=s.R(i).add(zt(o))):(s=s.R(n),s=s.add(zt(o)))}return s}var gl=4294967296,Is=Rc(0),ml=Rc(1),Mh=Rc(16777216);M=me.prototype;M.ea=function(){if(xt(this))return-Ye(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:gl+s)*e,e*=gl}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zt(this))return"0";if(xt(this))return"-"+Ye(this).toString(t);for(var e=zt(Math.pow(t,6)),n=this,s="";;){var r=Yi(n,e).g;n=Qi(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Zt(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function xt(t){return t.h==-1}M.X=function(t){return t=Qi(this,t),xt(t)?-1:Zt(t)?0:1};function Ye(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new me(n,~t.h).add(ml)}M.abs=function(){return xt(this)?Ye(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new me(n,n[n.length-1]&-2147483648?-1:0)};function Qi(t,e){return t.add(Ye(e))}M.R=function(t){if(Zt(this)||Zt(t))return Is;if(xt(this))return xt(t)?Ye(this).R(Ye(t)):Ye(Ye(this).R(t));if(xt(t))return Ye(this.R(Ye(t)));if(0>this.X(Mh)&&0>t.X(Mh))return zt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*s+2*r]+=o*l,fi(n,2*s+2*r),n[2*s+2*r+1]+=i*l,fi(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,fi(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,fi(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new me(n,0)};function fi(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function er(t,e){this.g=t,this.h=e}function Yi(t,e){if(Zt(e))throw Error("division by zero");if(Zt(t))return new er(Is,Is);if(xt(t))return e=Yi(Ye(t),e),new er(Ye(e.g),Ye(e.h));if(xt(e))return e=Yi(t,Ye(e)),new er(Ye(e.g),e.h);if(30<t.g.length){if(xt(t)||xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ml,s=e;0>=s.X(t);)n=Lh(n),s=Lh(s);var r=hs(n,1),i=hs(s,1);for(s=hs(s,2),n=hs(n,2);!Zt(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=hs(s,1),n=hs(n,1)}return e=Qi(t,r.R(e)),new er(r,e)}for(r=Is;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=zt(n),o=i.R(e);xt(o)||0<o.X(t);)n-=s,i=zt(n),o=i.R(e);Zt(i)&&(i=ml),r=r.add(i),t=Qi(t,o)}return new er(r,t)}M.gb=function(t){return Yi(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new me(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new me(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new me(n,this.h^t.h)};function Lh(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new me(n,t.h)}function hs(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new me(r,t.h)}Gi.prototype.createWebChannel=Gi.prototype.g;_t.prototype.send=_t.prototype.u;_t.prototype.open=_t.prototype.m;_t.prototype.close=_t.prototype.close;Ao.NO_ERROR=0;Ao.TIMEOUT=8;Ao.HTTP_ERROR=6;Tp.COMPLETE="complete";xp.EventType=zr;zr.OPEN="a";zr.CLOSE="b";zr.ERROR="c";zr.MESSAGE="d";ze.prototype.listen=ze.prototype.O;De.prototype.listenOnce=De.prototype.P;De.prototype.getLastError=De.prototype.Sa;De.prototype.getLastErrorCode=De.prototype.Ia;De.prototype.getStatus=De.prototype.da;De.prototype.getResponseJson=De.prototype.Wa;De.prototype.getResponseText=De.prototype.ja;De.prototype.send=De.prototype.ha;De.prototype.setWithCredentials=De.prototype.Oa;$t.prototype.digest=$t.prototype.l;$t.prototype.reset=$t.prototype.reset;$t.prototype.update=$t.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=zt;me.fromString=og;var oE=function(){return new Gi},aE=function(){return So()},Ea=Ao,lE=Tp,cE=os,Fh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uE=Gr,di=xp,hE=De,fE=$t,Ts=me;const $h="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new lc("@firebase/firestore");function Bh(){return ts.logLevel}function B(t,...e){if(ts.logLevel<=de.DEBUG){const n=e.map(Pc);ts.debug(`Firestore (${Ws}): ${t}`,...n)}}function rn(t,...e){if(ts.logLevel<=de.ERROR){const n=e.map(Pc);ts.error(`Firestore (${Ws}): ${t}`,...n)}}function Ns(t,...e){if(ts.logLevel<=de.WARN){const n=e.map(Pc);ts.warn(`Firestore (${Ws}): ${t}`,...n)}}function Pc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+t;throw rn(e),new Error(e)}function _e(t,e){t||W()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}}class pE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gE{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string"),new ag(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new tt(e)}}class mE{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yE{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new mE(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wE{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.T=n.token,new vE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=bE(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ue(t,e){return t<e?-1:t>e?1:0}function Os(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ue(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Ue(0,0))}static max(){return new X(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&W(),s===void 0?s=e.length-n:s>e.length-n&&W(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends Nr{construct(e,n,s){return new xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(T.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const EE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Nr{construct(e,n,s){return new at(e,n,s)}static isValidIdentifier(e){return EE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new H(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new H(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(xe.fromString(e))}static fromName(e){return new z(xe.fromString(e).popFirst(5))}static empty(){return new z(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new xe(e.slice()))}}function _E(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=X.fromTimestamp(s===1e9?new Ue(n+1,0):new Ue(n,s));return new An(r,z.empty(),e)}function IE(t){return new An(t.readTime,t.key,-1)}class An{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new An(X.min(),z.empty(),-1)}static max(){return new An(X.max(),z.empty(),-1)}}function TE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==xE)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,s)=>{n(e)})}static reject(e){return new S((n,s)=>{s(e)})}static waitFor(e){return new S((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=S.resolve(!1);for(const s of e)n=n.next(r=>r?S.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new S((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new S((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Jr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Nc.ct=-1;function Lo(t){return t==null}function Xi(t){return t===0&&1/t==-1/0}function SE(t){return typeof t=="number"&&Number.isInteger(t)&&!Xi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pi(this.root,e,this.comparator,!1)}getReverseIterator(){return new pi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pi(this.root,e,this.comparator,!0)}}class pi{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Qe.RED,this.left=r!=null?r:Qe.EMPTY,this.right=i!=null?i:Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Qe(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Qe.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class Uh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new wt([])}unionWith(e){let n=new ut(at.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new ug("Invalid base64 string: "+r):r}}(e);return new ht(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const AE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(t){if(_e(!!t),typeof t=="string"){let e=0;const n=AE.exec(t);if(_e(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mc(t){const e=t.mapValue.fields.__previous_value__;return Oc(e)?Mc(e):e}function Or(t){const e=kn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,s,r,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Mr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oc(t)?4:DE(t)?9007199254740991:10:W()}function Gt(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Or(t).isEqual(Or(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=kn(s.timestampValue),o=kn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ns(s.bytesValue).isEqual(ns(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Be(s.geoPointValue.latitude)===Be(r.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Be(s.integerValue)===Be(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Be(s.doubleValue),o=Be(r.doubleValue);return i===o?Xi(i)===Xi(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],Gt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Vh(i)!==Vh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Gt(i[a],o[a])))return!1;return!0}(t,e);default:return W()}}function Lr(t,e){return(t.values||[]).find(n=>Gt(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=ss(t),s=ss(e);if(n!==s)return ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Be(r.integerValue||r.doubleValue),a=Be(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return jh(t.timestampValue,e.timestampValue);case 4:return jh(Or(t),Or(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(r,i){const o=ns(r),a=ns(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ue(o[l],a[l]);if(c!==0)return c}return ue(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ue(Be(r.latitude),Be(i.latitude));return o!==0?o:ue(Be(r.longitude),Be(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Ms(o[l],a[l]);if(c)return c}return ue(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===gi.mapValue&&i===gi.mapValue)return 0;if(r===gi.mapValue)return 1;if(i===gi.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=ue(a[u],c[u]);if(h!==0)return h;const f=Ms(o[a[u]],l[c[u]]);if(f!==0)return f}return ue(a.length,c.length)}(t.mapValue,e.mapValue);default:throw W()}}function jh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=kn(t),s=kn(e),r=ue(n.seconds,s.seconds);return r!==0?r:ue(n.nanos,s.nanos)}function Ls(t){return yl(t)}function yl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=kn(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ns(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=yl(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${yl(s.fields[a])}`;return i+"}"}(t.mapValue):W();var e,n}function vl(t){return!!t&&"integerValue"in t}function Lc(t){return!!t&&"arrayValue"in t}function qh(t){return!!t&&"nullValue"in t}function Hh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Si(t){return!!t&&"mapValue"in t}function pr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=pr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.value=e}static empty(){return new gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Si(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pr(n)}setAll(e){let n=at.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=pr(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Si(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Si(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){as(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new gt(pr(this.value))}}function hg(t){const e=[];return as(t.fields,(n,s)=>{const r=new at([n]);if(Si(s)){const i=hg(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new wt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,X.min(),X.min(),X.min(),gt.empty(),0)}static newFoundDocument(e,n,s,r){return new st(e,1,n,X.min(),s,r,0)}static newNoDocument(e,n){return new st(e,2,n,X.min(),X.min(),gt.empty(),0)}static newUnknownDocument(e,n){return new st(e,3,n,X.min(),X.min(),gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.position=e,this.inclusive=n}}function zh(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=z.comparator(z.fromName(o.referenceValue),n.key):s=Ms(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n="asc"){this.field=e,this.dir=n}}function RE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{}class Ve extends fg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new NE(e,n,s):n==="array-contains"?new LE(e,s):n==="in"?new FE(e,s):n==="not-in"?new $E(e,s):n==="array-contains-any"?new BE(e,s):new Ve(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OE(e,s):new ME(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qt extends fg{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Qt(e,n)}matches(e){return dg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function dg(t){return t.op==="and"}function pg(t){return PE(t)&&dg(t)}function PE(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function wl(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Ls(t.value);if(pg(t))return t.filters.map(e=>wl(e)).join(",");{const e=t.filters.map(n=>wl(n)).join(",");return`${t.op}(${e})`}}function gg(t,e){return t instanceof Ve?function(n,s){return s instanceof Ve&&n.op===s.op&&n.field.isEqual(s.field)&&Gt(n.value,s.value)}(t,e):t instanceof Qt?function(n,s){return s instanceof Qt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&gg(i,s.filters[o]),!0):!1}(t,e):void W()}function mg(t){return t instanceof Ve?function(e){return`${e.field.canonicalString()} ${e.op} ${Ls(e.value)}`}(t):t instanceof Qt?function(e){return e.op.toString()+" {"+e.getFilters().map(mg).join(" ,")+"}"}(t):"Filter"}class NE extends Ve{constructor(e,n,s){super(e,n,s),this.key=z.fromName(s.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class OE extends Ve{constructor(e,n){super(e,"in",n),this.keys=yg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ME extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=yg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>z.fromName(s.referenceValue))}class LE extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lc(n)&&Lr(n.arrayValue,this.value)}}class FE extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lr(this.value.arrayValue,n)}}class $E extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lr(this.value.arrayValue,n)}}class BE extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Lr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Wh(t,e=null,n=[],s=[],r=null,i=null,o=null){return new VE(t,e,n,s,r,i,o)}function Fc(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>wl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Lo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ls(s)).join(",")),e.dt=n}return e.dt}function $c(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kh(t.startAt,e.startAt)&&Kh(t.endAt,e.endAt)}function bl(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function UE(t,e,n,s,r,i,o,a){return new Fo(t,e,n,s,r,i,o,a)}function Bc(t){return new Fo(t)}function Gh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qE(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function HE(t){return t.collectionGroup!==null}function xs(t){const e=J(t);if(e.wt===null){e.wt=[];const n=qE(e),s=jE(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new gr(n)),e.wt.push(new gr(at.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gr(at.keyField(),i))}}}return e.wt}function on(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=Wh(e.path,e.collectionGroup,xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of xs(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new gr(i.field,o))}const s=e.endAt?new Ji(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ji(e.startAt.position,e.startAt.inclusive):null;e._t=Wh(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function El(t,e,n){return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $o(t,e){return $c(on(t),on(e))&&t.limitType===e.limitType}function vg(t){return`${Fc(on(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>mg(s)).join(", ")}]`),Lo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ls(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ls(s)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Bo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of xs(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=zh(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,xs(n),s)||n.endAt&&!function(r,i,o){const a=zh(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,xs(n),s))}(t,e)}function zE(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wg(t){return(e,n)=>{let s=!1;for(const r of xs(t)){const i=KE(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function KE(t,e,n){const s=t.field.isKeyField()?z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Ms(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return cg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Ae(z.comparator);function an(){return WE}const bg=new Ae(z.comparator);function ir(...t){let e=bg;for(const n of t)e=e.insert(n.key,n);return e}function Eg(t){let e=bg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zn(){return mr()}function _g(){return mr()}function mr(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const GE=new Ae(z.comparator),QE=new ut(z.comparator);function se(...t){let e=QE;for(const n of t)e=e.add(n);return e}const YE=new ut(ue);function XE(){return YE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xi(e)?"-0":e}}function Tg(t){return{integerValue:""+t}}function JE(t,e){return SE(e)?Tg(e):Ig(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this._=void 0}}function ZE(t,e,n){return t instanceof Zi?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Oc(r)&&(r=Mc(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Fr?Cg(t,e):t instanceof $r?Sg(t,e):function(s,r){const i=xg(s,r),o=Qh(i)+Qh(s.gt);return vl(i)&&vl(s.gt)?Tg(o):Ig(s.serializer,o)}(t,e)}function e_(t,e,n){return t instanceof Fr?Cg(t,e):t instanceof $r?Sg(t,e):n}function xg(t,e){return t instanceof eo?vl(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Zi extends Vo{}class Fr extends Vo{constructor(e){super(),this.elements=e}}function Cg(t,e){const n=Ag(e);for(const s of t.elements)n.some(r=>Gt(r,s))||n.push(s);return{arrayValue:{values:n}}}class $r extends Vo{constructor(e){super(),this.elements=e}}function Sg(t,e){let n=Ag(e);for(const s of t.elements)n=n.filter(r=>!Gt(r,s));return{arrayValue:{values:n}}}class eo extends Vo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Qh(t){return Be(t.integerValue||t.doubleValue)}function Ag(t){return Lc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function t_(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Fr&&s instanceof Fr||n instanceof $r&&s instanceof $r?Os(n.elements,s.elements,Gt):n instanceof eo&&s instanceof eo?Gt(n.gt,s.gt):n instanceof Zi&&s instanceof Zi}(t.transform,e.transform)}class n_{constructor(e,n){this.version=e,this.transformResults=n}}class Mt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ai(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uo{}function kg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vc(t.key,Mt.none()):new Zr(t.key,t.data,Mt.none());{const n=t.data,s=gt.empty();let r=new ut(at.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new On(t.key,s,new wt(r.toArray()),Mt.none())}}function s_(t,e,n){t instanceof Zr?function(s,r,i){const o=s.value.clone(),a=Xh(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof On?function(s,r,i){if(!Ai(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Xh(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Dg(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function yr(t,e,n,s){return t instanceof Zr?function(r,i,o,a){if(!Ai(r.precondition,i))return o;const l=r.value.clone(),c=Jh(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof On?function(r,i,o,a){if(!Ai(r.precondition,i))return o;const l=Jh(r.fieldTransforms,a,i),c=i.data;return c.setAll(Dg(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Ai(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function r_(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=xg(s.transform,r||null);i!=null&&(n===null&&(n=gt.empty()),n.set(s.field,i))}return n||null}function Yh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Os(n,s,(r,i)=>t_(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zr extends Uo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class On extends Uo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Xh(t,e,n){const s=new Map;_e(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,e_(o,a,n[r]))}return s}function Jh(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,ZE(i,o,e))}return s}class Vc extends Uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i_ extends Uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&s_(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=yr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=yr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_g();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=kg(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,s)=>Yh(n,s))&&Os(this.baseMutations,e.baseMutations,(n,s)=>Yh(n,s))}}class Uc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){_e(e.mutations.length===s.length);let r=GE;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Uc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,re;function c_(t){switch(t){default:return W();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Rg(t){if(t===void 0)return rn("GRPC error has no .code"),T.UNKNOWN;switch(t){case Le.OK:return T.OK;case Le.CANCELLED:return T.CANCELLED;case Le.UNKNOWN:return T.UNKNOWN;case Le.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Le.INTERNAL:return T.INTERNAL;case Le.UNAVAILABLE:return T.UNAVAILABLE;case Le.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Le.NOT_FOUND:return T.NOT_FOUND;case Le.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Le.ABORTED:return T.ABORTED;case Le.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Le.DATA_LOSS:return T.DATA_LOSS;default:return W()}}(re=Le||(Le={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mi}static getOrCreateInstance(){return mi===null&&(mi=new jc),mi}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let mi=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Ts([4294967295,4294967295],0);function Zh(t){const e=u_().encode(t),n=new fE;return n.update(e),new Uint8Array(n.digest())}function ef(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ts([n,s],0),new Ts([r,i],0)]}class qc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new or(`Invalid padding: ${n}`);if(s<0)throw new or(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new or(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new or(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ts.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(Ts.fromNumber(s)));return r.compare(h_)===1&&(r=new Ts([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Zh(e),[s,r]=ef(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qc(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Zh(e),[s,r]=ef(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class or extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ei.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jo(X.min(),r,new Ae(ue),an(),se())}}class ei{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ei(s,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class Pg{constructor(e,n){this.targetId=e,this.Vt=n}}class Ng{constructor(e,n,s=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class tf{constructor(){this.St=0,this.Dt=sf(),this.Ct=ht.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),s=se();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:W()}}),new ei(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=sf()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class f_{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=an(),this.zt=nf(),this.Wt=new Ae(ue)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(bl(o))if(r===0){const a=new z(o.path);this.Yt(s,a,st.newNoDocument(a,X.min()))}else _e(r===1);else{const a=this.ie(s);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=jc.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,m,w,E,x,N;const k={localCacheCount:u,existenceFilterCount:h.count},V=h.unchangedNames;return V&&(k.bloomFilter={applied:c===0,hashCount:(f=V==null?void 0:V.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(E=(w=(m=V==null?void 0:V.bits)===null||m===void 0?void 0:m.bitmap)===null||w===void 0?void 0:w.length)!==null&&E!==void 0?E:0,padding:(N=(x=V==null?void 0:V.bits)===null||x===void 0?void 0:x.padding)!==null&&N!==void 0?N:0}),k}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=ns(i).toUint8Array()}catch(u){if(u instanceof ug)return Ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new qc(l,o,a)}catch(u){return Ns(u instanceof or?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&bl(a.target)){const l=new z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,st.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=se();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new jo(e,n,this.Wt,this.jt,s);return this.jt=an(),this.zt=nf(),this.Wt=new Ae(ue),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new tf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ut(ue),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new tf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function nf(){return new Ae(z.comparator)}function sf(){return new Ae(z.comparator)}const d_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),p_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g_=(()=>({and:"AND",or:"OR"}))();class m_{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Il(t,e){return t.useProto3Json||Lo(e)?e:{value:e}}function to(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Og(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y_(t,e){return to(t,e.toTimestamp())}function Wt(t){return _e(!!t),X.fromTimestamp(function(e){const n=kn(e);return new Ue(n.seconds,n.nanos)}(t))}function Hc(t,e){return function(n){return new xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Mg(t){const e=xe.fromString(t);return _e(Bg(e)),e}function Tl(t,e){return Hc(t.databaseId,e.path)}function _a(t,e){const n=Mg(e);if(n.get(1)!==t.databaseId.projectId)throw new H(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(Lg(n))}function xl(t,e){return Hc(t.databaseId,e)}function v_(t){const e=Mg(t);return e.length===4?xe.emptyPath():Lg(e)}function Cl(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lg(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rf(t,e,n){return{name:Tl(t,e),fields:n.value.mapValue.fields}}function w_(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(_e(c===void 0||typeof c=="string"),ht.fromBase64String(c||"")):(_e(c===void 0||c instanceof Uint8Array),ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?T.UNKNOWN:Rg(l.code);return new H(c,l.message||"")}(o);n=new Ng(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=_a(t,s.document.name),i=Wt(s.document.updateTime),o=s.document.createTime?Wt(s.document.createTime):X.min(),a=new gt({mapValue:{fields:s.document.fields}}),l=st.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new ki(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=_a(t,s.document),i=s.readTime?Wt(s.readTime):X.min(),o=st.newNoDocument(r,i),a=s.removedTargetIds||[];n=new ki([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=_a(t,s.document),i=s.removedTargetIds||[];n=new ki([],i,r,null)}else{if(!("filter"in e))return W();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new l_(r,i),a=s.targetId;n=new Pg(a,o)}}return n}function b_(t,e){let n;if(e instanceof Zr)n={update:rf(t,e.key,e.value)};else if(e instanceof Vc)n={delete:Tl(t,e.key)};else if(e instanceof On)n={update:rf(t,e.key,e.data),updateMask:k_(e.fieldMask)};else{if(!(e instanceof i_))return W();n={verify:Tl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Zi)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $r)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eo)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw W()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:y_(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W()}(t,e.precondition)),n}function E_(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Wt(s.updateTime):Wt(r);return i.isEqual(X.min())&&(i=Wt(r)),new n_(i,s.transformResults||[])}(n,e))):[]}function __(t,e){return{documents:[xl(t,e.path)]}}function I_(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=xl(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xl(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return $g(Qt.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:ms(u.field),direction:C_(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Il(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function T_(t){let e=v_(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){_e(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=Fg(u);return h instanceof Qt&&pg(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new gr(ys(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Lo(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Ji(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Ji(f,h)}(n.endAt)),UE(e,r,o,i,a,"F",l,c)}function x_(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fg(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ys(e.unaryFilter.field);return Ve.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=ys(e.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ys(e.unaryFilter.field);return Ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ys(e.unaryFilter.field);return Ve.create(i,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return Ve.create(ys(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Qt.create(e.compositeFilter.filters.map(n=>Fg(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function C_(t){return d_[t]}function S_(t){return p_[t]}function A_(t){return g_[t]}function ms(t){return{fieldPath:t.canonicalString()}}function ys(t){return at.fromServerFormat(t.fieldPath)}function $g(t){return t instanceof Ve?function(e){if(e.op==="=="){if(Hh(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NAN"}};if(qh(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Hh(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NAN"}};if(qh(e.value))return{unaryFilter:{field:ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(e.field),op:S_(e.op),value:e.value}}}(t):t instanceof Qt?function(e){const n=e.getFilters().map(s=>$g(s));return n.length===1?n[0]:{compositeFilter:{op:A_(e.op),filters:n}}}(t):W()}function k_(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Bg(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,s,r,i=X.min(),o=X.min(),a=ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.fe=e}}function R_(t){const e=T_({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?El(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.rn=new N_}addToCollectionParentIndex(e,n){return this.rn.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(An.min())}updateCollectionGroup(e,n,s){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class N_{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ut(xe.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ut(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fs(0)}static Mn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?S.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&yr(s.mutation,r,wt.empty(),Ue.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,se()).next(()=>s))}getLocalViewOfDocuments(e,n,s=se()){const r=zn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=ir();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=zn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,se()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=an();const o=mr(),a=mr();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof On)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),yr(u.mutation,c,u.mutation.getFieldMask(),Ue.now())):o.set(c.key,wt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new M_(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=mr();let r=new Ae((o,a)=>o-a),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||wt.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||se()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=_g();u.forEach(f=>{if(!i.has(f)){const m=kg(n.get(f),s.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return S.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):S.resolve(zn());let a=-1,l=i;return o.next(c=>S.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?S.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,se())).next(u=>({batchId:a,changes:Eg(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(s=>{let r=ir();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=ir();return this.indexManager.getCollectionParents(e,r).next(o=>S.forEach(o,a=>{const l=function(c,u){return new Fo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,st.newInvalidDocument(c)))});let o=ir();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&yr(c.mutation,l,wt.empty(),Ue.now()),Bo(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return S.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Wt(s.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:R_(s.bundledQuery),readTime:Wt(s.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.overlays=new Ae(z.comparator),this.ls=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zn();return S.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),S.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),S.resolve()}getOverlaysForCollection(e,n,s){const r=zn(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ae((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=zn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=zn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new a_(n,s));let i=this.ls.get(n);i===void 0&&(i=se(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(){this.fs=new ut(qe.ds),this.ws=new ut(qe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new qe(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new qe(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new z(new xe([])),s=new qe(n,e),r=new qe(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new z(new xe([])),s=new qe(n,e),r=new qe(n,e+1);let i=se();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qe(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qe{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return z.comparator(e.key,n.key)||ue(e.As,n.As)}static _s(e,n){return ue(e.As,n.As)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ut(qe.ds)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o_(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return S.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qe(n,0),r=new qe(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),S.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ut(ue);return n.forEach(r=>{const i=new qe(r,0),o=new qe(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),S.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;z.isDocumentKey(i)||(i=i.child(""));const o=new qe(new z(i),0);let a=new ut(ue);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),S.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){_e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return S.forEach(n.mutations,r=>{const i=new qe(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new qe(n,0),r=this.Rs.firstAfterOrEqual(s);return S.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.Ds=e,this.docs=new Ae(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return S.resolve(s?s.document.mutableCopy():st.newInvalidDocument(n))}getEntries(e,n){let s=an();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():st.newInvalidDocument(r))}),S.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=an();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TE(IE(u),s)<=0||(r.has(u.key)||Bo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,n,s,r){W()}Cs(e,n){return S.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new U_(this)}getSize(e){return S.resolve(this.size)}}class U_ extends O_{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),S.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.persistence=e,this.xs=new Gs(n=>Fc(n),$c),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zc,this.targetCount=0,this.Ms=Fs.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),S.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Fn(n),S.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),S.waitFor(i).next(()=>r)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return S.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),S.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),S.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),S.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return S.resolve(s)}containsKey(e,n){return S.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){this.$s={},this.overlays={},this.Os=new Nc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new j_(this),this.indexManager=new P_,this.remoteDocumentCache=function(s){return new V_(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new D_(n),this.qs=new F_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new B_(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){B("MemoryPersistence","Starting transaction:",e);const r=new H_(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return S.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class H_ extends CE{constructor(e){super(),this.currentSequenceNumber=e}}class Kc{constructor(e){this.persistence=e,this.Qs=new zc,this.js=null}static zs(e){return new Kc(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),S.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),S.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ws,s=>{const r=z.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,X.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return S.or([()=>S.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=se(),r=se();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wc(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Gh(n))return S.resolve(null);let s=on(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=El(n,null,"F"),s=on(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=se(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,El(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,r){return Gh(n)||r.isEqual(X.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(Bh()<=de.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_l(n)),this.Wi(e,o,n,_E(r,-1)))})}ji(e,n){let s=new ut(wg(e));return n.forEach((r,i)=>{Bo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return Bh()<=de.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",_l(n)),this.Ui.getDocumentsMatchingQuery(e,n,An.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Ae(ue),this.Yi=new Gs(i=>Fc(i),$c),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function W_(t,e,n,s){return new K_(t,e,n,s)}async function Vg(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=se();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function G_(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=S.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(w=>{const E=l.docVersions.get(m);_e(E!==null),w.version.compareTo(E)<0&&(u.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),c.addEntry(w)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=se();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Ug(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Q_(t,e){const n=J(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ht.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,s)),r=r.insert(h,m),function(w,E,x){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,u)&&a.push(n.Bs.updateTargetData(i,m))});let l=an(),c=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(Y_(i,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(X.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return S.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=r,i))}function Y_(t,e,n){let s=se(),r=se();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=an();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}function X_(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function J_(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,S.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new vn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Sl(t,e,n){const s=J(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Jr(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function of(t,e,n){const s=J(t);let r=X.min(),i=se();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=J(a),h=u.Yi.get(c);return h!==void 0?S.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(s,o,on(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:X.min(),n?i:se())).next(a=>(Z_(s,zE(e),a),{documents:a,ir:i})))}function Z_(t,e,n){let s=t.Xi.get(e)||X.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class af{constructor(){this.activeTargetIds=XE()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eI{constructor(){this.Hr=new af,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new af,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi=null;function Ia(){return yi===null?yi=268435456+Math.round(2147483648*Math.random()):yi++,"0x"+yi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="WebChannelConnection";class rI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=Ia(),a=this.To(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,r,i),this.Ao(e,a,l,s).then(c=>(B("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ns("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ws,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=nI[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=Ia();return new Promise((o,a)=>{const l=new hE;l.setWithCredentials(!0),l.listenOnce(lE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ea.NO_ERROR:const u=l.getResponseJson();B(et,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ea.TIMEOUT:B(et,`RPC '${e}' ${i} timed out`),a(new H(T.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:const h=l.getStatus();if(B(et,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const w=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(x)>=0?x:T.UNKNOWN}(m.status);a(new H(w,m.message))}else a(new H(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(T.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{B(et,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);B(et,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const r=Ia(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oE(),a=aE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new uE({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=i.join("");B(et,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const w=new sI({ro:x=>{m?B(et,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(f||(B(et,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),B(et,`RPC '${e}' stream ${r} sending:`,x),h.send(x))},oo:()=>h.close()}),E=(x,N,k)=>{x.listen(N,V=>{try{k(V)}catch(O){setTimeout(()=>{throw O},0)}})};return E(h,di.EventType.OPEN,()=>{m||B(et,`RPC '${e}' stream ${r} transport opened.`)}),E(h,di.EventType.CLOSE,()=>{m||(m=!0,B(et,`RPC '${e}' stream ${r} transport closed`),w.wo())}),E(h,di.EventType.ERROR,x=>{m||(m=!0,Ns(et,`RPC '${e}' stream ${r} transport errored:`,x),w.wo(new H(T.UNAVAILABLE,"The operation could not be completed")))}),E(h,di.EventType.MESSAGE,x=>{var N;if(!m){const k=x.data[0];_e(!!k);const V=k,O=V.error||((N=V[0])===null||N===void 0?void 0:N.error);if(O){B(et,`RPC '${e}' stream ${r} received error:`,O);const ie=O.status;let ce=function(Se){const Re=Le[Se];if(Re!==void 0)return Rg(Re)}(ie),we=O.message;ce===void 0&&(ce=T.INTERNAL,we="Unknown error status: "+ie+" with message "+O.message),m=!0,w.wo(new H(ce,we)),h.close()}else B(et,`RPC '${e}' stream ${r} received:`,k),w._o(k)}}),E(a,cE.STAT_EVENT,x=>{x.stat===Fh.PROXY?B(et,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Fh.NOPROXY&&B(et,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function Ta(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){return new m_(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&B("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,s,r,i,o,a,l){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jg(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(rn(n.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new H(T.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iI extends qg{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=w_(this.serializer,e),s=function(r){if(!("targetChange"in r))return X.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?X.min():i.readTime?Wt(i.readTime):X.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Cl(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=bl(a)?{documents:__(r,a)}:{query:I_(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=Og(r,i.resumeToken);const l=Il(r,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(X.min())>0){o.readTime=to(r,i.snapshotVersion.toTimestamp());const l=Il(r,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=x_(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Cl(this.serializer),n.removeTarget=e,this.Wo(n)}}class oI extends qg{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=E_(e.writeResults,e.commitTime),s=Wt(e.commitTime);return this.listener.cu(s,n)}return _e(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>b_(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new H(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(T.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(T.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class lI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rn(n),this.mu=!1):B("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{ls(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.vu.add(4),await ti(l),l.bu.set("Unknown"),l.vu.delete(4),await Ho(l)}(this))})}),this.bu=new lI(s,r)}}async function Ho(t){if(ls(t))for(const e of t.Ru)await e(!0)}async function ti(t){for(const e of t.Ru)await e(!1)}function Hg(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Yc(n)?Qc(n):Qs(n).Ko()&&Gc(n,e))}function zg(t,e){const n=J(t),s=Qs(n);n.Au.delete(e),s.Ko()&&Kg(n,e),n.Au.size===0&&(s.Ko()?s.jo():ls(n)&&n.bu.set("Unknown"))}function Gc(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qs(t).su(e)}function Kg(t,e){t.Vu.qt(e),Qs(t).iu(e)}function Qc(t){t.Vu=new f_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Qs(t).start(),t.bu.gu()}function Yc(t){return ls(t)&&!Qs(t).Uo()&&t.Au.size>0}function ls(t){return J(t).vu.size===0}function Wg(t){t.Vu=void 0}async function uI(t){t.Au.forEach((e,n)=>{Gc(t,e)})}async function hI(t,e){Wg(t),Yc(t)?(t.bu.Iu(e),Qc(t)):t.bu.set("Unknown")}async function fI(t,e,n){if(t.bu.set("Online"),e instanceof Ng&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await no(t,s)}else if(e instanceof ki?t.Vu.Ht(e):e instanceof Pg?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(X.min()))try{const s=await Ug(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(ht.EMPTY_BYTE_STRING,c.snapshotVersion)),Kg(r,a);const u=new vn(c.target,a,l,c.sequenceNumber);Gc(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){B("RemoteStore","Failed to raise snapshot:",s),await no(t,s)}}async function no(t,e,n){if(!Jr(e))throw e;t.vu.add(1),await ti(t),t.bu.set("Offline"),n||(n=()=>Ug(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ho(t)})}function Gg(t,e){return e().catch(n=>no(t,n,e))}async function zo(t){const e=J(t),n=Dn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dI(e);)try{const r=await X_(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,pI(e,r)}catch(r){await no(e,r)}Qg(e)&&Yg(e)}function dI(t){return ls(t)&&t.Eu.length<10}function pI(t,e){t.Eu.push(e);const n=Dn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Qg(t){return ls(t)&&!Dn(t).Uo()&&t.Eu.length>0}function Yg(t){Dn(t).start()}async function gI(t){Dn(t).hu()}async function mI(t){const e=Dn(t);for(const n of t.Eu)e.uu(n.mutations)}async function yI(t,e,n){const s=t.Eu.shift(),r=Uc.from(s,e,n);await Gg(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await zo(t)}async function vI(t,e){e&&Dn(t).ou&&await async function(n,s){if(r=s.code,c_(r)&&r!==T.ABORTED){const i=n.Eu.shift();Dn(n).Qo(),await Gg(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zo(n)}var r}(t,e),Qg(t)&&Yg(t)}async function cf(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const s=ls(n);n.vu.add(3),await ti(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ho(n)}async function wI(t,e){const n=J(t);e?(n.vu.delete(2),await Ho(n)):e||(n.vu.add(2),await ti(n),n.bu.set("Unknown"))}function Qs(t){return t.Su||(t.Su=function(e,n,s){const r=J(e);return r.fu(),new iI(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:uI.bind(null,t),ao:hI.bind(null,t),nu:fI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Yc(t)?Qc(t):t.bu.set("Unknown")):(await t.Su.stop(),Wg(t))})),t.Su}function Dn(t){return t.Du||(t.Du=function(e,n,s){const r=J(e);return r.fu(),new oI(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:gI.bind(null,t),ao:vI.bind(null,t),au:mI.bind(null,t),cu:yI.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await zo(t)):(await t.Du.stop(),t.Eu.length>0&&(B("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Xc(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jc(t,e){if(rn("AsyncQueue",`${e}: ${t}`),Jr(t))return new H(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||z.comparator(n.key,s.key):(n,s)=>z.comparator(n.key,s.key),this.keyedMap=ir(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Cs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.Cu=new Ae(z.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class $s{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $s(e,n,Cs.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Nu=void 0,this.listeners=[]}}class EI{constructor(){this.queries=new Gs(e=>vg(e),$o),this.onlineState="Unknown",this.ku=new Set}}async function _I(t,e){const n=J(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new bI),r)try{i.Nu=await n.onListen(s)}catch(o){const a=Jc(o,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Zc(n)}async function II(t,e){const n=J(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function TI(t,e){const n=J(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&Zc(n)}function xI(t,e,n){const s=J(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function Zc(t){t.ku.forEach(e=>{e.next()})}class CI{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new $s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.key=e}}class Jg{constructor(e){this.key=e}}class SI{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=wg(e),this.ec=new Cs(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new uf,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),m=Bo(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?w!==E&&(s.track({type:3,doc:m}),x=!0):this.rc(f,m)||(s.track({type:2,doc:m}),x=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!f&&m?(s.track({type:0,doc:m}),x=!0):f&&!m&&(s.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),i=E?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,u)=>function(h,f){const m=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return m(h)-m(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new $s(this.query,e.ec,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new uf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Jg(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Xg(s))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return $s.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class AI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class kI{constructor(e){this.key=e,this.fc=!1}}class DI{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Gs(a=>vg(a),$o),this._c=new Map,this.mc=new Set,this.gc=new Ae(z.comparator),this.yc=new Map,this.Ic=new zc,this.Tc={},this.Ec=new Map,this.Ac=Fs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function RI(t,e){const n=UI(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await J_(n.localStore,on(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await PI(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&Hg(n.remoteStore,o)}return r}async function PI(t,e,n,s,r){t.Rc=(h,f,m)=>async function(w,E,x,N){let k=E.view.sc(x);k.zi&&(k=await of(w.localStore,E.query,!1).then(({documents:ie})=>E.view.sc(ie,k)));const V=N&&N.targetChanges.get(E.targetId),O=E.view.applyChanges(k,w.isPrimaryClient,V);return ff(w,E.targetId,O.cc),O.snapshot}(t,h,f,m);const i=await of(t.localStore,e,!0),o=new SI(e,i.ir),a=o.sc(i.documents),l=ei.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);ff(t,n,c.cc);const u=new AI(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function NI(t,e){const n=J(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!$o(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Sl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),zg(n.remoteStore,s.targetId),Al(n,s.targetId)}).catch(Xr)):(Al(n,s.targetId),await Sl(n.localStore,s.targetId,!0))}async function OI(t,e,n){const s=jI(t);try{const r=await function(i,o){const a=J(i),l=Ue.now(),c=o.reduce((f,m)=>f.add(m.key),se());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=an(),w=se();return a.Zi.getEntries(f,c).next(E=>{m=E,m.forEach((x,N)=>{N.isValidDocument()||(w=w.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(E=>{u=E;const x=[];for(const N of o){const k=r_(N,u.get(N.key).overlayedDocument);k!=null&&x.push(new On(N.key,k,hg(k.value.mapValue),Mt.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,x,o)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(u,w);return a.documentOverlayCache.saveOverlays(f,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Eg(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new Ae(ue)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(s,r.batchId,n),await ni(s,r.changes),await zo(s.remoteStore)}catch(r){const i=Jc(r,"Failed to persist write");n.reject(i)}}async function Zg(t,e){const n=J(t);try{const s=await Q_(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?_e(o.fc):r.removedDocuments.size>0&&(_e(o.fc),o.fc=!1))}),await ni(n,s,e)}catch(s){await Xr(s)}}function hf(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=J(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&Zc(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MI(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new Ae(z.comparator);o=o.insert(i,st.newNoDocument(i,X.min()));const a=se().add(i),l=new jo(X.min(),new Map,new Ae(ue),o,a);await Zg(s,l),s.gc=s.gc.remove(i),s.yc.delete(e),eu(s)}else await Sl(s.localStore,e,!1).then(()=>Al(s,e,n)).catch(Xr)}async function LI(t,e){const n=J(t),s=e.batch.batchId;try{const r=await G_(n.localStore,e);tm(n,s,null),em(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ni(n,r)}catch(r){await Xr(r)}}async function FI(t,e,n){const s=J(t);try{const r=await function(i,o){const a=J(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(_e(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);tm(s,e,n),em(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ni(s,r)}catch(r){await Xr(r)}}function em(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function tm(t,e,n){const s=J(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Al(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||nm(t,s)})}function nm(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(zg(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),eu(t))}function ff(t,e,n){for(const s of n)s instanceof Xg?(t.Ic.addReference(s.key,e),$I(t,s)):s instanceof Jg?(B("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||nm(t,s.key)):W()}function $I(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(B("SyncEngine","New document in limbo: "+n),t.mc.add(s),eu(t))}function eu(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new z(xe.fromString(e)),s=t.Ac.next();t.yc.set(s,new kI(n)),t.gc=t.gc.insert(n,s),Hg(t.remoteStore,new vn(on(Bc(n.path)),s,"TargetPurposeLimboResolution",Nc.ct))}}async function ni(t,e,n){const s=J(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=Wc.Li(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,l){const c=J(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>S.forEach(l,h=>S.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>S.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Jr(u))throw u;B("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),m=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(h,w)}}}(s.localStore,i))}async function BI(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const s=await Vg(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new H(T.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ni(n,s.er)}}function VI(t,e){const n=J(t),s=n.yc.get(e);if(s&&s.fc)return se().add(s.key);{let r=se();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function UI(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MI.bind(null,e),e.dc.nu=TI.bind(null,e.eventManager),e.dc.Pc=xI.bind(null,e.eventManager),e}function jI(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FI.bind(null,e),e}class df{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return W_(this.persistence,new z_,e.initialUser,this.serializer)}createPersistence(e){return new q_(Kc.zs,this.serializer)}createSharedClientState(e){return new eI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,this.syncEngine),await wI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new EI}createDatastore(e){const n=qo(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new rI(r));var r;return function(i,o,a,l){return new aI(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>hf(this.syncEngine,a,0),o=lf.D()?new lf:new tI,new cI(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new DI(s,r,i,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);B("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ti(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=tt.UNAUTHENTICATED,this.clientId=lg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{B("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(B("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jc(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xa(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Vg(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WI(t);B("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>cf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cf(e.remoteStore,i)),t._onlineComponents=e}function KI(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await xa(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!KI(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await xa(t,new df)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await xa(t,new df);return t._offlineComponents}async function sm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await pf(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await pf(t,new qI))),t._onlineComponents}function GI(t){return sm(t).then(e=>e.syncEngine)}async function gf(t){const e=await sm(t),n=e.eventManager;return n.onListen=RI.bind(null,e.syncEngine),n.onUnlisten=NI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t,e,n){if(!n)throw new H(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QI(t,e,n,s){if(e===!0&&s===!0)throw new H(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yf(t){if(!z.isDocumentKey(t))throw new H(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vf(t){if(z.isDocumentKey(t))throw new H(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tu(t);throw new H(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new H(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rm((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class Ko{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dE;switch(n.type){case"firstParty":return new yE(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mf.get(e);n&&(B("ComponentProvider","Removing Datastore"),mf.delete(e),n.terminate())}(this),Promise.resolve()}}function YI(t,e,n,s={}){var r;const i=(t=In(t,Ko))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Ns("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=tt.MOCK_USER;else{o=Ww(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new H(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new tt(l)}t._authCredentials=new pE(new ag(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Wo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class Tn extends Wo{constructor(e,n,s){super(e,n,Bc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new z(e))}withConverter(e){return new Tn(this.firestore,e,this._path)}}function mn(t,e,...n){if(t=Ft(t),im("collection","path",e),t instanceof Ko){const s=xe.fromString(e,...n);return vf(s),new Tn(t,null,s)}{if(!(t instanceof bt||t instanceof Tn))throw new H(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xe.fromString(e,...n));return vf(s),new Tn(t.firestore,null,s)}}function ar(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=lg.A()),im("doc","path",e),t instanceof Ko){const s=xe.fromString(e,...n);return yf(s),new bt(t,null,new z(s))}{if(!(t instanceof bt||t instanceof Tn))throw new H(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(xe.fromString(e,...n));return yf(s),new bt(t.firestore,t instanceof Tn?t.converter:null,new z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jg(this,"async_queue_retry"),this.Xc=()=>{const n=Ta();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ta();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ta();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Jr(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw rn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=Xc.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&W()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function bf(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Bs extends Ko{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new XI,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||am(this),this._firestoreClient.terminate()}}function JI(t,e){const n=typeof t=="object"?t:ep(),s=typeof t=="string"?t:e||"(default)",r=Ur(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=zw("firestore");i&&YI(r,...i)}return r}function om(t){return t._firestoreClient||am(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function am(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,l,c){return new kE(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rm(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new zI(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=r.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=r.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vs(ht.fromBase64String(e))}catch(n){throw new H(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vs(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^__.*__$/;class eT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zr(e,this.data,n,this.fieldTransforms)}}class lm{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class ru{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ru(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return so(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(cm(this.ca)&&ZI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qo(e)}ya(e,n,s,r=!1){return new ru({ca:e,methodName:n,ga:s,path:at.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(t){const e=t._freezeSettings(),n=qo(t._databaseId);return new tT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nT(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);iu("Data must be an object, but it was:",o,s);const a=hm(s,o);let l,c;if(i.merge)l=new wt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=kl(e,h,n);if(!o.contains(f))throw new H(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);dm(u,f)||u.push(f)}l=new wt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new eT(new gt(a),l,c)}class Qo extends nu{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qo}}function sT(t,e,n,s){const r=t.ya(1,e,n);iu("Data must be an object, but it was:",r,s);const i=[],o=gt.empty();as(s,(l,c)=>{const u=ou(e,l,n);c=Ft(c);const h=r.da(u);if(c instanceof Qo)i.push(u);else{const f=Yo(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new wt(i);return new lm(o,a,r.fieldTransforms)}function rT(t,e,n,s,r,i){const o=t.ya(1,e,n),a=[kl(e,s,n)],l=[r];if(i.length%2!=0)throw new H(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(kl(e,i[f])),l.push(i[f+1]);const c=[],u=gt.empty();for(let f=a.length-1;f>=0;--f)if(!dm(c,a[f])){const m=a[f];let w=l[f];w=Ft(w);const E=o.da(m);if(w instanceof Qo)c.push(m);else{const x=Yo(w,E);x!=null&&(c.push(m),u.set(m,x))}}const h=new wt(c);return new lm(u,h,o.fieldTransforms)}function Yo(t,e){if(fm(t=Ft(t)))return iu("Unsupported field value:",e,t),hm(t,e);if(t instanceof nu)return function(n,s){if(!cm(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Yo(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JE(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ue.fromDate(n);return{timestampValue:to(s.serializer,r)}}if(n instanceof Ue){const r=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:to(s.serializer,r)}}if(n instanceof su)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vs)return{bytesValue:Og(s.serializer,n._byteString)};if(n instanceof bt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Hc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${tu(n)}`)}(t,e)}function hm(t,e){const n={};return cg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(s,r)=>{const i=Yo(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function fm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof su||t instanceof Vs||t instanceof bt||t instanceof nu)}function iu(t,e,n){if(!fm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=tu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function kl(t,e,n){if((e=Ft(e))instanceof Go)return e._internalPath;if(typeof e=="string")return ou(t,e);throw so("Field path arguments must be of type string or ",t,!1,void 0,n)}const iT=new RegExp("[~\\*/\\[\\]]");function ou(t,e,n){if(e.search(iT)>=0)throw so(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch{throw so(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function so(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new H(T.INVALID_ARGUMENT,a+t+l)}function dm(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oT extends pm{data(){return super.data()}}function gm(t,e){return typeof e=="string"?ou(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lT{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new su(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const n=kn(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xe.fromString(e);_e(Bg(s));const r=new Mr(s.get(1),s.get(3)),i=new z(s.popFirst(5));return r.isEqual(n)||rn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mm extends pm{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Di(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Di extends mm{data(e={}){return super.data(e)}}class uT{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new lr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Di(this._firestore,this._userDataWriter,s.key,s,new lr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new Di(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Di(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:hT(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class ym extends lT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Ef(t,e,n,...s){t=In(t,bt);const r=In(t.firestore,Bs),i=um(r);let o;return o=typeof(e=Ft(e))=="string"||e instanceof Go?rT(i,"updateDoc",t._key,e,n,s):sT(i,"updateDoc",t._key,e),au(r,[o.toMutation(t._key,Mt.exists(!0))])}function _f(t){return au(In(t.firestore,Bs),[new Vc(t._key,Mt.none())])}function Dl(t,e){const n=In(t.firestore,Bs),s=ar(t),r=cT(t.converter,e);return au(n,[nT(um(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Mt.exists(!1))]).then(()=>s)}function Rl(t,...e){var n,s,r;t=Ft(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||bf(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(bf(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof bt)c=In(t.firestore,Bs),u=Bc(t._key.path),l={next:h=>{e[o]&&e[o](fT(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=In(t,Wo);c=In(h.firestore,Bs),u=h._query;const f=new ym(c);l={next:m=>{e[o]&&e[o](new uT(c,f,h,m))},error:e[o+1],complete:e[o+2]},aT(t._query)}return function(h,f,m,w){const E=new HI(w),x=new CI(f,E,m);return h.asyncQueue.enqueueAndForget(async()=>_I(await gf(h),x)),()=>{E.Dc(),h.asyncQueue.enqueueAndForget(async()=>II(await gf(h),x))}}(om(c),u,a,l)}function au(t,e){return function(n,s){const r=new Xn;return n.asyncQueue.enqueueAndForget(async()=>OI(await GI(n),s,r)),r.promise}(om(t),e)}function fT(t,e,n){const s=n.docs.get(e._key),r=new ym(t);return new mm(t,r,e._key,s,new lr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ws=n})(Z1),Sn(new nn("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new Bs(new gE(n.getProvider("auth-internal")),new wE(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Kt($h,"3.12.0",t),Kt($h,"3.12.0","esm2017")})();var dT="firebase",pT="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(dT,pT,"app");const gT=(t,e)=>e.some(n=>t instanceof n);let If,Tf;function mT(){return If||(If=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return Tf||(Tf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vm=new WeakMap,Pl=new WeakMap,wm=new WeakMap,Ca=new WeakMap,lu=new WeakMap;function vT(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vm.set(n,t)}).catch(()=>{}),lu.set(e,t),e}function wT(t){if(Pl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pl.set(t,e)}let Nl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bT(t){Nl=t(Nl)}function ET(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Sa(this),e,...n);return wm.set(s,e.sort?e.sort():[e]),xn(s)}:yT().includes(t)?function(...e){return t.apply(Sa(this),e),xn(vm.get(this))}:function(...e){return xn(t.apply(Sa(this),e))}}function _T(t){return typeof t=="function"?ET(t):(t instanceof IDBTransaction&&wT(t),gT(t,mT())?new Proxy(t,Nl):t)}function xn(t){if(t instanceof IDBRequest)return vT(t);if(Ca.has(t))return Ca.get(t);const e=_T(t);return e!==t&&(Ca.set(t,e),lu.set(e,t)),e}const Sa=t=>lu.get(t);function IT(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=xn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(xn(o.result),l.oldVersion,l.newVersion,xn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const TT=["get","getKey","getAll","getAllKeys","count"],xT=["put","add","delete","clear"],Aa=new Map;function xf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Aa.get(e))return Aa.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=xT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||TT.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Aa.set(e,i),i}bT(t=>({...t,get:(e,n,s)=>xf(e,n)||t.get(e,n,s),has:(e,n)=>!!xf(e,n)||t.has(e,n)}));const bm="@firebase/installations",cu="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=1e4,_m=`w:${cu}`,Im="FIS_v2",CT="https://firebaseinstallations.googleapis.com/v1",ST=60*60*1e3,AT="installations",kT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},rs=new bo(AT,kT,DT);function Tm(t){return t instanceof Rn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm({projectId:t}){return`${CT}/projects/${t}/installations`}function Cm(t){return{token:t.token,requestStatus:2,expiresIn:PT(t.expiresIn),creationTime:Date.now()}}async function Sm(t,e){const s=(await e.json()).error;return rs.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Am({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RT(t,{refreshToken:e}){const n=Am(t);return n.append("Authorization",NT(e)),n}async function km(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PT(t){return Number(t.replace("s","000"))}function NT(t){return`${Im} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=xm(t),r=Am(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:Im,appId:t.appId,sdkVersion:_m},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await km(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Cm(c.authToken)}}else throw await Sm("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=/^[cdef][\w-]{21}$/,Ol="";function FT(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$T(t);return LT.test(n)?n:Ol}catch{return Ol}}function $T(t){return MT(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new Map;function Pm(t,e){const n=Xo(t);Nm(n,e),BT(n,e)}function Nm(t,e){const n=Rm.get(t);if(!!n)for(const s of n)s(e)}function BT(t,e){const n=VT();n&&n.postMessage({key:t,fid:e}),UT()}let Kn=null;function VT(){return!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=t=>{Nm(t.data.key,t.data.fid)}),Kn}function UT(){Rm.size===0&&Kn&&(Kn.close(),Kn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-installations-database",qT=1,is="firebase-installations-store";let ka=null;function uu(){return ka||(ka=IT(jT,qT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(is)}}})),ka}async function ro(t,e){const n=Xo(t),r=(await uu()).transaction(is,"readwrite"),i=r.objectStore(is),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&Pm(t,e.fid),e}async function Om(t){const e=Xo(t),s=(await uu()).transaction(is,"readwrite");await s.objectStore(is).delete(e),await s.done}async function Jo(t,e){const n=Xo(t),r=(await uu()).transaction(is,"readwrite"),i=r.objectStore(is),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&Pm(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t){let e;const n=await Jo(t.appConfig,s=>{const r=HT(s),i=zT(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===Ol?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function HT(t){const e=t||{fid:FT(),registrationStatus:0};return Mm(e)}function zT(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(rs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=KT(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WT(t)}:{installationEntry:e}}async function KT(t,e){try{const n=await OT(t,e);return ro(t.appConfig,n)}catch(n){throw Tm(n)&&n.customData.serverCode===409?await Om(t.appConfig):await ro(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function WT(t){let e=await Cf(t.appConfig);for(;e.registrationStatus===1;)await Dm(100),e=await Cf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await hu(t);return s||n}return e}function Cf(t){return Jo(t,e=>{if(!e)throw rs.create("installation-not-found");return Mm(e)})}function Mm(t){return GT(t)?{fid:t.fid,registrationStatus:0}:t}function GT(t){return t.registrationStatus===1&&t.registrationTime+Em<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT({appConfig:t,heartbeatServiceProvider:e},n){const s=YT(t,n),r=RT(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:_m,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await km(()=>fetch(s,a));if(l.ok){const c=await l.json();return Cm(c)}else throw await Sm("Generate Auth Token",l)}function YT(t,{fid:e}){return`${xm(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e=!1){let n;const s=await Jo(t.appConfig,i=>{if(!Lm(i))throw rs.create("not-registered");const o=i.authToken;if(!e&&ZT(o))return i;if(o.requestStatus===1)return n=XT(t,e),i;{if(!navigator.onLine)throw rs.create("app-offline");const a=tx(i);return n=JT(t,a),a}});return n?await n:s.authToken}async function XT(t,e){let n=await Sf(t.appConfig);for(;n.authToken.requestStatus===1;)await Dm(100),n=await Sf(t.appConfig);const s=n.authToken;return s.requestStatus===0?fu(t,e):s}function Sf(t){return Jo(t,e=>{if(!Lm(e))throw rs.create("not-registered");const n=e.authToken;return nx(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function JT(t,e){try{const n=await QT(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await ro(t.appConfig,s),n}catch(n){if(Tm(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Om(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ro(t.appConfig,s)}throw n}}function Lm(t){return t!==void 0&&t.registrationStatus===2}function ZT(t){return t.requestStatus===2&&!ex(t)}function ex(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ST}function tx(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function nx(t){return t.requestStatus===1&&t.requestTime+Em<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t){const e=t,{installationEntry:n,registrationPromise:s}=await hu(e);return s?s.catch(console.error):fu(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,e=!1){const n=t;return await ix(n),(await fu(n,e)).token}async function ix(t){const{registrationPromise:e}=await hu(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){if(!t||!t.options)throw Da("App Configuration");if(!t.name)throw Da("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Da(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Da(t){return rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="installations",ax="installations-internal",lx=t=>{const e=t.getProvider("app").getImmediate(),n=ox(e),s=Ur(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},cx=t=>{const e=t.getProvider("app").getImmediate(),n=Ur(e,Fm).getImmediate();return{getId:()=>sx(n),getToken:r=>rx(n,r)}};function ux(){Sn(new nn(Fm,lx,"PUBLIC")),Sn(new nn(ax,cx,"PRIVATE"))}ux();Kt(bm,cu);Kt(bm,cu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="analytics",hx="firebase_id",fx="origin",dx=60*1e3,px="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",du="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=new lc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Et=new bo("analytics","Analytics",gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){if(!t.startsWith(du)){const e=Et.create("invalid-gtag-resource",{gtagURL:t});return mt.warn(e.message),""}return t}function $m(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yx(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function vx(t,e){const n=yx("firebase-js-sdk-policy",{createScriptURL:mx}),s=document.createElement("script"),r=`${du}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function wx(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bx(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const l=(await $m(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){mt.error(a)}t("config",r,i)}async function Ex(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await $m(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){mt.error(i)}}function _x(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,l]=o;await Ex(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await bx(t,e,n,s,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){mt.error(a)}}return r}function Ix(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=_x(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function Tx(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(du)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=30,Cx=1e3;class Sx{constructor(e={},n=Cx){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Bm=new Sx;function Ax(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kx(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:Ax(s)},i=px.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Et.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Dx(t,e=Bm,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Et.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Et.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Nx;return setTimeout(async()=>{a.abort()},n!==void 0?n:dx),Vm({appId:s,apiKey:r,measurementId:i},o,a,e)}async function Vm(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=Bm){var i;const{appId:o,measurementId:a}=t;try{await Rx(s,e)}catch(l){if(a)return mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await kx(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Px(c)){if(r.deleteThrottleMetadata(o),a)return mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?gh(n,r.intervalMillis,xx):gh(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),mt.debug(`Calling attemptFetch again in ${u} millis`),Vm(t,h,s,r)}}function Rx(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Et.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Px(t){if(!(t instanceof Rn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Nx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ox(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(){if(Qd())try{await Yd()}catch(t){return mt.warn(Et.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return mt.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Lx(t,e,n,s,r,i,o){var a;const l=Dx(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>mt.error(m)),e.push(l);const c=Mx().then(m=>{if(m)return s.getId()}),[u,h]=await Promise.all([l,c]);Tx(i)||vx(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[fx]="firebase",f.update=!0,h!=null&&(f[hx]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.app=e}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},Af=[];const kf={};let Ra="dataLayer",$x="gtag",Df,Um,Rf=!1;function Bx(){const t=[];if(Gw()&&t.push("This is a browser extension environment."),Qw()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Et.create("invalid-analytics-context",{errorInfo:e});mt.warn(n.message)}}function Vx(t,e,n){Bx();const s=t.options.appId;if(!s)throw Et.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Et.create("no-api-key");if(vr[s]!=null)throw Et.create("already-exists",{id:s});if(!Rf){wx(Ra);const{wrappedGtag:i,gtagCore:o}=Ix(vr,Af,kf,Ra,$x);Um=i,Df=o,Rf=!0}return vr[s]=Lx(t,Af,kf,e,Df,Ra,n),new Fx(t)}function Ux(t=ep()){t=Ft(t);const e=Ur(t,io);return e.isInitialized()?e.getImmediate():jx(t)}function jx(t,e={}){const n=Ur(t,io);if(n.isInitialized()){const r=n.getImmediate();if(Bi(e,n.getOptions()))return r;throw Et.create("already-initialized")}return n.initialize({options:e})}function qx(t,e,n,s){t=Ft(t),Ox(Um,vr[t.app.options.appId],e,n,s).catch(r=>mt.error(r))}const Pf="@firebase/analytics",Nf="0.10.0";function Hx(){Sn(new nn(io,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Vx(s,r,n)},"PUBLIC")),Sn(new nn("analytics-internal",t,"PRIVATE")),Kt(Pf,Nf),Kt(Pf,Nf,"esm2017");function t(e){try{const n=e.getProvider(io).getImmediate();return{logEvent:(s,r,i)=>qx(n,s,r,i)}}catch(n){throw Et.create("interop-component-reg-failed",{reason:n})}}}Hx();const zx={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},jm=Zd(zx);Ux(jm);const yn=JI(jm);let vi;const Kx=new Uint8Array(16);function Wx(){if(!vi&&(vi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vi(Kx)}const Ge=[];for(let t=0;t<256;++t)Ge.push((t+256).toString(16).slice(1));function Gx(t,e=0){return(Ge[t[e+0]]+Ge[t[e+1]]+Ge[t[e+2]]+Ge[t[e+3]]+"-"+Ge[t[e+4]]+Ge[t[e+5]]+"-"+Ge[t[e+6]]+Ge[t[e+7]]+"-"+Ge[t[e+8]]+Ge[t[e+9]]+"-"+Ge[t[e+10]]+Ge[t[e+11]]+Ge[t[e+12]]+Ge[t[e+13]]+Ge[t[e+14]]+Ge[t[e+15]]).toLowerCase()}const Qx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Of={randomUUID:Qx};function oo(t,e,n){if(Of.randomUUID&&!e&&!t)return Of.randomUUID();t=t||{};const s=t.random||(t.rng||Wx)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=s[r];return e}return Gx(s)}const Yx={class:"header"},Xx={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},Jx={class:"relative flex h-16 items-center justify-between"},Zx={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},eC=p("span",{class:"sr-only"},"Open main menu",-1),tC={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},nC=p("div",{class:"flex flex-shrink-0 items-center"},[p("img",{class:"block mt-5 h-8 w-auto lg:hidden",src:fh,alt:"Arumi_id"}),p("img",{class:"hidden h-8 w-auto lg:block",src:fh,alt:"Arumi_id"})],-1),sC={class:"hidden sm:ml-6 sm:block"},rC={class:"flex space-x-4"},iC=["aria-current"],oC=["aria-current"],aC={class:"space-y-1 px-2 pb-3 pt-2"},lC={key:0,class:"bg-white"},cC={key:0,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},uC=p("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Stock Barang",-1),hC={class:"flex flex-col"},fC={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},dC={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},pC={class:"overflow-hidden"},gC={class:"min-w-full text-left text-sm font-light"},mC=p("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[p("tr",null,[p("th",{scope:"col",class:"px-3 py-4"},"No"),p("th",{scope:"col",class:"px-3 py-4"},"Jenis Barang"),p("th",{scope:"col",class:"px-3 py-4"},"Nama Barang"),p("th",{scope:"col",class:"px-3 py-4"},"Warna Barang"),p("th",{scope:"col",class:"px-3 py-4"},"QTY"),p("th",{scope:"col",class:"px-3 py-4"},"Harga Barang"),p("th",{scope:"col",class:"px-3 py-4"},"Aksi")])],-1),yC={class:"whitespace-nowrap px-3 py-4"},vC={class:"whitespace-nowrap px-3 py-4 font-medium"},wC={class:"whitespace-nowrap px-3 py-4 font-medium"},bC={class:"whitespace-nowrap px-3 py-4"},EC={class:"whitespace-nowrap px-3 py-4"},_C={class:"whitespace-nowrap px-3 py-4 font-medium"},IC={class:"whitespace-nowrap px-3 py-4 font-medium"},TC=["onClick"],xC=["onClick"],CC={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},SC={class:"text-2xl font-bold tracking-tight text-gray-900"},AC=["onSubmit"],kC={class:"space-y-12"},DC={class:"border-b border-gray-900/10 pb-12"},RC={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},PC={class:"sm:col-span-2"},NC=p("label",{for:"jenisBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Jenis Barang",-1),OC={class:"mt-2"},MC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},LC={class:"sm:col-span-2"},FC=p("label",{for:"namaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Nama Barang",-1),$C={class:"mt-2"},BC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},VC={class:"sm:col-span-2"},UC=p("label",{for:"warnaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Warna Barang",-1),jC={class:"mt-2"},qC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},HC={class:"sm:col-span-2"},zC=p("label",{for:"qty",class:"block text-sm font-medium leading-6 text-gray-900"},"Quantity",-1),KC={class:"mt-2"},WC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},GC={class:"sm:col-span-2"},QC=p("label",{for:"hargaBarang",class:"block text-sm font-medium leading-6 text-gray-900"},"Harga Barang",-1),YC={class:"mt-2"},XC={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},JC={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},ZC=p("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",-1),eS={key:1,class:"bg-white"},tS={key:0,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},nS=p("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Table Petty Cash",-1),sS={class:"flex flex-col"},rS={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},iS={class:"inline-block min-w-full py-2 sm:px-6 lg:px-8"},oS={class:"overflow-hidden"},aS={class:"min-w-full text-left text-sm font-light"},lS=p("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[p("tr",null,[p("th",{scope:"col",class:"px-3 py-4"},"Tanggal"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 500"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 1.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 2.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 5.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 10.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 20.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 50.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 75.000"),p("th",{scope:"col",class:"px-3 py-4"},"Rp 100.000"),p("th",{scope:"col",class:"px-3 py-4"},"Total"),p("th",{scope:"col",class:"px-3 py-4"},"Aksi")])],-1),cS={class:"whitespace-nowrap px-3 py-4 font-medium bg-blue-100"},uS={class:"whitespace-nowrap px-3 py-4 font-medium"},hS={class:"whitespace-nowrap px-3 py-4 font-medium"},fS={class:"whitespace-nowrap px-3 py-4 font-medium"},dS={class:"whitespace-nowrap px-3 py-4 font-medium"},pS={class:"whitespace-nowrap px-3 py-4 font-medium"},gS={class:"whitespace-nowrap px-3 py-4 font-medium"},mS={class:"whitespace-nowrap px-3 py-4 font-medium"},yS={class:"whitespace-nowrap px-3 py-4 font-medium"},vS={class:"whitespace-nowrap px-3 py-4 font-medium"},wS={class:"whitespace-nowrap px-3 py-4 font-medium bg-green-200"},bS={class:"whitespace-nowrap px-3 py-4 font-medium"},ES=["onClick"],_S=["onClick"],IS={key:1,class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},TS={class:"text-2xl font-bold tracking-tight text-gray-900"},xS=["onSubmit"],CS={class:"space-y-12"},SS={class:"border-b border-gray-900/10 pb-12"},AS={class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},kS={class:"sm:col-span-2"},DS=p("label",{for:"limaRatus",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 500",-1),RS={class:"mt-2"},PS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},NS={class:"sm:col-span-2"},OS=p("label",{for:"seribu",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 1.000",-1),MS={class:"mt-2"},LS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},FS={class:"sm:col-span-2"},$S=p("label",{for:"duaRibu",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 2.000",-1),BS={class:"mt-2"},VS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},US={class:"sm:col-span-2"},jS=p("label",{for:"limaRb",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 5.000",-1),qS={class:"mt-2"},HS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},zS={class:"sm:col-span-2"},KS=p("label",{for:"sepuluhRb",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 10.000",-1),WS={class:"mt-2"},GS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},QS={class:"sm:col-span-2"},YS=p("label",{for:"duaPuluh",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 20.000",-1),XS={class:"mt-2"},JS={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ZS={class:"sm:col-span-2"},e2=p("label",{for:"limpul",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 50.000",-1),t2={class:"mt-2"},n2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},s2={class:"sm:col-span-2"},r2=p("label",{for:"tujulima",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 75.000",-1),i2={class:"mt-2"},o2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},a2={class:"sm:col-span-2"},l2=p("label",{for:"seratus",class:"block text-sm font-medium leading-6 text-gray-900"},"Rp 100.000",-1),c2={class:"mt-2"},u2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},h2={class:"sm:col-span-2"},f2=p("label",{for:"tanggal",class:"block text-sm font-medium leading-6 text-gray-900"},"Tanggal",-1),d2={class:"mt-2"},p2={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},g2={class:"sm:col-span-2"},m2=p("label",{class:"block text-sm font-medium leading-6 text-gray-900"},"Total Uang",-1),y2={class:"mt-2"},v2=p("i",null,"Rp",-1),w2={class:"mt-6 mb-40 flex items-center justify-end gap-x-6"},b2=p("button",{type:"submit",class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"Submit",-1),E2={__name:"DashboardView",setup(t){let e=Z("stock_barang"),n=Z(!0),s=Z(!1);const r=mn(yn,"stockBarang"),i=mn(yn,"pettyCash");let o=Z(""),a=Z(!0),l=Z([]),c=Z(""),u=Z(""),h=Z(""),f=Z(""),m=Z(""),w=Z(""),E=new Date,x=Z(""),N=Z([]),k=Z(0),V=Z(0),O=Z(0),ie=Z(0),ce=Z(0),we=Z(0),Se=Z(0),Re=Z(0),ke=Z(0);const We=Z(E);let Je=Z(0);Xl(()=>{Je.value=500*k.value+1e3*V.value+2e3*O.value+5e3*ie.value+1e4*ce.value+2e4*we.value+5e4*Se.value+75e3*Re.value+1e5*ke.value}),Hs(async()=>{Rl(mn(yn,"stockBarang"),oe=>{let F=[];oe.forEach(y=>{let D={id:y.id,varian:y.data().varian,nama:y.data().nama,warna:y.data().warna,qty:y.data().qty,harga:y.data().harga.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")};F.push(D)}),l.value=F}),Rl(mn(yn,"pettyCash"),oe=>{let F=[];oe.forEach(y=>{let D={id:y.id,tanggal:y.data().tanggal,limaRatus:y.data().limaRatus,seribu:y.data().seribu,duaRb:y.data().duaRb,limaRb:y.data().limaRb,sepuluhRb:y.data().sepuluhRb,duaPuluhRb:y.data().duaPuluhRb,limpulRb:y.data().limpulRb,tujulima:y.data().tujulima,seratus:y.data().seratus,total:y.data().total.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")};F.push(D)}),N.value=F})});const It=()=>{console.log("data",a.value),a.value?Oe():pe()},Mn=()=>{c.value="",u.value="",h.value="",f.value="",m.value="",a.value=!0,o.value="Tambah Stock Barang",n.value=!1},cn=oe=>{w=oe.id,c.value=oe.varian,u.value=oe.nama,h.value=oe.warna,f.value=oe.qty,m.value=oe.harga,a.value=!1,o.value="Edit Stock Barang",n.value=!1},Oe=async()=>{console.log("add"),await Dl(mn(yn,"stockBarang"),{id:oo(),varian:c.value,nama:u.value,warna:h.value,qty:f.value,harga:m.value}),n.value=!0,c.value="",u.value="",h.value="",f.value="",m.value=""},pe=async()=>{await Ef(ar(r,w),{varian:c.value,nama:u.value,warna:h.value,qty:f.value,harga:m.value}),n.value=!0,c.value="",u.value="",h.value="",f.value="",m.value=""},le=async oe=>{_f(ar(r,oe))},St=()=>{k.value="",V.value="",O.value="",ie.value="",ce.value="",we.value="",Se.value="",Re.value="",ke.value="",Je.value="",We.value="",a.value=!0,x.value="Tambah Petty Cash",n.value=!1},Bt=oe=>{w=oe.id,k.value=oe.limaRatus,V.value=oe.seribu,O.value=oe.duaRb,ie.value=oe.limaRb,ce.value=oe.sepuluhRb,we.value=oe.duaPuluhRb,Se.value=oe.limpulRb,Re.value=oe.tujulima,ke.value=oe.seratus,Je.value=oe.total,We.value=oe.tanggal,a.value=!1,x.value="Edit Petty Cash",n.value=!1},Tt=()=>{a.value?Ze():un()},Ze=async()=>{await Dl(mn(yn,"pettyCash"),{id:oo(),limaRatus:k.value,seribu:V.value,duaRb:O.value,limaRb:ie.value,sepuluhRb:ce.value,duaPuluhRb:we.value,limpulRb:Se.value,tujulima:Re.value,seratus:ke.value,total:Je.value,tanggal:We.value}),n.value=!0,k.value="",V.value="",O.value="",ie.value="",ce.value="",we.value="",Se.value="",Re.value="",ke.value="",Je.value="",We.value=""},un=async()=>{await Ef(ar(i,w),{limaRatus:k.value,seribu:V.value,duaRb:O.value,limaRb:ie.value,sepuluhRb:ce.value,duaPuluhRb:we.value,limpulRb:Se.value,tujulima:Re.value,seratus:ke.value,total:Je.value,tanggal:We.value}),n.value=!0,k.value="",V.value="",O.value="",ie.value="",ce.value="",we.value="",Se.value="",Re.value="",ke.value="",Je.value="",We.value=""},hn=async oe=>{_f(ar(i,oe))};return(oe,F)=>(Ie(),Pe(nt,null,[p("div",Yx,[Ne(K(Pw),{as:"nav",class:"bg-pink-50"},{default:fs(({open:y})=>[p("div",Xx,[p("div",Jx,[p("div",Zx,[Ne(K(la),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:fs(()=>[eC,y?(Ie(),za(K(Mw),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(Ie(),za(K(Ow),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),p("div",tC,[nC,p("div",sC,[p("div",rC,[p("a",{onClick:F[0]||(F[0]=D=>{ee(e)?e.value="stock_barang":e="stock_barang",ee(n)?n.value=!0:n=!0}),class:Un([K(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":K(s)?"page":void 0},"Stock Barang",10,iC),p("a",{onClick:F[1]||(F[1]=D=>{ee(e)?e.value="petty_cash":e="petty_cash",ee(n)?n.value=!0:n=!0}),class:Un([K(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":K(s)?"page":void 0},"Petty Cash",10,oC)])])])])]),Ne(K(Nw),{class:"sm:hidden"},{default:fs(()=>[p("div",aC,[Ne(K(la),{onClick:F[2]||(F[2]=D=>{ee(e)?e.value="stock_barang":e="stock_barang",ee(n)?n.value=!0:n=!0}),as:"a",class:Un([K(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":K(s)?"page":void 0},{default:fs(()=>[xi("Stock Barang")]),_:1},8,["class","aria-current"]),Ne(K(la),{onClick:F[3]||(F[3]=D=>{ee(e)?e.value="petty_cash":e="petty_cash",ee(n)?n.value=!0:n=!0}),as:"a",class:Un([K(s)?"bg-gray-900 text-white":"text-gray-900 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":K(s)?"page":void 0},{default:fs(()=>[xi("Petty Cash")]),_:1},8,["class","aria-current"])])]),_:1})]),_:1})]),K(e)==="stock_barang"?(Ie(),Pe("div",lC,[K(n)?(Ie(),Pe("div",cC,[uC,p("button",{onClick:Mn,type:"button",class:"mt-4 inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Tambah Barang "),p("div",hC,[p("div",fC,[p("div",dC,[p("div",pC,[p("table",gC,[mC,p("tbody",null,[K(l).length!==0?(Ie(!0),Pe(nt,{key:0},Ba(K(l),(y,D)=>(Ie(),Pe("tr",{key:y.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[p("td",yC,be(D+1),1),p("td",vC,be(y.varian),1),p("td",wC,be(y.nama),1),p("td",bC,be(y.warna),1),p("td",EC,be(y.qty),1),p("td",_C,"Rp "+be(y.harga),1),p("td",IC,[p("button",{onClick:R=>le(y.id),class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus",8,TC),p("button",{onClick:R=>cn(y),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit",8,xC)])]))),128)):Ci("",!0)])])])])])])])):(Ie(),Pe("div",CC,[p("h2",SC,be(K(o)),1),p("form",{onSubmit:Ga(It,["prevent"])},[p("div",kC,[p("div",DC,[p("div",RC,[p("div",PC,[NC,p("div",OC,[p("div",MC,[Fe(p("input",{"onUpdate:modelValue":F[4]||(F[4]=y=>ee(c)?c.value=y:c=y),type:"text",name:"jenisBarang",id:"jenisBarang",autocomplete:"jenisBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Jenis Barang"},null,512),[[$e,K(c)]])])])]),p("div",LC,[FC,p("div",$C,[p("div",BC,[Fe(p("input",{"onUpdate:modelValue":F[5]||(F[5]=y=>ee(u)?u.value=y:u=y),type:"text",name:"namaBarang",id:"namaBarang",autocomplete:"namaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Nama Barang"},null,512),[[$e,K(u)]])])])]),p("div",VC,[UC,p("div",jC,[p("div",qC,[Fe(p("input",{"onUpdate:modelValue":F[6]||(F[6]=y=>ee(h)?h.value=y:h=y),type:"text",name:"warnaBarang",id:"warnaBarang",autocomplete:"warnaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Warna Barang"},null,512),[[$e,K(h)]])])])]),p("div",HC,[zC,p("div",KC,[p("div",WC,[Fe(p("input",{"onUpdate:modelValue":F[7]||(F[7]=y=>ee(f)?f.value=y:f=y),type:"number",name:"qty",id:"qty",autocomplete:"qty",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Quantity"},null,512),[[$e,K(f)]])])])]),p("div",GC,[QC,p("div",YC,[p("div",XC,[Fe(p("input",{"onUpdate:modelValue":F[8]||(F[8]=y=>ee(m)?m.value=y:m=y),type:"number",name:"hargaBarang",id:"hargaBarang",autocomplete:"hargaBarang",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Harga Barang"},null,512),[[$e,K(m)]])])])])])])]),p("div",JC,[p("button",{onClick:F[9]||(F[9]=y=>ee(n)?n.value=!0:n=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),ZC])],40,AC)]))])):K(e)==="petty_cash"?(Ie(),Pe("div",eS,[K(n)?(Ie(),Pe("div",tS,[nS,p("button",{onClick:St,type:"button",class:"mt-4 inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Input Petty Cash "),p("div",sS,[p("div",rS,[p("div",iS,[p("div",oS,[p("table",aS,[lS,p("tbody",null,[K(N).length!==0?(Ie(!0),Pe(nt,{key:0},Ba(K(N),y=>(Ie(),Pe("tr",{key:y.id,class:"border-b bg-neutral-100 dark:border-neutral-500 dark:bg-neutral-700"},[p("td",cS,be(y.tanggal),1),p("td",uS,be(y.limaRatus)+" Pcs",1),p("td",hS,be(y.seribu)+" Pcs",1),p("td",fS,be(y.duaRb)+" Pcs",1),p("td",dS,be(y.limaRb)+" Pcs",1),p("td",pS,be(y.sepuluhRb)+" Pcs",1),p("td",gS,be(y.duaPuluhRb)+" Pcs",1),p("td",mS,be(y.limpulRb)+" Pcs",1),p("td",yS,be(y.tujulima)+" Pcs",1),p("td",vS,be(y.seratus)+" Pcs",1),p("td",wS,"Rp "+be(y.total),1),p("td",bS,[p("button",{onClick:D=>hn(y.id),class:"mr-2 rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"hapus",8,ES),p("button",{onClick:D=>Bt(y),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},"edit",8,_S)])]))),128)):Ci("",!0)])])])])])])])):(Ie(),Pe("div",IS,[p("h2",TS,be(K(x)),1),p("form",{onSubmit:Ga(Tt,["prevent"])},[p("div",CS,[p("div",SS,[p("div",AS,[p("div",kS,[DS,p("div",RS,[p("div",PS,[Fe(p("input",{"onUpdate:modelValue":F[10]||(F[10]=y=>ee(k)?k.value=y:k=y),type:"number",name:"limaRatus",id:"limaRatus",autocomplete:"limaRatus",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Limaratusan"},null,512),[[$e,K(k)]])])])]),p("div",NS,[OS,p("div",MS,[p("div",LS,[Fe(p("input",{"onUpdate:modelValue":F[11]||(F[11]=y=>ee(V)?V.value=y:V=y),type:"number",name:"seribu",id:"seribu",autocomplete:"seribu",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Seribuan"},null,512),[[$e,K(V)]])])])]),p("div",FS,[$S,p("div",BS,[p("div",VS,[Fe(p("input",{"onUpdate:modelValue":F[12]||(F[12]=y=>ee(O)?O.value=y:O=y),type:"number",name:"duaRibu",id:"duaRibu",autocomplete:"duaRibu",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Dua Ribuan"},null,512),[[$e,K(O)]])])])]),p("div",US,[jS,p("div",qS,[p("div",HS,[Fe(p("input",{"onUpdate:modelValue":F[13]||(F[13]=y=>ee(ie)?ie.value=y:ie=y),type:"number",name:"limaRb",id:"limaRb",autocomplete:"limaRb",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Lima Ribuan"},null,512),[[$e,K(ie)]])])])]),p("div",zS,[KS,p("div",WS,[p("div",GS,[Fe(p("input",{"onUpdate:modelValue":F[14]||(F[14]=y=>ee(ce)?ce.value=y:ce=y),type:"number",name:"sepuluhRb",id:"sepuluhRb",autocomplete:"sepuluhRb",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Sepuluh Ribuan"},null,512),[[$e,K(ce)]])])])]),p("div",QS,[YS,p("div",XS,[p("div",JS,[Fe(p("input",{"onUpdate:modelValue":F[15]||(F[15]=y=>ee(we)?we.value=y:we=y),type:"number",name:"duaPuluh",id:"duaPuluh",autocomplete:"duaPuluh",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Duapuluh Ribuan"},null,512),[[$e,K(we)]])])])]),p("div",ZS,[e2,p("div",t2,[p("div",n2,[Fe(p("input",{"onUpdate:modelValue":F[16]||(F[16]=y=>ee(Se)?Se.value=y:Se=y),type:"number",name:"limpul",id:"limpul",autocomplete:"limpul",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Limapuluh Ribuan"},null,512),[[$e,K(Se)]])])])]),p("div",s2,[r2,p("div",i2,[p("div",o2,[Fe(p("input",{"onUpdate:modelValue":F[17]||(F[17]=y=>ee(Re)?Re.value=y:Re=y),type:"number",name:"tujulima",id:"tujulima",autocomplete:"tujulima",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Tujuhpuluh Lima Ribuan"},null,512),[[$e,K(Re)]])])])]),p("div",a2,[l2,p("div",c2,[p("div",u2,[Fe(p("input",{"onUpdate:modelValue":F[18]||(F[18]=y=>ee(ke)?ke.value=y:ke=y),type:"number",name:"seratus",id:"seratus",autocomplete:"seratus",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"Input Seratus Ribuan"},null,512),[[$e,K(ke)]])])])]),p("div",h2,[f2,p("div",d2,[p("div",p2,[Fe(p("input",{"onUpdate:modelValue":F[19]||(F[19]=y=>We.value=y),type:"date",name:"tanggal",id:"tanggal",autocomplete:"tanggal",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"},null,512),[[$e,We.value]])])])]),p("div",g2,[m2,p("div",y2,[p("b",null,[v2,xi(" "+be(K(Je).toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1.")),1)])])])])])]),p("div",w2,[p("button",{onClick:F[20]||(F[20]=y=>ee(n)?n.value=!0:n=!0),type:"button",class:"text-sm font-semibold leading-6 text-gray-900"},"Cancel"),b2])],40,xS)]))])):Ci("",!0)],64))}};const _2=["onSubmit"],I2={key:0,class:"add-product"},T2={class:"field"},x2=p("label",{class:"label"},"Jenis Product",-1),C2={class:"control"},S2={class:"field"},A2=p("label",{class:"label"},"Nama Product",-1),k2={class:"control"},D2={class:"field"},R2=p("label",{class:"label"},"Warna Product",-1),P2={class:"control"},N2={class:"field"},O2=p("label",{class:"label"},"Quantity Product",-1),M2={class:"control"},L2={class:"field"},F2=p("label",{class:"label"},"Harga Product",-1),$2={class:"control"},B2={class:"field is-grouped pt-4"},V2={class:"control"},U2=["disabled"],j2={class:"control"},q2={key:1,class:"add-product"},H2={class:"field is-grouped pl-20 pt-4"},z2={class:"control"},K2={key:0,class:"data-product"},W2={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},G2=p("thead",null,[p("tr",null,[p("th",null,"Jenis Barang"),p("th",null,"Nama Barang"),p("th",null,"Warna Barang"),p("th",null,"Quantity"),p("th",null,"Harga Barang")])],-1),Q2={__name:"DataProduct",setup(t){let e=Z([]);const n=Z(!1),s=Z(""),r=Z(""),i=Z(""),o=Z(""),a=Z("");Hs(async()=>{Rl(mn(yn,"stockBarang"),c=>{let u=[];c.forEach(h=>{let f={id:h.id,varian:h.data().varian,nama:h.data().nama,warna:h.data().warna,qty:h.data().qty,harga:h.data().harga};u.push(f)}),e.value=u})});const l=async()=>{console.log("asd",{id:oo(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});const c=await Dl(mn(yn,"stockBarang"),{id:oo(),varian:s.value,nama:r.value,warna:i.value,qty:o.value,harga:a.value});console.log("Document written with ID: ",c.id)};return(c,u)=>(Ie(),Pe(nt,null,[p("form",{onSubmit:Ga(l,["prevent"])},[n.value?(Ie(),Pe("div",I2,[p("div",T2,[x2,p("div",C2,[Fe(p("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>s.value=h),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[$e,s.value]])])]),p("div",S2,[A2,p("div",k2,[Fe(p("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>r.value=h),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[$e,r.value]])])]),p("div",D2,[R2,p("div",P2,[Fe(p("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),class:"input",type:"text",placeholder:"warna Product"},null,512),[[$e,i.value]])])]),p("div",N2,[O2,p("div",M2,[Fe(p("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>o.value=h),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[$e,o.value]])])]),p("div",L2,[F2,p("div",$2,[Fe(p("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>a.value=h),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[$e,a.value]])])]),p("div",B2,[p("div",V2,[p("button",{disabled:!s.value||!r.value||!a.value,class:"button is-link"},"Submit",8,U2)]),p("div",j2,[p("button",{onClick:u[5]||(u[5]=h=>n.value=!1),class:"button is-danger"},"Cancel")])])])):(Ie(),Pe("div",q2,[p("div",H2,[p("div",z2,[p("button",{class:"button is-link",onClick:u[6]||(u[6]=h=>n.value=!0)},"Tambah Data")])])]))],40,_2),n.value?Ci("",!0):(Ie(),Pe("div",K2,[p("table",W2,[G2,p("tbody",null,[(Ie(!0),Pe(nt,null,Ba(K(e),h=>(Ie(),Pe("tr",{key:h.id},[p("th",null,be(h.varian),1),p("th",null,be(h.nama),1),p("th",null,be(h.warna),1),p("th",null,be(h.qty)+" pcs",1),p("th",null,be(h.harga),1)]))),128))])])]))],64))}},Y2=fw({history:kv("/"),routes:[{path:"/",name:"home",component:E2},{path:"/data",name:"data",component:Q2}]}),pu=av(Ew);pu.use(hv());pu.use(Y2);pu.mount("#app");
