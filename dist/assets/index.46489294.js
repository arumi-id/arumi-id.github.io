(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Hl(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const be={},Ts=[],Ot=()=>{},wy=()=>!1,Ey=/^on[^a-z]/,yo=t=>Ey.test(t),ql=t=>t.startsWith("onUpdate:"),Fe=Object.assign,zl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},by=Object.prototype.hasOwnProperty,se=(t,e)=>by.call(t,e),K=Array.isArray,Cs=t=>vo(t)==="[object Map]",Xf=t=>vo(t)==="[object Set]",Z=t=>typeof t=="function",$e=t=>typeof t=="string",Kl=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Jf=t=>Te(t)&&Z(t.then)&&Z(t.catch),Zf=Object.prototype.toString,vo=t=>Zf.call(t),_y=t=>vo(t).slice(8,-1),ed=t=>vo(t)==="[object Object]",Gl=t=>$e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ki=Hl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Iy=/-(\w)/g,Ns=wo(t=>t.replace(Iy,(e,n)=>n?n.toUpperCase():"")),Ty=/\B([A-Z])/g,Ks=wo(t=>t.replace(Ty,"-$1").toLowerCase()),td=wo(t=>t.charAt(0).toUpperCase()+t.slice(1)),aa=wo(t=>t?`on${td(t)}`:""),Sr=(t,e)=>!Object.is(t,e),Di=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ui=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ha=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Cy=t=>{const e=$e(t)?Number(t):NaN;return isNaN(e)?t:e};let Tu;const qa=()=>Tu||(Tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wl(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=$e(s)?ky(s):Wl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if($e(t))return t;if(Te(t))return t}}const Sy=/;(?![^(]*\))/g,Ay=/:([^]+)/,xy=new RegExp("\\/\\*.*?\\*\\/","gs");function ky(t){const e={};return t.replace(xy,"").split(Sy).forEach(n=>{if(n){const s=n.split(Ay);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function _n(t){let e="";if($e(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const s=_n(t[n]);s&&(e+=s+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Dy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ry=Hl(Dy);function nd(t){return!!t||t===""}const jt=t=>$e(t)?t:t==null?"":K(t)||Te(t)&&(t.toString===Zf||!Z(t.toString))?JSON.stringify(t,sd,2):String(t),sd=(t,e)=>e&&e.__v_isRef?sd(t,e.value):Cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Xf(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!K(e)&&!ed(e)?String(e):e;let Dt;class rd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Dt;try{return Dt=this,e()}finally{Dt=n}}}on(){Dt=this}off(){Dt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Ny(t){return new rd(t)}function Py(t,e=Dt){e&&e.active&&e.effects.push(t)}function Oy(){return Dt}const Ql=t=>{const e=new Set(t);return e.w=0,e.n=0,e},id=t=>(t.w&Rn)>0,od=t=>(t.n&Rn)>0,My=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Rn},Ly=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];id(r)&&!od(r)?r.delete(t):e[n++]=r,r.w&=~Rn,r.n&=~Rn}e.length=n}},za=new WeakMap;let lr=0,Rn=1;const Ka=30;let Rt;const es=Symbol(""),Ga=Symbol("");class Yl{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Py(this,s)}run(){if(!this.active)return this.fn();let e=Rt,n=Tn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Rt,Rt=this,Tn=!0,Rn=1<<++lr,lr<=Ka?My(this):Cu(this),this.fn()}finally{lr<=Ka&&Ly(this),Rn=1<<--lr,Rt=this.parent,Tn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Cu(this),this.onStop&&this.onStop(),this.active=!1)}}function Cu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Tn=!0;const ad=[];function Gs(){ad.push(Tn),Tn=!1}function Ws(){const t=ad.pop();Tn=t===void 0?!0:t}function mt(t,e,n){if(Tn&&Rt){let s=za.get(t);s||za.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=Ql()),ld(r)}}function ld(t,e){let n=!1;lr<=Ka?od(t)||(t.n|=Rn,n=!id(t)):n=!t.has(Rt),n&&(t.add(Rt),Rt.deps.push(t))}function rn(t,e,n,s,r,i){const o=za.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&K(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":K(t)?Gl(n)&&a.push(o.get("length")):(a.push(o.get(es)),Cs(t)&&a.push(o.get(Ga)));break;case"delete":K(t)||(a.push(o.get(es)),Cs(t)&&a.push(o.get(Ga)));break;case"set":Cs(t)&&a.push(o.get(es));break}if(a.length===1)a[0]&&Wa(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Wa(Ql(l))}}function Wa(t,e){const n=K(t)?t:[...t];for(const s of n)s.computed&&Su(s);for(const s of n)s.computed||Su(s)}function Su(t,e){(t!==Rt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Fy=Hl("__proto__,__v_isRef,__isVue"),cd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Kl)),$y=Xl(),By=Xl(!1,!0),Uy=Xl(!0),Au=Vy();function Vy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=re(this);for(let i=0,o=this.length;i<o;i++)mt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(re)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gs();const s=re(this)[e].apply(this,n);return Ws(),s}}),t}function jy(t){const e=re(this);return mt(e,"has",t),e.hasOwnProperty(t)}function Xl(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?rv:pd:e?dd:fd).get(s))return s;const o=K(s);if(!t){if(o&&se(Au,r))return Reflect.get(Au,r,i);if(r==="hasOwnProperty")return jy}const a=Reflect.get(s,r,i);return(Kl(r)?cd.has(r):Fy(r))||(t||mt(s,"get",r),e)?a:it(a)?o&&Gl(r)?a:a.value:Te(a)?t?gd(a):Kr(a):a}}const Hy=ud(),qy=ud(!0);function ud(t=!1){return function(n,s,r,i){let o=n[s];if(Ps(o)&&it(o)&&!it(r))return!1;if(!t&&(!Vi(r)&&!Ps(r)&&(o=re(o),r=re(r)),!K(n)&&it(o)&&!it(r)))return o.value=r,!0;const a=K(n)&&Gl(s)?Number(s)<n.length:se(n,s),l=Reflect.set(n,s,r,i);return n===re(i)&&(a?Sr(r,o)&&rn(n,"set",s,r):rn(n,"add",s,r)),l}}function zy(t,e){const n=se(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&rn(t,"delete",e,void 0),s}function Ky(t,e){const n=Reflect.has(t,e);return(!Kl(e)||!cd.has(e))&&mt(t,"has",e),n}function Gy(t){return mt(t,"iterate",K(t)?"length":es),Reflect.ownKeys(t)}const hd={get:$y,set:Hy,deleteProperty:zy,has:Ky,ownKeys:Gy},Wy={get:Uy,set(t,e){return!0},deleteProperty(t,e){return!0}},Qy=Fe({},hd,{get:By,set:qy}),Jl=t=>t,Eo=t=>Reflect.getPrototypeOf(t);function di(t,e,n=!1,s=!1){t=t.__v_raw;const r=re(t),i=re(e);n||(e!==i&&mt(r,"get",e),mt(r,"get",i));const{has:o}=Eo(r),a=s?Jl:n?nc:Ar;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function pi(t,e=!1){const n=this.__v_raw,s=re(n),r=re(t);return e||(t!==r&&mt(s,"has",t),mt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function gi(t,e=!1){return t=t.__v_raw,!e&&mt(re(t),"iterate",es),Reflect.get(t,"size",t)}function xu(t){t=re(t);const e=re(this);return Eo(e).has.call(e,t)||(e.add(t),rn(e,"add",t,t)),this}function ku(t,e){e=re(e);const n=re(this),{has:s,get:r}=Eo(n);let i=s.call(n,t);i||(t=re(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Sr(e,o)&&rn(n,"set",t,e):rn(n,"add",t,e),this}function Du(t){const e=re(this),{has:n,get:s}=Eo(e);let r=n.call(e,t);r||(t=re(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&rn(e,"delete",t,void 0),i}function Ru(){const t=re(this),e=t.size!==0,n=t.clear();return e&&rn(t,"clear",void 0,void 0),n}function mi(t,e){return function(s,r){const i=this,o=i.__v_raw,a=re(o),l=e?Jl:t?nc:Ar;return!t&&mt(a,"iterate",es),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function yi(t,e,n){return function(...s){const r=this.__v_raw,i=re(r),o=Cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Jl:e?nc:Ar;return!e&&mt(i,"iterate",l?Ga:es),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function mn(t){return function(...e){return t==="delete"?!1:this}}function Yy(){const t={get(i){return di(this,i)},get size(){return gi(this)},has:pi,add:xu,set:ku,delete:Du,clear:Ru,forEach:mi(!1,!1)},e={get(i){return di(this,i,!1,!0)},get size(){return gi(this)},has:pi,add:xu,set:ku,delete:Du,clear:Ru,forEach:mi(!1,!0)},n={get(i){return di(this,i,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:mi(!0,!1)},s={get(i){return di(this,i,!0,!0)},get size(){return gi(this,!0)},has(i){return pi.call(this,i,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=yi(i,!1,!1),n[i]=yi(i,!0,!1),e[i]=yi(i,!1,!0),s[i]=yi(i,!0,!0)}),[t,n,e,s]}const[Xy,Jy,Zy,ev]=Yy();function Zl(t,e){const n=e?t?ev:Zy:t?Jy:Xy;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(se(n,r)&&r in s?n:s,r,i)}const tv={get:Zl(!1,!1)},nv={get:Zl(!1,!0)},sv={get:Zl(!0,!1)},fd=new WeakMap,dd=new WeakMap,pd=new WeakMap,rv=new WeakMap;function iv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ov(t){return t.__v_skip||!Object.isExtensible(t)?0:iv(_y(t))}function Kr(t){return Ps(t)?t:ec(t,!1,hd,tv,fd)}function av(t){return ec(t,!1,Qy,nv,dd)}function gd(t){return ec(t,!0,Wy,sv,pd)}function ec(t,e,n,s,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=ov(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function Ss(t){return Ps(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function Ps(t){return!!(t&&t.__v_isReadonly)}function Vi(t){return!!(t&&t.__v_isShallow)}function md(t){return Ss(t)||Ps(t)}function re(t){const e=t&&t.__v_raw;return e?re(e):t}function tc(t){return Ui(t,"__v_skip",!0),t}const Ar=t=>Te(t)?Kr(t):t,nc=t=>Te(t)?gd(t):t;function yd(t){Tn&&Rt&&(t=re(t),ld(t.dep||(t.dep=Ql())))}function vd(t,e){t=re(t);const n=t.dep;n&&Wa(n)}function it(t){return!!(t&&t.__v_isRef===!0)}function ve(t){return wd(t,!1)}function lv(t){return wd(t,!0)}function wd(t,e){return it(t)?t:new cv(t,e)}class cv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:re(e),this._value=n?e:Ar(e)}get value(){return yd(this),this._value}set value(e){const n=this.__v_isShallow||Vi(e)||Ps(e);e=n?e:re(e),Sr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ar(e),vd(this))}}function Ne(t){return it(t)?t.value:t}const uv={get:(t,e,n)=>Ne(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return it(r)&&!it(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ed(t){return Ss(t)?t:new Proxy(t,uv)}class hv{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Yl(e,()=>{this._dirty||(this._dirty=!0,vd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=re(this);return yd(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fv(t,e,n=!1){let s,r;const i=Z(t);return i?(s=t,r=Ot):(s=t.get,r=t.set),new hv(s,r,i||!r,n)}function Cn(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){bo(i,e,n)}return r}function At(t,e,n,s){if(Z(t)){const i=Cn(t,e,n,s);return i&&Jf(i)&&i.catch(o=>{bo(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(At(t[i],e,n,s));return r}function bo(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Cn(l,null,10,[t,o,a]);return}}dv(t,n,r,s)}function dv(t,e,n,s=!0){console.error(t)}let xr=!1,Qa=!1;const st=[];let Ht=0;const As=[];let Zt=null,Kn=0;const bd=Promise.resolve();let sc=null;function nn(t){const e=sc||bd;return t?e.then(this?t.bind(this):t):e}function pv(t){let e=Ht+1,n=st.length;for(;e<n;){const s=e+n>>>1;kr(st[s])<t?e=s+1:n=s}return e}function rc(t){(!st.length||!st.includes(t,xr&&t.allowRecurse?Ht+1:Ht))&&(t.id==null?st.push(t):st.splice(pv(t.id),0,t),_d())}function _d(){!xr&&!Qa&&(Qa=!0,sc=bd.then(Td))}function gv(t){const e=st.indexOf(t);e>Ht&&st.splice(e,1)}function mv(t){K(t)?As.push(...t):(!Zt||!Zt.includes(t,t.allowRecurse?Kn+1:Kn))&&As.push(t),_d()}function Nu(t,e=xr?Ht+1:0){for(;e<st.length;e++){const n=st[e];n&&n.pre&&(st.splice(e,1),e--,n())}}function Id(t){if(As.length){const e=[...new Set(As)];if(As.length=0,Zt){Zt.push(...e);return}for(Zt=e,Zt.sort((n,s)=>kr(n)-kr(s)),Kn=0;Kn<Zt.length;Kn++)Zt[Kn]();Zt=null,Kn=0}}const kr=t=>t.id==null?1/0:t.id,yv=(t,e)=>{const n=kr(t)-kr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Td(t){Qa=!1,xr=!0,st.sort(yv);const e=Ot;try{for(Ht=0;Ht<st.length;Ht++){const n=st[Ht];n&&n.active!==!1&&Cn(n,null,14)}}finally{Ht=0,st.length=0,Id(),xr=!1,sc=null,(st.length||As.length)&&Td()}}function vv(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||be;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||be;f&&(r=n.map(p=>$e(p)?p.trim():p)),h&&(r=n.map(Ha))}let a,l=s[a=aa(e)]||s[a=aa(Ns(e))];!l&&i&&(l=s[a=aa(Ks(e))]),l&&At(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,At(c,t,6,r)}}function Cd(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Cd(c,e,!0);u&&(a=!0,Fe(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Te(t)&&s.set(t,null),null):(K(i)?i.forEach(l=>o[l]=null):Fe(o,i),Te(t)&&s.set(t,o),o)}function _o(t,e){return!t||!yo(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,Ks(e))||se(t,e))}let St=null,Sd=null;function ji(t){const e=St;return St=t,Sd=t&&t.type.__scopeId||null,e}function It(t,e=St,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Hu(-1);const i=ji(e);let o;try{o=t(...r)}finally{ji(i),s._d&&Hu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function la(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:v}=t;let b,A;const N=ji(t);try{if(n.shapeFlag&4){const M=r||s;b=Vt(u.call(M,M,h,i,p,f,m)),A=l}else{const M=e;b=Vt(M.length>1?M(i,{attrs:l,slots:a,emit:c}):M(i,null)),A=e.props?l:wv(l)}}catch(M){mr.length=0,bo(M,t,1),b=me(Mt)}let V=b;if(A&&v!==!1){const M=Object.keys(A),{shapeFlag:ie}=V;M.length&&ie&7&&(o&&M.some(ql)&&(A=Ev(A,o)),V=on(V,A))}return n.dirs&&(V=on(V),V.dirs=V.dirs?V.dirs.concat(n.dirs):n.dirs),n.transition&&(V.transition=n.transition),b=V,ji(N),b}const wv=t=>{let e;for(const n in t)(n==="class"||n==="style"||yo(n))&&((e||(e={}))[n]=t[n]);return e},Ev=(t,e)=>{const n={};for(const s in t)(!ql(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function bv(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Pu(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!_o(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Pu(s,o,c):!0:!!o;return!1}function Pu(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!_o(n,i))return!0}return!1}function _v({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Iv=t=>t.__isSuspense;function Tv(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):mv(t)}function Gr(t,e){return ic(t,null,e)}const vi={};function Ri(t,e,n){return ic(t,e,n)}function ic(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=be){var a;const l=Oy()===((a=Ye)==null?void 0:a.scope)?Ye:null;let c,u=!1,h=!1;if(it(t)?(c=()=>t.value,u=Vi(t)):Ss(t)?(c=()=>t,s=!0):K(t)?(h=!0,u=t.some(M=>Ss(M)||Vi(M)),c=()=>t.map(M=>{if(it(M))return M.value;if(Ss(M))return Qn(M);if(Z(M))return Cn(M,l,2)})):Z(t)?e?c=()=>Cn(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),At(t,l,3,[p])}:c=Ot,e&&s){const M=c;c=()=>Qn(M())}let f,p=M=>{f=N.onStop=()=>{Cn(M,l,4)}},m;if(Rr)if(p=Ot,e?n&&At(e,l,3,[c(),h?[]:void 0,p]):c(),r==="sync"){const M=v0();m=M.__watcherHandles||(M.__watcherHandles=[])}else return Ot;let v=h?new Array(t.length).fill(vi):vi;const b=()=>{if(!!N.active)if(e){const M=N.run();(s||u||(h?M.some((ie,Ce)=>Sr(ie,v[Ce])):Sr(M,v)))&&(f&&f(),At(e,l,3,[M,v===vi?void 0:h&&v[0]===vi?[]:v,p]),v=M)}else N.run()};b.allowRecurse=!!e;let A;r==="sync"?A=b:r==="post"?A=()=>pt(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),A=()=>rc(b));const N=new Yl(c,A);e?n?b():v=N.run():r==="post"?pt(N.run.bind(N),l&&l.suspense):N.run();const V=()=>{N.stop(),l&&l.scope&&zl(l.scope.effects,N)};return m&&m.push(V),V}function Cv(t,e,n){const s=this.proxy,r=$e(t)?t.includes(".")?Ad(s,t):()=>s[t]:t.bind(s,s);let i;Z(e)?i=e:(i=e.handler,n=e);const o=Ye;Os(this);const a=ic(r,i.bind(s),n);return o?Os(o):ts(),a}function Ad(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Qn(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),it(t))Qn(t.value,e);else if(K(t))for(let n=0;n<t.length;n++)Qn(t[n],e);else if(Xf(t)||Cs(t))t.forEach(n=>{Qn(n,e)});else if(ed(t))for(const n in t)Qn(t[n],e);return t}function nr(t,e){const n=St;if(n===null)return t;const s=Ao(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=be]=e[i];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Qn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Vn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Gs(),At(l,n,8,[t.el,a,t,e]),Ws())}}function Sv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{t.isMounted=!0}),Nd(()=>{t.isUnmounting=!0}),t}const _t=[Function,Array],xd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_t,onEnter:_t,onAfterEnter:_t,onEnterCancelled:_t,onBeforeLeave:_t,onLeave:_t,onAfterLeave:_t,onLeaveCancelled:_t,onBeforeAppear:_t,onAppear:_t,onAfterAppear:_t,onAppearCancelled:_t},Av={name:"BaseTransition",props:xd,setup(t,{slots:e}){const n=h0(),s=Sv();let r;return()=>{const i=e.default&&Dd(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const v of i)if(v.type!==Mt){o=v;break}}const a=re(t),{mode:l}=a;if(s.isLeaving)return ca(o);const c=Ou(o);if(!c)return ca(o);const u=Ya(c,a,s,n);Xa(c,u);const h=n.subTree,f=h&&Ou(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const v=m();r===void 0?r=v:v!==r&&(r=v,p=!0)}if(f&&f.type!==Mt&&(!Gn(c,f)||p)){const v=Ya(f,a,s,n);if(Xa(f,v),l==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},ca(o);l==="in-out"&&c.type!==Mt&&(v.delayLeave=(b,A,N)=>{const V=kd(s,f);V[String(f.key)]=f,b._leaveCb=()=>{A(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=N})}return o}}},xv=Av;function kd(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Ya(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:A,onAppearCancelled:N}=e,V=String(t.key),M=kd(n,t),ie=(X,de)=>{X&&At(X,s,9,de)},Ce=(X,de)=>{const pe=de[1];ie(X,de),K(X)?X.every(Ue=>Ue.length<=1)&&pe():X.length<=1&&pe()},Be={mode:i,persisted:o,beforeEnter(X){let de=a;if(!n.isMounted)if(r)de=v||a;else return;X._leaveCb&&X._leaveCb(!0);const pe=M[V];pe&&Gn(t,pe)&&pe.el._leaveCb&&pe.el._leaveCb(),ie(de,[X])},enter(X){let de=l,pe=c,Ue=u;if(!n.isMounted)if(r)de=b||l,pe=A||c,Ue=N||u;else return;let B=!1;const ue=X._enterCb=ut=>{B||(B=!0,ut?ie(Ue,[X]):ie(pe,[X]),Be.delayedLeave&&Be.delayedLeave(),X._enterCb=void 0)};de?Ce(de,[X,ue]):ue()},leave(X,de){const pe=String(t.key);if(X._enterCb&&X._enterCb(!0),n.isUnmounting)return de();ie(h,[X]);let Ue=!1;const B=X._leaveCb=ue=>{Ue||(Ue=!0,de(),ue?ie(m,[X]):ie(p,[X]),X._leaveCb=void 0,M[pe]===t&&delete M[pe])};M[pe]=t,f?Ce(f,[X,B]):B()},clone(X){return Ya(X,e,n,s)}};return Be}function ca(t){if(Io(t))return t=on(t),t.children=null,t}function Ou(t){return Io(t)?t.children?t.children[0]:void 0:t}function Xa(t,e){t.shapeFlag&6&&t.component?Xa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Dd(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===We?(o.patchFlag&128&&r++,s=s.concat(Dd(o.children,e,a))):(e||o.type!==Mt)&&s.push(a!=null?on(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function dn(t,e){return Z(t)?(()=>Fe({name:t.name},e,{setup:t}))():t}const Ni=t=>!!t.type.__asyncLoader,Io=t=>t.type.__isKeepAlive;function kv(t,e){Rd(t,"a",e)}function Dv(t,e){Rd(t,"da",e)}function Rd(t,e,n=Ye){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(To(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Io(r.parent.vnode)&&Rv(s,e,n,r),r=r.parent}}function Rv(t,e,n,s){const r=To(e,t,s,!0);Wr(()=>{zl(s[e],r)},n)}function To(t,e,n=Ye,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Gs(),Os(n);const a=At(e,n,t,o);return ts(),Ws(),a});return s?r.unshift(i):r.push(i),i}}const pn=t=>(e,n=Ye)=>(!Rr||t==="sp")&&To(t,(...s)=>e(...s),n),Nv=pn("bm"),Nn=pn("m"),Pv=pn("bu"),Ov=pn("u"),Nd=pn("bum"),Wr=pn("um"),Mv=pn("sp"),Lv=pn("rtg"),Fv=pn("rtc");function $v(t,e=Ye){To("ec",t,e)}const Bv=Symbol.for("v-ndc");function Hi(t,e,n,s){let r;const i=n&&n[s];if(K(t)||$e(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}const Ja=t=>t?qd(t)?Ao(t)||t.proxy:Ja(t.parent):null,gr=Fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ja(t.parent),$root:t=>Ja(t.root),$emit:t=>t.emit,$options:t=>oc(t),$forceUpdate:t=>t.f||(t.f=()=>rc(t.update)),$nextTick:t=>t.n||(t.n=nn.bind(t.proxy)),$watch:t=>Cv.bind(t)}),ua=(t,e)=>t!==be&&!t.__isScriptSetup&&se(t,e),Uv={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ua(s,e))return o[e]=1,s[e];if(r!==be&&se(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&se(c,e))return o[e]=3,i[e];if(n!==be&&se(n,e))return o[e]=4,n[e];Za&&(o[e]=0)}}const u=gr[e];let h,f;if(u)return e==="$attrs"&&mt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&se(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,se(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ua(r,e)?(r[e]=n,!0):s!==be&&se(s,e)?(s[e]=n,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==be&&se(t,o)||ua(e,o)||(a=i[0])&&se(a,o)||se(s,o)||se(gr,o)||se(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Mu(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Za=!0;function Vv(t){const e=oc(t),n=t.proxy,s=t.ctx;Za=!1,e.beforeCreate&&Lu(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:v,deactivated:b,beforeDestroy:A,beforeUnmount:N,destroyed:V,unmounted:M,render:ie,renderTracked:Ce,renderTriggered:Be,errorCaptured:X,serverPrefetch:de,expose:pe,inheritAttrs:Ue,components:B,directives:ue,filters:ut}=e;if(c&&jv(c,s,null),o)for(const ye in o){const ae=o[ye];Z(ae)&&(s[ye]=ae.bind(n))}if(r){const ye=r.call(n,n);Te(ye)&&(t.data=Kr(ye))}if(Za=!0,i)for(const ye in i){const ae=i[ye],Xt=Z(ae)?ae.bind(n,n):Z(ae.get)?ae.get.bind(n,n):Ot,gn=!Z(ae)&&Z(ae.set)?ae.set.bind(n):Ot,$t=_e({get:Xt,set:gn});Object.defineProperty(s,ye,{enumerable:!0,configurable:!0,get:()=>$t.value,set:dt=>$t.value=dt})}if(a)for(const ye in a)Pd(a[ye],s,n,ye);if(l){const ye=Z(l)?l.call(n):l;Reflect.ownKeys(ye).forEach(ae=>{Sn(ae,ye[ae])})}u&&Lu(u,t,"c");function Re(ye,ae){K(ae)?ae.forEach(Xt=>ye(Xt.bind(n))):ae&&ye(ae.bind(n))}if(Re(Nv,h),Re(Nn,f),Re(Pv,p),Re(Ov,m),Re(kv,v),Re(Dv,b),Re($v,X),Re(Fv,Ce),Re(Lv,Be),Re(Nd,N),Re(Wr,M),Re(Mv,de),K(pe))if(pe.length){const ye=t.exposed||(t.exposed={});pe.forEach(ae=>{Object.defineProperty(ye,ae,{get:()=>n[ae],set:Xt=>n[ae]=Xt})})}else t.exposed||(t.exposed={});ie&&t.render===Ot&&(t.render=ie),Ue!=null&&(t.inheritAttrs=Ue),B&&(t.components=B),ue&&(t.directives=ue)}function jv(t,e,n=Ot){K(t)&&(t=el(t));for(const s in t){const r=t[s];let i;Te(r)?"default"in r?i=wt(r.from||s,r.default,!0):i=wt(r.from||s):i=wt(r),it(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Lu(t,e,n){At(K(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pd(t,e,n,s){const r=s.includes(".")?Ad(n,s):()=>n[s];if($e(t)){const i=e[t];Z(i)&&Ri(r,i)}else if(Z(t))Ri(r,t.bind(n));else if(Te(t))if(K(t))t.forEach(i=>Pd(i,e,n,s));else{const i=Z(t.handler)?t.handler.bind(n):e[t.handler];Z(i)&&Ri(r,i,t)}}function oc(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>qi(l,c,o,!0)),qi(l,e,o)),Te(e)&&i.set(e,l),l}function qi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&qi(t,i,n,!0),r&&r.forEach(o=>qi(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Hv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Hv={data:Fu,props:$u,emits:$u,methods:cr,computed:cr,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:cr,directives:cr,watch:zv,provide:Fu,inject:qv};function Fu(t,e){return e?t?function(){return Fe(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function qv(t,e){return cr(el(t),el(e))}function el(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ht(t,e){return t?[...new Set([].concat(t,e))]:e}function cr(t,e){return t?Fe(Object.create(null),t,e):e}function $u(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:Fe(Object.create(null),Mu(t),Mu(e!=null?e:{})):e}function zv(t,e){if(!t)return e;if(!e)return t;const n=Fe(Object.create(null),t);for(const s in e)n[s]=ht(t[s],e[s]);return n}function Od(){return{app:null,config:{isNativeTag:wy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kv=0;function Gv(t,e){return function(s,r=null){Z(s)||(s=Fe({},s)),r!=null&&!Te(r)&&(r=null);const i=Od(),o=new Set;let a=!1;const l=i.app={_uid:Kv++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:w0,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=me(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Ao(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){zi=l;try{return c()}finally{zi=null}}};return l}}let zi=null;function Sn(t,e){if(Ye){let n=Ye.provides;const s=Ye.parent&&Ye.parent.provides;s===n&&(n=Ye.provides=Object.create(s)),n[t]=e}}function wt(t,e,n=!1){const s=Ye||St;if(s||zi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:zi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Z(e)?e.call(s&&s.proxy):e}}function Wv(t,e,n,s=!1){const r={},i={};Ui(i,So,1),t.propsDefaults=Object.create(null),Md(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:av(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Qv(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=re(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(_o(t.emitsOptions,f))continue;const p=e[f];if(l)if(se(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const m=Ns(f);r[m]=tl(l,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{Md(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=Ks(h))===h||!se(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=tl(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!se(e,h)&&!0)&&(delete i[h],c=!0)}c&&rn(t,"set","$attrs")}function Md(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ki(l))continue;const c=e[l];let u;r&&se(r,u=Ns(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:_o(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=re(n),c=a||be;for(let u=0;u<i.length;u++){const h=i[u];n[h]=tl(r,l,h,c[h],t,!se(c,h))}}return o}function tl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Os(r),s=c[n]=l.call(null,e),ts())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Ks(n))&&(s=!0))}return s}function Ld(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=h=>{l=!0;const[f,p]=Ld(h,e,!0);Fe(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Te(t)&&s.set(t,Ts),Ts;if(K(i))for(let u=0;u<i.length;u++){const h=Ns(i[u]);Bu(h)&&(o[h]=be)}else if(i)for(const u in i){const h=Ns(u);if(Bu(h)){const f=i[u],p=o[h]=K(f)||Z(f)?{type:f}:Fe({},f);if(p){const m=ju(Boolean,p.type),v=ju(String,p.type);p[0]=m>-1,p[1]=v<0||m<v,(m>-1||se(p,"default"))&&a.push(h)}}}const c=[o,a];return Te(t)&&s.set(t,c),c}function Bu(t){return t[0]!=="$"}function Uu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Vu(t,e){return Uu(t)===Uu(e)}function ju(t,e){return K(e)?e.findIndex(n=>Vu(n,t)):Z(e)&&Vu(e,t)?0:-1}const Fd=t=>t[0]==="_"||t==="$stable",ac=t=>K(t)?t.map(Vt):[Vt(t)],Yv=(t,e,n)=>{if(e._n)return e;const s=It((...r)=>ac(e(...r)),n);return s._c=!1,s},$d=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Fd(r))continue;const i=t[r];if(Z(i))e[r]=Yv(r,i,s);else if(i!=null){const o=ac(i);e[r]=()=>o}}},Bd=(t,e)=>{const n=ac(e);t.slots.default=()=>n},Xv=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=re(e),Ui(e,"_",n)):$d(e,t.slots={})}else t.slots={},e&&Bd(t,e);Ui(t.slots,So,1)},Jv=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=be;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Fe(r,e),!n&&a===1&&delete r._):(i=!e.$stable,$d(e,r)),o=e}else e&&(Bd(t,e),o={default:1});if(i)for(const a in r)!Fd(a)&&!(a in o)&&delete r[a]};function nl(t,e,n,s,r=!1){if(K(t)){t.forEach((f,p)=>nl(f,e&&(K(e)?e[p]:e),n,s,r));return}if(Ni(s)&&!r)return;const i=s.shapeFlag&4?Ao(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===be?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&($e(c)?(u[c]=null,se(h,c)&&(h[c]=null)):it(c)&&(c.value=null)),Z(l))Cn(l,a,12,[o,u]);else{const f=$e(l),p=it(l);if(f||p){const m=()=>{if(t.f){const v=f?se(h,l)?h[l]:u[l]:l.value;r?K(v)&&zl(v,i):K(v)?v.includes(i)||v.push(i):f?(u[l]=[i],se(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,se(h,l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,pt(m,n)):m()}}}const pt=Tv;function Zv(t){return e0(t)}function e0(t,e){const n=qa();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=Ot,insertStaticContent:m}=t,v=(d,g,y,w=null,_=null,I=null,O=!1,x=null,D=!!g.dynamicChildren)=>{if(d===g)return;d&&!Gn(d,g)&&(w=E(d),dt(d,_,I,!0),d=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:C,ref:j,shapeFlag:F}=g;switch(C){case Co:b(d,g,y,w);break;case Mt:A(d,g,y,w);break;case Pi:d==null&&N(g,y,w,O);break;case We:B(d,g,y,w,_,I,O,x,D);break;default:F&1?ie(d,g,y,w,_,I,O,x,D):F&6?ue(d,g,y,w,_,I,O,x,D):(F&64||F&128)&&C.process(d,g,y,w,_,I,O,x,D,R)}j!=null&&_&&nl(j,d&&d.ref,I,g||d,!g)},b=(d,g,y,w)=>{if(d==null)s(g.el=a(g.children),y,w);else{const _=g.el=d.el;g.children!==d.children&&c(_,g.children)}},A=(d,g,y,w)=>{d==null?s(g.el=l(g.children||""),y,w):g.el=d.el},N=(d,g,y,w)=>{[d.el,d.anchor]=m(d.children,g,y,w,d.el,d.anchor)},V=({el:d,anchor:g},y,w)=>{let _;for(;d&&d!==g;)_=f(d),s(d,y,w),d=_;s(g,y,w)},M=({el:d,anchor:g})=>{let y;for(;d&&d!==g;)y=f(d),r(d),d=y;r(g)},ie=(d,g,y,w,_,I,O,x,D)=>{O=O||g.type==="svg",d==null?Ce(g,y,w,_,I,O,x,D):de(d,g,_,I,O,x,D)},Ce=(d,g,y,w,_,I,O,x)=>{let D,C;const{type:j,props:F,shapeFlag:H,transition:Q,dirs:ee}=d;if(D=d.el=o(d.type,I,F&&F.is,F),H&8?u(D,d.children):H&16&&X(d.children,D,null,w,_,I&&j!=="foreignObject",O,x),ee&&Vn(d,null,w,"created"),Be(D,d,d.scopeId,O,w),F){for(const ge in F)ge!=="value"&&!ki(ge)&&i(D,ge,null,F[ge],I,d.children,w,_,Je);"value"in F&&i(D,"value",null,F.value),(C=F.onVnodeBeforeMount)&&Ut(C,w,d)}ee&&Vn(d,null,w,"beforeMount");const Ee=(!_||_&&!_.pendingBranch)&&Q&&!Q.persisted;Ee&&Q.beforeEnter(D),s(D,g,y),((C=F&&F.onVnodeMounted)||Ee||ee)&&pt(()=>{C&&Ut(C,w,d),Ee&&Q.enter(D),ee&&Vn(d,null,w,"mounted")},_)},Be=(d,g,y,w,_)=>{if(y&&p(d,y),w)for(let I=0;I<w.length;I++)p(d,w[I]);if(_){let I=_.subTree;if(g===I){const O=_.vnode;Be(d,O,O.scopeId,O.slotScopeIds,_.parent)}}},X=(d,g,y,w,_,I,O,x,D=0)=>{for(let C=D;C<d.length;C++){const j=d[C]=x?En(d[C]):Vt(d[C]);v(null,j,g,y,w,_,I,O,x)}},de=(d,g,y,w,_,I,O)=>{const x=g.el=d.el;let{patchFlag:D,dynamicChildren:C,dirs:j}=g;D|=d.patchFlag&16;const F=d.props||be,H=g.props||be;let Q;y&&jn(y,!1),(Q=H.onVnodeBeforeUpdate)&&Ut(Q,y,g,d),j&&Vn(g,d,y,"beforeUpdate"),y&&jn(y,!0);const ee=_&&g.type!=="foreignObject";if(C?pe(d.dynamicChildren,C,x,y,w,ee,I):O||ae(d,g,x,null,y,w,ee,I,!1),D>0){if(D&16)Ue(x,g,F,H,y,w,_);else if(D&2&&F.class!==H.class&&i(x,"class",null,H.class,_),D&4&&i(x,"style",F.style,H.style,_),D&8){const Ee=g.dynamicProps;for(let ge=0;ge<Ee.length;ge++){const Pe=Ee[ge],kt=F[Pe],ms=H[Pe];(ms!==kt||Pe==="value")&&i(x,Pe,kt,ms,_,d.children,y,w,Je)}}D&1&&d.children!==g.children&&u(x,g.children)}else!O&&C==null&&Ue(x,g,F,H,y,w,_);((Q=H.onVnodeUpdated)||j)&&pt(()=>{Q&&Ut(Q,y,g,d),j&&Vn(g,d,y,"updated")},w)},pe=(d,g,y,w,_,I,O)=>{for(let x=0;x<g.length;x++){const D=d[x],C=g[x],j=D.el&&(D.type===We||!Gn(D,C)||D.shapeFlag&70)?h(D.el):y;v(D,C,j,null,w,_,I,O,!0)}},Ue=(d,g,y,w,_,I,O)=>{if(y!==w){if(y!==be)for(const x in y)!ki(x)&&!(x in w)&&i(d,x,y[x],null,O,g.children,_,I,Je);for(const x in w){if(ki(x))continue;const D=w[x],C=y[x];D!==C&&x!=="value"&&i(d,x,C,D,O,g.children,_,I,Je)}"value"in w&&i(d,"value",y.value,w.value)}},B=(d,g,y,w,_,I,O,x,D)=>{const C=g.el=d?d.el:a(""),j=g.anchor=d?d.anchor:a("");let{patchFlag:F,dynamicChildren:H,slotScopeIds:Q}=g;Q&&(x=x?x.concat(Q):Q),d==null?(s(C,y,w),s(j,y,w),X(g.children,y,j,_,I,O,x,D)):F>0&&F&64&&H&&d.dynamicChildren?(pe(d.dynamicChildren,H,y,_,I,O,x),(g.key!=null||_&&g===_.subTree)&&Ud(d,g,!0)):ae(d,g,y,j,_,I,O,x,D)},ue=(d,g,y,w,_,I,O,x,D)=>{g.slotScopeIds=x,d==null?g.shapeFlag&512?_.ctx.activate(g,y,w,O,D):ut(g,y,w,_,I,O,D):Yt(d,g,D)},ut=(d,g,y,w,_,I,O)=>{const x=d.component=u0(d,w,_);if(Io(d)&&(x.ctx.renderer=R),f0(x),x.asyncDep){if(_&&_.registerDep(x,Re),!d.el){const D=x.subTree=me(Mt);A(null,D,g,y)}return}Re(x,d,g,y,_,I,O)},Yt=(d,g,y)=>{const w=g.component=d.component;if(bv(d,g,y))if(w.asyncDep&&!w.asyncResolved){ye(w,g,y);return}else w.next=g,gv(w.update),w.update();else g.el=d.el,w.vnode=g},Re=(d,g,y,w,_,I,O)=>{const x=()=>{if(d.isMounted){let{next:j,bu:F,u:H,parent:Q,vnode:ee}=d,Ee=j,ge;jn(d,!1),j?(j.el=ee.el,ye(d,j,O)):j=ee,F&&Di(F),(ge=j.props&&j.props.onVnodeBeforeUpdate)&&Ut(ge,Q,j,ee),jn(d,!0);const Pe=la(d),kt=d.subTree;d.subTree=Pe,v(kt,Pe,h(kt.el),E(kt),d,_,I),j.el=Pe.el,Ee===null&&_v(d,Pe.el),H&&pt(H,_),(ge=j.props&&j.props.onVnodeUpdated)&&pt(()=>Ut(ge,Q,j,ee),_)}else{let j;const{el:F,props:H}=g,{bm:Q,m:ee,parent:Ee}=d,ge=Ni(g);if(jn(d,!1),Q&&Di(Q),!ge&&(j=H&&H.onVnodeBeforeMount)&&Ut(j,Ee,g),jn(d,!0),F&&le){const Pe=()=>{d.subTree=la(d),le(F,d.subTree,d,_,null)};ge?g.type.__asyncLoader().then(()=>!d.isUnmounted&&Pe()):Pe()}else{const Pe=d.subTree=la(d);v(null,Pe,y,w,d,_,I),g.el=Pe.el}if(ee&&pt(ee,_),!ge&&(j=H&&H.onVnodeMounted)){const Pe=g;pt(()=>Ut(j,Ee,Pe),_)}(g.shapeFlag&256||Ee&&Ni(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&d.a&&pt(d.a,_),d.isMounted=!0,g=y=w=null}},D=d.effect=new Yl(x,()=>rc(C),d.scope),C=d.update=()=>D.run();C.id=d.uid,jn(d,!0),C()},ye=(d,g,y)=>{g.component=d;const w=d.vnode.props;d.vnode=g,d.next=null,Qv(d,g.props,w,y),Jv(d,g.children,y),Gs(),Nu(),Ws()},ae=(d,g,y,w,_,I,O,x,D=!1)=>{const C=d&&d.children,j=d?d.shapeFlag:0,F=g.children,{patchFlag:H,shapeFlag:Q}=g;if(H>0){if(H&128){gn(C,F,y,w,_,I,O,x,D);return}else if(H&256){Xt(C,F,y,w,_,I,O,x,D);return}}Q&8?(j&16&&Je(C,_,I),F!==C&&u(y,F)):j&16?Q&16?gn(C,F,y,w,_,I,O,x,D):Je(C,_,I,!0):(j&8&&u(y,""),Q&16&&X(F,y,w,_,I,O,x,D))},Xt=(d,g,y,w,_,I,O,x,D)=>{d=d||Ts,g=g||Ts;const C=d.length,j=g.length,F=Math.min(C,j);let H;for(H=0;H<F;H++){const Q=g[H]=D?En(g[H]):Vt(g[H]);v(d[H],Q,y,null,_,I,O,x,D)}C>j?Je(d,_,I,!0,!1,F):X(g,y,w,_,I,O,x,D,F)},gn=(d,g,y,w,_,I,O,x,D)=>{let C=0;const j=g.length;let F=d.length-1,H=j-1;for(;C<=F&&C<=H;){const Q=d[C],ee=g[C]=D?En(g[C]):Vt(g[C]);if(Gn(Q,ee))v(Q,ee,y,null,_,I,O,x,D);else break;C++}for(;C<=F&&C<=H;){const Q=d[F],ee=g[H]=D?En(g[H]):Vt(g[H]);if(Gn(Q,ee))v(Q,ee,y,null,_,I,O,x,D);else break;F--,H--}if(C>F){if(C<=H){const Q=H+1,ee=Q<j?g[Q].el:w;for(;C<=H;)v(null,g[C]=D?En(g[C]):Vt(g[C]),y,ee,_,I,O,x,D),C++}}else if(C>H)for(;C<=F;)dt(d[C],_,I,!0),C++;else{const Q=C,ee=C,Ee=new Map;for(C=ee;C<=H;C++){const yt=g[C]=D?En(g[C]):Vt(g[C]);yt.key!=null&&Ee.set(yt.key,C)}let ge,Pe=0;const kt=H-ee+1;let ms=!1,bu=0;const tr=new Array(kt);for(C=0;C<kt;C++)tr[C]=0;for(C=Q;C<=F;C++){const yt=d[C];if(Pe>=kt){dt(yt,_,I,!0);continue}let Bt;if(yt.key!=null)Bt=Ee.get(yt.key);else for(ge=ee;ge<=H;ge++)if(tr[ge-ee]===0&&Gn(yt,g[ge])){Bt=ge;break}Bt===void 0?dt(yt,_,I,!0):(tr[Bt-ee]=C+1,Bt>=bu?bu=Bt:ms=!0,v(yt,g[Bt],y,null,_,I,O,x,D),Pe++)}const _u=ms?t0(tr):Ts;for(ge=_u.length-1,C=kt-1;C>=0;C--){const yt=ee+C,Bt=g[yt],Iu=yt+1<j?g[yt+1].el:w;tr[C]===0?v(null,Bt,y,Iu,_,I,O,x,D):ms&&(ge<0||C!==_u[ge]?$t(Bt,y,Iu,2):ge--)}}},$t=(d,g,y,w,_=null)=>{const{el:I,type:O,transition:x,children:D,shapeFlag:C}=d;if(C&6){$t(d.component.subTree,g,y,w);return}if(C&128){d.suspense.move(g,y,w);return}if(C&64){O.move(d,g,y,R);return}if(O===We){s(I,g,y);for(let F=0;F<D.length;F++)$t(D[F],g,y,w);s(d.anchor,g,y);return}if(O===Pi){V(d,g,y);return}if(w!==2&&C&1&&x)if(w===0)x.beforeEnter(I),s(I,g,y),pt(()=>x.enter(I),_);else{const{leave:F,delayLeave:H,afterLeave:Q}=x,ee=()=>s(I,g,y),Ee=()=>{F(I,()=>{ee(),Q&&Q()})};H?H(I,ee,Ee):Ee()}else s(I,g,y)},dt=(d,g,y,w=!1,_=!1)=>{const{type:I,props:O,ref:x,children:D,dynamicChildren:C,shapeFlag:j,patchFlag:F,dirs:H}=d;if(x!=null&&nl(x,null,y,d,!0),j&256){g.ctx.deactivate(d);return}const Q=j&1&&H,ee=!Ni(d);let Ee;if(ee&&(Ee=O&&O.onVnodeBeforeUnmount)&&Ut(Ee,g,d),j&6)fi(d.component,y,w);else{if(j&128){d.suspense.unmount(y,w);return}Q&&Vn(d,null,g,"beforeUnmount"),j&64?d.type.remove(d,g,y,_,R,w):C&&(I!==We||F>0&&F&64)?Je(C,g,y,!1,!0):(I===We&&F&384||!_&&j&16)&&Je(D,g,y),w&&ps(d)}(ee&&(Ee=O&&O.onVnodeUnmounted)||Q)&&pt(()=>{Ee&&Ut(Ee,g,d),Q&&Vn(d,null,g,"unmounted")},y)},ps=d=>{const{type:g,el:y,anchor:w,transition:_}=d;if(g===We){gs(y,w);return}if(g===Pi){M(d);return}const I=()=>{r(y),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:O,delayLeave:x}=_,D=()=>O(y,I);x?x(d.el,I,D):D()}else I()},gs=(d,g)=>{let y;for(;d!==g;)y=f(d),r(d),d=y;r(g)},fi=(d,g,y)=>{const{bum:w,scope:_,update:I,subTree:O,um:x}=d;w&&Di(w),_.stop(),I&&(I.active=!1,dt(O,d,g,y)),x&&pt(x,g),pt(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Je=(d,g,y,w=!1,_=!1,I=0)=>{for(let O=I;O<d.length;O++)dt(d[O],g,y,w,_)},E=d=>d.shapeFlag&6?E(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),L=(d,g,y)=>{d==null?g._vnode&&dt(g._vnode,null,null,!0):v(g._vnode||null,d,g,null,null,null,y),Nu(),Id(),g._vnode=d},R={p:v,um:dt,m:$t,r:ps,mt:ut,mc:X,pc:ae,pbc:pe,n:E,o:t};let U,le;return e&&([U,le]=e(R)),{render:L,hydrate:U,createApp:Gv(L,U)}}function jn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ud(t,e,n=!1){const s=t.children,r=e.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=En(r[i]),a.el=o.el),n||Ud(o,a)),a.type===Co&&(a.el=o.el)}}function t0(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const n0=t=>t.__isTeleport,We=Symbol.for("v-fgt"),Co=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Pi=Symbol.for("v-stc"),mr=[];let Nt=null;function Le(t=!1){mr.push(Nt=t?null:[])}function s0(){mr.pop(),Nt=mr[mr.length-1]||null}let Dr=1;function Hu(t){Dr+=t}function Vd(t){return t.dynamicChildren=Dr>0?Nt||Ts:null,s0(),Dr>0&&Nt&&Nt.push(t),t}function tt(t,e,n,s,r,i){return Vd(k(t,e,n,s,r,i,!0))}function Oi(t,e,n,s,r){return Vd(me(t,e,n,s,r,!0))}function sl(t){return t?t.__v_isVNode===!0:!1}function Gn(t,e){return t.type===e.type&&t.key===e.key}const So="__vInternal",jd=({key:t})=>t!=null?t:null,Mi=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$e(t)||it(t)||Z(t)?{i:St,r:t,k:e,f:!!n}:t:null);function k(t,e=null,n=null,s=0,r=null,i=t===We?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jd(e),ref:e&&Mi(e),scopeId:Sd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:St};return a?(cc(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),Dr>0&&!o&&Nt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Nt.push(l),l}const me=r0;function r0(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Bv)&&(t=Mt),sl(t)){const a=on(t,e,!0);return n&&cc(a,n),Dr>0&&!i&&Nt&&(a.shapeFlag&6?Nt[Nt.indexOf(t)]=a:Nt.push(a)),a.patchFlag|=-2,a}if(m0(t)&&(t=t.__vccOpts),e){e=i0(e);let{class:a,style:l}=e;a&&!$e(a)&&(e.class=_n(a)),Te(l)&&(md(l)&&!K(l)&&(l=Fe({},l)),e.style=Wl(l))}const o=$e(t)?1:Iv(t)?128:n0(t)?64:Te(t)?4:Z(t)?2:0;return k(t,e,n,s,r,o,i,!0)}function i0(t){return t?md(t)||So in t?Fe({},t):t:null}function on(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?a0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&jd(a),ref:e&&e.ref?n&&r?K(r)?r.concat(Mi(e)):[r,Mi(e)]:Mi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==We?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&on(t.ssContent),ssFallback:t.ssFallback&&on(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function lc(t=" ",e=0){return me(Co,null,t,e)}function Hd(t,e){const n=me(Pi,null,t);return n.staticCount=e,n}function o0(t="",e=!1){return e?(Le(),Oi(Mt,null,t)):me(Mt,null,t)}function Vt(t){return t==null||typeof t=="boolean"?me(Mt):K(t)?me(We,null,t.slice()):typeof t=="object"?En(t):me(Co,null,String(t))}function En(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:on(t)}function cc(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),cc(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(So in e)?e._ctx=St:r===3&&St&&(St.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:St},n=32):(e=String(e),s&64?(n=16,e=[lc(e)]):n=8);t.children=e,t.shapeFlag|=n}function a0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=_n([e.class,s.class]));else if(r==="style")e.style=Wl([e.style,s.style]);else if(yo(r)){const i=e[r],o=s[r];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Ut(t,e,n,s=null){At(t,e,7,[n,s])}const l0=Od();let c0=0;function u0(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||l0,i={uid:c0++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new rd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ld(s,r),emitsOptions:Cd(s,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:s.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=vv.bind(null,i),t.ce&&t.ce(i),i}let Ye=null;const h0=()=>Ye||St;let uc,ys,qu="__VUE_INSTANCE_SETTERS__";(ys=qa()[qu])||(ys=qa()[qu]=[]),ys.push(t=>Ye=t),uc=t=>{ys.length>1?ys.forEach(e=>e(t)):ys[0](t)};const Os=t=>{uc(t),t.scope.on()},ts=()=>{Ye&&Ye.scope.off(),uc(null)};function qd(t){return t.vnode.shapeFlag&4}let Rr=!1;function f0(t,e=!1){Rr=e;const{props:n,children:s}=t.vnode,r=qd(t);Wv(t,n,r,e),Xv(t,s);const i=r?d0(t,e):void 0;return Rr=!1,i}function d0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=tc(new Proxy(t.ctx,Uv));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?g0(t):null;Os(t),Gs();const i=Cn(s,t,0,[t.props,r]);if(Ws(),ts(),Jf(i)){if(i.then(ts,ts),e)return i.then(o=>{zu(t,o,e)}).catch(o=>{bo(o,t,0)});t.asyncDep=i}else zu(t,i,e)}else zd(t,e)}function zu(t,e,n){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=Ed(e)),zd(t,n)}let Ku;function zd(t,e,n){const s=t.type;if(!t.render){if(!e&&Ku&&!s.render){const r=s.template||oc(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Fe(Fe({isCustomElement:i,delimiters:a},o),l);s.render=Ku(r,c)}}t.render=s.render||Ot}Os(t),Gs(),Vv(t),Ws(),ts()}function p0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mt(t,"get","$attrs"),e[n]}}))}function g0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return p0(t)},slots:t.slots,emit:t.emit,expose:e}}function Ao(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ed(tc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gr)return gr[n](t)},has(e,n){return n in e||n in gr}}))}function m0(t){return Z(t)&&"__vccOpts"in t}const _e=(t,e)=>fv(t,e,Rr);function xo(t,e,n){const s=arguments.length;return s===2?Te(e)&&!K(e)?sl(e)?me(t,null,[e]):me(t,e):me(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&sl(n)&&(n=[n]),me(t,e,n))}const y0=Symbol.for("v-scx"),v0=()=>wt(y0),w0="3.3.2",E0="http://www.w3.org/2000/svg",Wn=typeof document<"u"?document:null,Gu=Wn&&Wn.createElement("template"),b0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Wn.createElementNS(E0,t):Wn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Gu.innerHTML=s?`<svg>${t}</svg>`:t;const a=Gu.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function _0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function I0(t,e,n){const s=t.style,r=$e(n);if(n&&!r){if(e&&!$e(e))for(const i in e)n[i]==null&&rl(s,i,"");for(const i in n)rl(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Wu=/\s*!important$/;function rl(t,e,n){if(K(n))n.forEach(s=>rl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=T0(t,e);Wu.test(n)?t.setProperty(Ks(s),n.replace(Wu,""),"important"):t[s]=n}}const Qu=["Webkit","Moz","ms"],ha={};function T0(t,e){const n=ha[e];if(n)return n;let s=Ns(e);if(s!=="filter"&&s in t)return ha[e]=s;s=td(s);for(let r=0;r<Qu.length;r++){const i=Qu[r]+s;if(i in t)return ha[e]=i}return e}const Yu="http://www.w3.org/1999/xlink";function C0(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Yu,e.slice(6,e.length)):t.setAttributeNS(Yu,e,n);else{const i=Ry(e);n==null||i&&!nd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function S0(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n==null?"":n;c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=nd(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ws(t,e,n,s){t.addEventListener(e,n,s)}function A0(t,e,n,s){t.removeEventListener(e,n,s)}function x0(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=k0(e);if(s){const c=i[e]=N0(s,r);ws(t,a,c,l)}else o&&(A0(t,a,o,l),i[e]=void 0)}}const Xu=/(?:Once|Passive|Capture)$/;function k0(t){let e;if(Xu.test(t)){e={};let s;for(;s=t.match(Xu);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let fa=0;const D0=Promise.resolve(),R0=()=>fa||(D0.then(()=>fa=0),fa=Date.now());function N0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;At(P0(s,n.value),e,5,[s])};return n.value=t,n.attached=R0(),n}function P0(t,e){if(K(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Ju=/^on[a-z]/,O0=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?_0(t,s,r):e==="style"?I0(t,n,s):yo(e)?ql(e)||x0(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):M0(t,e,s,r))?S0(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),C0(t,e,s,r))};function M0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Ju.test(e)&&Z(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ju.test(e)&&$e(n)?!1:e in t}const yn="transition",sr="animation",hc=(t,{slots:e})=>xo(xv,L0(t),e);hc.displayName="Transition";const Kd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};hc.props=Fe({},xd,Kd);const Hn=(t,e=[])=>{K(t)?t.forEach(n=>n(...e)):t&&t(...e)},Zu=t=>t?K(t)?t.some(e=>e.length>1):t.length>1:!1;function L0(t){const e={};for(const B in t)B in Kd||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=F0(r),v=m&&m[0],b=m&&m[1],{onBeforeEnter:A,onEnter:N,onEnterCancelled:V,onLeave:M,onLeaveCancelled:ie,onBeforeAppear:Ce=A,onAppear:Be=N,onAppearCancelled:X=V}=e,de=(B,ue,ut)=>{qn(B,ue?u:a),qn(B,ue?c:o),ut&&ut()},pe=(B,ue)=>{B._isLeaving=!1,qn(B,h),qn(B,p),qn(B,f),ue&&ue()},Ue=B=>(ue,ut)=>{const Yt=B?Be:N,Re=()=>de(ue,B,ut);Hn(Yt,[ue,Re]),eh(()=>{qn(ue,B?l:i),vn(ue,B?u:a),Zu(Yt)||th(ue,s,v,Re)})};return Fe(e,{onBeforeEnter(B){Hn(A,[B]),vn(B,i),vn(B,o)},onBeforeAppear(B){Hn(Ce,[B]),vn(B,l),vn(B,c)},onEnter:Ue(!1),onAppear:Ue(!0),onLeave(B,ue){B._isLeaving=!0;const ut=()=>pe(B,ue);vn(B,h),U0(),vn(B,f),eh(()=>{!B._isLeaving||(qn(B,h),vn(B,p),Zu(M)||th(B,s,b,ut))}),Hn(M,[B,ut])},onEnterCancelled(B){de(B,!1),Hn(V,[B])},onAppearCancelled(B){de(B,!0),Hn(X,[B])},onLeaveCancelled(B){pe(B),Hn(ie,[B])}})}function F0(t){if(t==null)return null;if(Te(t))return[da(t.enter),da(t.leave)];{const e=da(t);return[e,e]}}function da(t){return Cy(t)}function vn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function qn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function eh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let $0=0;function th(t,e,n,s){const r=t._endId=++$0,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=B0(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=p=>{p.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function B0(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${yn}Delay`),i=s(`${yn}Duration`),o=nh(r,i),a=s(`${sr}Delay`),l=s(`${sr}Duration`),c=nh(a,l);let u=null,h=0,f=0;e===yn?o>0&&(u=yn,h=o,f=i.length):e===sr?c>0&&(u=sr,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?yn:sr:null,f=u?u===yn?i.length:l.length:0);const p=u===yn&&/\b(transform|all)(,|$)/.test(s(`${yn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:p}}function nh(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>sh(n)+sh(t[s])))}function sh(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function U0(){return document.body.offsetHeight}const rh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?n=>Di(e,n):e};function V0(t){t.target.composing=!0}function ih(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rr={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=rh(r);const i=s||r.props&&r.props.type==="number";ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ha(a)),t._assign(a)}),n&&ws(t,"change",()=>{t.value=t.value.trim()}),e||(ws(t,"compositionstart",V0),ws(t,"compositionend",ih),ws(t,"change",ih))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=rh(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Ha(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},j0=["ctrl","shift","alt","meta"],H0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>j0.some(n=>t[`${n}Key`]&&!e.includes(n))},q0=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=H0[e[r]];if(i&&i(n,e))return}return t(n,...s)},z0=Fe({patchProp:O0},b0);let oh;function K0(){return oh||(oh=Zv(z0))}const G0=(...t)=>{const e=K0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=W0(s);if(!r)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function W0(t){return $e(t)?document.querySelector(t):t}var Q0=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Y0=Symbol();var ah;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ah||(ah={}));function X0(){const t=Ny(!0),e=t.run(()=>ve({}));let n=[],s=[];const r=tc({install(i){r._a=i,i.provide(Y0,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!Q0?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof window<"u";function J0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const he=Object.assign;function pa(t,e){const n={};for(const s in e){const r=e[s];n[s]=Lt(r)?r.map(t):t(r)}return n}const yr=()=>{},Lt=Array.isArray,Z0=/\/$/,ew=t=>t.replace(Z0,"");function ga(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=rw(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function tw(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function lh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function nw(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Ms(e.matched[s],n.matched[r])&&Gd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ms(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Gd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sw(t[n],e[n]))return!1;return!0}function sw(t,e){return Lt(t)?ch(t,e):Lt(e)?ch(e,t):t===e}function ch(t,e){return Lt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function rw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var Nr;(function(t){t.pop="pop",t.push="push"})(Nr||(Nr={}));var vr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(vr||(vr={}));function iw(t){if(!t)if(Es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ew(t)}const ow=/^[^#]+#/;function aw(t,e){return t.replace(ow,"#")+e}function lw(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const ko=()=>({left:window.pageXOffset,top:window.pageYOffset});function cw(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=lw(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function uh(t,e){return(history.state?history.state.position-e:-1)+t}const il=new Map;function uw(t,e){il.set(t,e)}function hw(t){const e=il.get(t);return il.delete(t),e}let fw=()=>location.protocol+"//"+location.host;function Wd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),lh(l,"")}return lh(n,t)+s+r}function dw(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=Wd(t,location),m=n.value,v=e.value;let b=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}b=v?f.position-v.position:0}else s(p);r.forEach(A=>{A(n.value,m,{delta:b,type:Nr.pop,direction:b?b>0?vr.forward:vr.back:vr.unknown})})};function l(){o=n.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;!f.state||f.replaceState(he({},f.state,{scroll:ko()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function hh(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?ko():null}}function pw(t){const{history:e,location:n}=window,s={value:Wd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:fw()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(l,c){const u=he({},e.state,hh(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=he({},r.value,e.state,{forward:l,scroll:ko()});i(u.current,u,!0);const h=he({},hh(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function gw(t){t=iw(t);const e=pw(t),n=dw(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=he({location:"",base:t,go:s,createHref:aw.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function mw(t){return typeof t=="string"||t&&typeof t=="object"}function Qd(t){return typeof t=="string"||typeof t=="symbol"}const wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yd=Symbol("");var fh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(fh||(fh={}));function Ls(t,e){return he(new Error,{type:t,[Yd]:!0},e)}function Jt(t,e){return t instanceof Error&&Yd in t&&(e==null||!!(t.type&e))}const dh="[^/]+?",yw={sensitive:!1,strict:!1,start:!0,end:!0},vw=/[.+*?^${}()[\]/\\]/g;function ww(t,e){const n=he({},yw,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(vw,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:v,optional:b,regexp:A}=f;i.push({name:m,repeatable:v,optional:b});const N=A||dh;if(N!==dh){p+=10;try{new RegExp(`(${N})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${m}" (${N}): `+M.message)}}let V=v?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;h||(V=b&&c.length<2?`(?:/${V})`:"/"+V),b&&(V+="?"),r+=V,p+=20,b&&(p+=-8),v&&(p+=-20),N===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:v,optional:b}=p,A=m in c?c[m]:"";if(Lt(A)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const N=Lt(A)?A.join("/"):A;if(!N)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=N}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Ew(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function bw(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Ew(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(ph(s))return 1;if(ph(r))return-1}return r.length-s.length}function ph(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _w={type:0,value:""},Iw=/[a-zA-Z0-9_]/;function Tw(t){if(!t)return[[]];if(t==="/")return[[_w]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Iw.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Cw(t,e,n){const s=ww(Tw(t.path),n),r=he(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Sw(t,e){const n=[],s=new Map;e=yh({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=Aw(u);m.aliasOf=f&&f.record;const v=yh(e,u),b=[m];if("alias"in u){const V=typeof u.alias=="string"?[u.alias]:u.alias;for(const M of V)b.push(he({},m,{components:f?f.record.components:m.components,path:M,aliasOf:f?f.record:m}))}let A,N;for(const V of b){const{path:M}=V;if(h&&M[0]!=="/"){const ie=h.record.path,Ce=ie[ie.length-1]==="/"?"":"/";V.path=h.record.path+(M&&Ce+M)}if(A=Cw(V,h,v),f?f.alias.push(A):(N=N||A,N!==A&&N.alias.push(A),p&&u.name&&!mh(A)&&o(u.name)),m.children){const ie=m.children;for(let Ce=0;Ce<ie.length;Ce++)i(ie[Ce],A,f&&f.children[Ce])}f=f||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return N?()=>{o(N)}:yr}function o(u){if(Qd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&bw(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Xd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!mh(u)&&s.set(u.record.name,u)}function c(u,h){let f,p={},m,v;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Ls(1,{location:u});v=f.record.name,p=he(gh(h.params,f.keys.filter(N=>!N.optional).map(N=>N.name)),u.params&&gh(u.params,f.keys.map(N=>N.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(N=>N.re.test(m)),f&&(p=f.parse(m),v=f.record.name);else{if(f=h.name?s.get(h.name):n.find(N=>N.re.test(h.path)),!f)throw Ls(1,{location:u,currentLocation:h});v=f.record.name,p=he({},h.params,u.params),m=f.stringify(p)}const b=[];let A=f;for(;A;)b.unshift(A.record),A=A.parent;return{name:v,path:m,params:p,matched:b,meta:kw(b)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function gh(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Aw(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:xw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function xw(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function mh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function kw(t){return t.reduce((e,n)=>he(e,n.meta),{})}function yh(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Xd(t,e){return e.children.some(n=>n===t||Xd(t,n))}const Jd=/#/g,Dw=/&/g,Rw=/\//g,Nw=/=/g,Pw=/\?/g,Zd=/\+/g,Ow=/%5B/g,Mw=/%5D/g,ep=/%5E/g,Lw=/%60/g,tp=/%7B/g,Fw=/%7C/g,np=/%7D/g,$w=/%20/g;function fc(t){return encodeURI(""+t).replace(Fw,"|").replace(Ow,"[").replace(Mw,"]")}function Bw(t){return fc(t).replace(tp,"{").replace(np,"}").replace(ep,"^")}function ol(t){return fc(t).replace(Zd,"%2B").replace($w,"+").replace(Jd,"%23").replace(Dw,"%26").replace(Lw,"`").replace(tp,"{").replace(np,"}").replace(ep,"^")}function Uw(t){return ol(t).replace(Nw,"%3D")}function Vw(t){return fc(t).replace(Jd,"%23").replace(Pw,"%3F")}function jw(t){return t==null?"":Vw(t).replace(Rw,"%2F")}function Ki(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Hw(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Zd," "),o=i.indexOf("="),a=Ki(o<0?i:i.slice(0,o)),l=o<0?null:Ki(i.slice(o+1));if(a in e){let c=e[a];Lt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function vh(t){let e="";for(let n in t){const s=t[n];if(n=Uw(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Lt(s)?s.map(i=>i&&ol(i)):[s&&ol(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function qw(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Lt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const zw=Symbol(""),wh=Symbol(""),dc=Symbol(""),sp=Symbol(""),al=Symbol("");function ir(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function bn(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ls(4,{from:n,to:e})):h instanceof Error?a(h):mw(h)?a(Ls(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function ma(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(Kw(a)){const c=(a.__vccOpts||a)[e];c&&r.push(bn(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=J0(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&bn(f,n,s,i,o)()}))}}return r}function Kw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Eh(t){const e=wt(dc),n=wt(sp),s=_e(()=>e.resolve(Ne(t.to))),r=_e(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Ms.bind(null,u));if(f>-1)return f;const p=bh(l[c-2]);return c>1&&bh(u)===p&&h[h.length-1].path!==p?h.findIndex(Ms.bind(null,l[c-2])):f}),i=_e(()=>r.value>-1&&Yw(n.params,s.value.params)),o=_e(()=>r.value>-1&&r.value===n.matched.length-1&&Gd(n.params,s.value.params));function a(l={}){return Qw(l)?e[Ne(t.replace)?"replace":"push"](Ne(t.to)).catch(yr):Promise.resolve()}return{route:s,href:_e(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const Gw=dn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Eh,setup(t,{slots:e}){const n=Kr(Eh(t)),{options:s}=wt(dc),r=_e(()=>({[_h(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[_h(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:xo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Ww=Gw;function Qw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yw(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Lt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function bh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _h=(t,e,n)=>t!=null?t:e!=null?e:n,Xw=dn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=wt(al),r=_e(()=>t.route||s.value),i=wt(wh,0),o=_e(()=>{let c=Ne(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=_e(()=>r.value.matched[o.value]);Sn(wh,_e(()=>o.value+1)),Sn(zw,a),Sn(al,r);const l=ve();return Ri(()=>[l.value,a.value,t.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Ms(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Ih(n.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=xo(f,he({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Ih(n.default,{Component:b,route:c})||b}}});function Ih(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const rp=Xw;function Jw(t){const e=Sw(t.routes,t),n=t.parseQuery||Hw,s=t.stringifyQuery||vh,r=t.history,i=ir(),o=ir(),a=ir(),l=lv(wn);let c=wn;Es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=pa.bind(null,E=>""+E),h=pa.bind(null,jw),f=pa.bind(null,Ki);function p(E,L){let R,U;return Qd(E)?(R=e.getRecordMatcher(E),U=L):U=E,e.addRoute(U,R)}function m(E){const L=e.getRecordMatcher(E);L&&e.removeRoute(L)}function v(){return e.getRoutes().map(E=>E.record)}function b(E){return!!e.getRecordMatcher(E)}function A(E,L){if(L=he({},L||l.value),typeof E=="string"){const y=ga(n,E,L.path),w=e.resolve({path:y.path},L),_=r.createHref(y.fullPath);return he(y,w,{params:f(w.params),hash:Ki(y.hash),redirectedFrom:void 0,href:_})}let R;if("path"in E)R=he({},E,{path:ga(n,E.path,L.path).path});else{const y=he({},E.params);for(const w in y)y[w]==null&&delete y[w];R=he({},E,{params:h(y)}),L.params=h(L.params)}const U=e.resolve(R,L),le=E.hash||"";U.params=u(f(U.params));const d=tw(s,he({},E,{hash:Bw(le),path:U.path})),g=r.createHref(d);return he({fullPath:d,hash:le,query:s===vh?qw(E.query):E.query||{}},U,{redirectedFrom:void 0,href:g})}function N(E){return typeof E=="string"?ga(n,E,l.value.path):he({},E)}function V(E,L){if(c!==E)return Ls(8,{from:L,to:E})}function M(E){return Be(E)}function ie(E){return M(he(N(E),{replace:!0}))}function Ce(E){const L=E.matched[E.matched.length-1];if(L&&L.redirect){const{redirect:R}=L;let U=typeof R=="function"?R(E):R;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=N(U):{path:U},U.params={}),he({query:E.query,hash:E.hash,params:"path"in U?{}:E.params},U)}}function Be(E,L){const R=c=A(E),U=l.value,le=E.state,d=E.force,g=E.replace===!0,y=Ce(R);if(y)return Be(he(N(y),{state:typeof y=="object"?he({},le,y.state):le,force:d,replace:g}),L||R);const w=R;w.redirectedFrom=L;let _;return!d&&nw(s,U,R)&&(_=Ls(16,{to:w,from:U}),$t(U,U,!0,!1)),(_?Promise.resolve(_):pe(w,U)).catch(I=>Jt(I)?Jt(I,2)?I:gn(I):ae(I,w,U)).then(I=>{if(I){if(Jt(I,2))return Be(he({replace:g},N(I.to),{state:typeof I.to=="object"?he({},le,I.to.state):le,force:d}),L||w)}else I=B(w,U,!0,g,le);return Ue(w,U,I),I})}function X(E,L){const R=V(E,L);return R?Promise.reject(R):Promise.resolve()}function de(E){const L=gs.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(E):E()}function pe(E,L){let R;const[U,le,d]=Zw(E,L);R=ma(U.reverse(),"beforeRouteLeave",E,L);for(const y of U)y.leaveGuards.forEach(w=>{R.push(bn(w,E,L))});const g=X.bind(null,E,L);return R.push(g),Je(R).then(()=>{R=[];for(const y of i.list())R.push(bn(y,E,L));return R.push(g),Je(R)}).then(()=>{R=ma(le,"beforeRouteUpdate",E,L);for(const y of le)y.updateGuards.forEach(w=>{R.push(bn(w,E,L))});return R.push(g),Je(R)}).then(()=>{R=[];for(const y of E.matched)if(y.beforeEnter&&!L.matched.includes(y))if(Lt(y.beforeEnter))for(const w of y.beforeEnter)R.push(bn(w,E,L));else R.push(bn(y.beforeEnter,E,L));return R.push(g),Je(R)}).then(()=>(E.matched.forEach(y=>y.enterCallbacks={}),R=ma(d,"beforeRouteEnter",E,L),R.push(g),Je(R))).then(()=>{R=[];for(const y of o.list())R.push(bn(y,E,L));return R.push(g),Je(R)}).catch(y=>Jt(y,8)?y:Promise.reject(y))}function Ue(E,L,R){for(const U of a.list())de(()=>U(E,L,R))}function B(E,L,R,U,le){const d=V(E,L);if(d)return d;const g=L===wn,y=Es?history.state:{};R&&(U||g?r.replace(E.fullPath,he({scroll:g&&y&&y.scroll},le)):r.push(E.fullPath,le)),l.value=E,$t(E,L,R,g),gn()}let ue;function ut(){ue||(ue=r.listen((E,L,R)=>{if(!fi.listening)return;const U=A(E),le=Ce(U);if(le){Be(he(le,{replace:!0}),U).catch(yr);return}c=U;const d=l.value;Es&&uw(uh(d.fullPath,R.delta),ko()),pe(U,d).catch(g=>Jt(g,12)?g:Jt(g,2)?(Be(g.to,U).then(y=>{Jt(y,20)&&!R.delta&&R.type===Nr.pop&&r.go(-1,!1)}).catch(yr),Promise.reject()):(R.delta&&r.go(-R.delta,!1),ae(g,U,d))).then(g=>{g=g||B(U,d,!1),g&&(R.delta&&!Jt(g,8)?r.go(-R.delta,!1):R.type===Nr.pop&&Jt(g,20)&&r.go(-1,!1)),Ue(U,d,g)}).catch(yr)}))}let Yt=ir(),Re=ir(),ye;function ae(E,L,R){gn(E);const U=Re.list();return U.length?U.forEach(le=>le(E,L,R)):console.error(E),Promise.reject(E)}function Xt(){return ye&&l.value!==wn?Promise.resolve():new Promise((E,L)=>{Yt.add([E,L])})}function gn(E){return ye||(ye=!E,ut(),Yt.list().forEach(([L,R])=>E?R(E):L()),Yt.reset()),E}function $t(E,L,R,U){const{scrollBehavior:le}=t;if(!Es||!le)return Promise.resolve();const d=!R&&hw(uh(E.fullPath,0))||(U||!R)&&history.state&&history.state.scroll||null;return nn().then(()=>le(E,L,d)).then(g=>g&&cw(g)).catch(g=>ae(g,E,L))}const dt=E=>r.go(E);let ps;const gs=new Set,fi={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:b,getRoutes:v,resolve:A,options:t,push:M,replace:ie,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Re.add,isReady:Xt,install(E){const L=this;E.component("RouterLink",Ww),E.component("RouterView",rp),E.config.globalProperties.$router=L,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Ne(l)}),Es&&!ps&&l.value===wn&&(ps=!0,M(r.location).catch(le=>{}));const R={};for(const le in wn)R[le]=_e(()=>l.value[le]);E.provide(dc,L),E.provide(sp,Kr(R)),E.provide(al,l);const U=E.unmount;gs.add(E),E.unmount=function(){gs.delete(E),gs.size<1&&(c=wn,ue&&ue(),ue=null,l.value=wn,ps=!1,ye=!1),U()}}};function Je(E){return E.reduce((L,R)=>L.then(()=>de(R)),Promise.resolve())}return fi}function Zw(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ms(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ms(c,l))||r.push(l))}return[n,s,r]}function Fs(t,e,...n){if(t in e){let r=e[t];return typeof r=="function"?r(...n):r}let s=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Fs),s}var Pr=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Pr||{}),e1=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(e1||{});function us({visible:t=!0,features:e=0,ourProps:n,theirProps:s,...r}){var i;let o=op(s,n),a=Object.assign(r,{props:o});if(t||e&2&&o.static)return ya(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return Fs(l,{[0](){return null},[1](){return ya({...r,props:{...o,hidden:!0,style:{display:"none"}}})}})}return ya(a)}function ya({props:t,attrs:e,slots:n,slot:s,name:r}){var i,o;let{as:a,...l}=t1(t,["unmount","static"]),c=(i=n.default)==null?void 0:i.call(n,s),u={};if(s){let h=!1,f=[];for(let[p,m]of Object.entries(s))typeof m=="boolean"&&(h=!0),m===!0&&f.push(p);h&&(u["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(c=ip(c!=null?c:[]),Object.keys(l).length>0||Object.keys(e).length>0){let[h,...f]=c!=null?c:[];if(!n1(h)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${r} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(v=>v.trim()).filter((v,b,A)=>A.indexOf(v)===b).sort((v,b)=>v.localeCompare(b)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let p=op((o=h.props)!=null?o:{},l),m=on(h,p);for(let v in p)v.startsWith("on")&&(m.props||(m.props={}),m.props[v]=p[v]);return m}return Array.isArray(c)&&c.length===1?c[0]:c}return xo(a,Object.assign({},l,u),{default:()=>c})}function ip(t){return t.flatMap(e=>e.type===We?ip(e.children):[e])}function op(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let s of t)for(let r in s)r.startsWith("on")&&typeof s[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(s[r])):e[r]=s[r];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(s=>[s,void 0])));for(let s in n)Object.assign(e,{[s](r,...i){let o=n[s];for(let a of o){if(r instanceof Event&&r.defaultPrevented)return;a(r,...i)}}});return e}function t1(t,e=[]){let n=Object.assign({},t);for(let s of e)s in n&&delete n[s];return n}function n1(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let s1=0;function r1(){return++s1}function Qr(){return r1()}var ke=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ke||{});function i1(t){throw new Error("Unexpected object: "+t)}var vt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(vt||{});function o1(t,e){let n=e.resolveItems();if(n.length<=0)return null;let s=e.resolveActiveIndex(),r=s!=null?s:-1,i=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,c)=>r!==-1&&c.length-l-1>=r?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=r?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:i1(t)}})();return i===-1?s:i}function we(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let ap=Symbol("Context");var an=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(an||{});function lp(){return wt(ap,null)}function cp(t){Sn(ap,t)}function Th(t,e){if(t)return t;let n=e!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function up(t,e){let n=ve(Th(t.value.type,t.value.as));return Nn(()=>{n.value=Th(t.value.type,t.value.as)}),Gr(()=>{var s;n.value||we(e)&&we(e)instanceof HTMLButtonElement&&!((s=we(e))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}var a1=Object.defineProperty,l1=(t,e,n)=>e in t?a1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ch=(t,e,n)=>(l1(t,typeof e!="symbol"?e+"":e,n),n);class c1{constructor(){Ch(this,"current",this.detect()),Ch(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let hp=new c1;function pc(t){if(hp.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=we(t);if(e)return e.ownerDocument}return document}function u1({container:t,accept:e,walk:n,enabled:s}){Gr(()=>{let r=t.value;if(!r||s!==void 0&&!s.value)return;let i=pc(t);if(!i)return;let o=Object.assign(l=>e(l),{acceptNode:e}),a=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}let ll=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var cl=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(cl||{}),h1=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(h1||{}),f1=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(f1||{});function fp(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ll)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var gc=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(gc||{});function mc(t,e=0){var n;return t===((n=pc(t))==null?void 0:n.body)?!1:Fs(e,{[0](){return t.matches(ll)},[1](){let s=t;for(;s!==null;){if(s.matches(ll))return!0;s=s.parentElement}return!1}})}function dp(t){let e=pc(t);nn(()=>{e&&!mc(e.activeElement,0)&&p1(t)})}var d1=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(d1||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function p1(t){t==null||t.focus({preventScroll:!0})}let g1=["textarea","input"].join(",");function m1(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,g1))!=null?n:!1}function pp(t,e=n=>n){return t.slice().sort((n,s)=>{let r=e(n),i=e(s);if(r===null||i===null)return 0;let o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function y1(t,e){return v1(fp(),e,{relativeTo:t})}function v1(t,e,{sorted:n=!0,relativeTo:s=null,skipElements:r=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?n?pp(t):t:fp(t);r.length>0&&a.length>1&&(a=a.filter(m=>!r.includes(m))),s=s!=null?s:o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(s))-1;if(e&4)return Math.max(0,a.indexOf(s))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,f=a.length,p;do{if(h>=f||h+f<=0)return 0;let m=c+h;if(e&16)m=(m+f)%f;else{if(m<0)return 3;if(m>=f)return 1}p=a[m],p==null||p.focus(u),h+=l}while(p!==o.activeElement);return e&6&&m1(p)&&p.select(),2}function va(t,e,n){hp.isServer||Gr(s=>{document.addEventListener(t,e,n),s(()=>document.removeEventListener(t,e,n))})}function w1(t,e,n=_e(()=>!0)){function s(i,o){if(!n.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(t);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:we(c);if(u!=null&&u.contains(a)||i.composed&&i.composedPath().includes(u))return}return!mc(a,gc.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let r=ve(null);va("mousedown",i=>{var o,a;n.value&&(r.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),va("click",i=>{r.value&&(s(i,()=>r.value),r.value=null)},!0),va("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Sh(t){return[t.screenX,t.screenY]}function E1(){let t=ve([-1,-1]);return{wasMoved(e){let n=Sh(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=Sh(e)}}}var b1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(b1||{});let gp=Symbol("DisclosureContext");function yc(t){let e=wt(gp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yc),n}return e}let mp=Symbol("DisclosurePanelContext");function _1(){return wt(mp,null)}let I1=dn({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:n}){let s=ve(t.defaultOpen?0:1),r=ve(null),i=ve(null),o={buttonId:ve(null),panelId:ve(null),disclosureState:s,panel:r,button:i,toggleDisclosure(){s.value=Fs(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(a){o.closeDisclosure();let l=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?we(a):we(o.button):we(o.button))();l==null||l.focus()}};return Sn(gp,o),cp(_e(()=>Fs(s.value,{[0]:an.Open,[1]:an.Closed}))),()=>{let{defaultOpen:a,...l}=t,c={open:s.value===0,close:o.close};return us({theirProps:l,ourProps:{},slot:c,slots:e,attrs:n,name:"Disclosure"})}}}),Ah=dn({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=yc("DisclosureButton");Nn(()=>{r.buttonId.value=t.id}),Wr(()=>{r.buttonId.value=null});let i=_1(),o=_e(()=>i===null?!1:i.value===r.panelId.value),a=ve(null);s({el:a,$el:a}),o.value||Gr(()=>{r.button.value=a.value});let l=up(_e(()=>({as:t.as,type:e.type})),a);function c(){var f;t.disabled||(o.value?(r.toggleDisclosure(),(f=we(r.button))==null||f.focus()):r.toggleDisclosure())}function u(f){var p;if(!t.disabled)if(o.value)switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure(),(p=we(r.button))==null||p.focus();break}else switch(f.key){case ke.Space:case ke.Enter:f.preventDefault(),f.stopPropagation(),r.toggleDisclosure();break}}function h(f){switch(f.key){case ke.Space:f.preventDefault();break}}return()=>{let f={open:r.disclosureState.value===0},{id:p,...m}=t,v=o.value?{ref:a,type:l.value,onClick:c,onKeydown:u}:{id:p,ref:a,type:l.value,"aria-expanded":t.disabled?void 0:r.disclosureState.value===0,"aria-controls":we(r.panel)?r.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:c,onKeydown:u,onKeyup:h};return us({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,name:"DisclosureButton"})}}}),T1=dn({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=yc("DisclosurePanel");Nn(()=>{r.panelId.value=t.id}),Wr(()=>{r.panelId.value=null}),s({el:r.panel,$el:r.panel}),Sn(mp,r.panelId);let i=lp(),o=_e(()=>i!==null?(i.value&an.Open)===an.Open:r.disclosureState.value===0);return()=>{let a={open:r.disclosureState.value===0,close:r.close},{id:l,...c}=t,u={id:l,ref:r.panel};return us({ourProps:u,theirProps:c,slot:a,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:o.value,name:"DisclosurePanel"})}}});var C1=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(C1||{}),S1=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(S1||{});function A1(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let yp=Symbol("MenuContext");function Do(t){let e=wt(yp,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Do),n}return e}let x1=dn({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:n}){let s=ve(1),r=ve(null),i=ve(null),o=ve([]),a=ve(""),l=ve(null),c=ve(1);function u(f=p=>p){let p=l.value!==null?o.value[l.value]:null,m=pp(f(o.value.slice()),b=>we(b.dataRef.domRef)),v=p?m.indexOf(p):null;return v===-1&&(v=null),{items:m,activeItemIndex:v}}let h={menuState:s,buttonRef:r,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:c,closeMenu:()=>{s.value=1,l.value=null},openMenu:()=>s.value=0,goToItem(f,p,m){let v=u(),b=o1(f===vt.Specific?{focus:vt.Specific,id:p}:{focus:f},{resolveItems:()=>v.items,resolveActiveIndex:()=>v.activeItemIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});a.value="",l.value=b,c.value=m!=null?m:1,o.value=v.items},search(f){let p=a.value!==""?0:1;a.value+=f.toLowerCase();let m=(l.value!==null?o.value.slice(l.value+p).concat(o.value.slice(0,l.value+p)):o.value).find(b=>b.dataRef.textValue.startsWith(a.value)&&!b.dataRef.disabled),v=m?o.value.indexOf(m):-1;v===-1||v===l.value||(l.value=v,c.value=1)},clearSearch(){a.value=""},registerItem(f,p){let m=u(v=>[...v,{id:f,dataRef:p}]);o.value=m.items,l.value=m.activeItemIndex,c.value=1},unregisterItem(f){let p=u(m=>{let v=m.findIndex(b=>b.id===f);return v!==-1&&m.splice(v,1),m});o.value=p.items,l.value=p.activeItemIndex,c.value=1}};return w1([r,i],(f,p)=>{var m;h.closeMenu(),mc(p,gc.Loose)||(f.preventDefault(),(m=we(r))==null||m.focus())},_e(()=>s.value===0)),Sn(yp,h),cp(_e(()=>Fs(s.value,{[0]:an.Open,[1]:an.Closed}))),()=>{let f={open:s.value===0,close:h.closeMenu};return us({ourProps:{},theirProps:t,slot:f,slots:e,attrs:n,name:"Menu"})}}}),k1=dn({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=Do("MenuButton");s({el:r.buttonRef,$el:r.buttonRef});function i(c){switch(c.key){case ke.Space:case ke.Enter:case ke.ArrowDown:c.preventDefault(),c.stopPropagation(),r.openMenu(),nn(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(vt.First)});break;case ke.ArrowUp:c.preventDefault(),c.stopPropagation(),r.openMenu(),nn(()=>{var u;(u=we(r.itemsRef))==null||u.focus({preventScroll:!0}),r.goToItem(vt.Last)});break}}function o(c){switch(c.key){case ke.Space:c.preventDefault();break}}function a(c){t.disabled||(r.menuState.value===0?(r.closeMenu(),nn(()=>{var u;return(u=we(r.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(c.preventDefault(),r.openMenu(),A1(()=>{var u;return(u=we(r.itemsRef))==null?void 0:u.focus({preventScroll:!0})})))}let l=up(_e(()=>({as:t.as,type:e.type})),r.buttonRef);return()=>{var c;let u={open:r.menuState.value===0},{id:h,...f}=t,p={ref:r.buttonRef,id:h,type:l.value,"aria-haspopup":"menu","aria-controls":(c=we(r.itemsRef))==null?void 0:c.id,"aria-expanded":t.disabled?void 0:r.menuState.value===0,onKeydown:i,onKeyup:o,onClick:a};return us({ourProps:p,theirProps:f,slot:u,attrs:e,slots:n,name:"MenuButton"})}}}),D1=dn({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Qr()}`}},setup(t,{attrs:e,slots:n,expose:s}){let r=Do("MenuItems"),i=ve(null);s({el:r.itemsRef,$el:r.itemsRef}),u1({container:_e(()=>we(r.itemsRef)),enabled:_e(()=>r.menuState.value===0),accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function o(u){var h;switch(i.value&&clearTimeout(i.value),u.key){case ke.Space:if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case ke.Enter:if(u.preventDefault(),u.stopPropagation(),r.activeItemIndex.value!==null){let f=r.items.value[r.activeItemIndex.value];(h=we(f.dataRef.domRef))==null||h.click()}r.closeMenu(),dp(we(r.buttonRef));break;case ke.ArrowDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Next);case ke.ArrowUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Previous);case ke.Home:case ke.PageUp:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.First);case ke.End:case ke.PageDown:return u.preventDefault(),u.stopPropagation(),r.goToItem(vt.Last);case ke.Escape:u.preventDefault(),u.stopPropagation(),r.closeMenu(),nn(()=>{var f;return(f=we(r.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case ke.Tab:u.preventDefault(),u.stopPropagation(),r.closeMenu(),nn(()=>y1(we(r.buttonRef),u.shiftKey?cl.Previous:cl.Next));break;default:u.key.length===1&&(r.search(u.key),i.value=setTimeout(()=>r.clearSearch(),350));break}}function a(u){switch(u.key){case ke.Space:u.preventDefault();break}}let l=lp(),c=_e(()=>l!==null?(l.value&an.Open)===an.Open:r.menuState.value===0);return()=>{var u,h;let f={open:r.menuState.value===0},{id:p,...m}=t,v={"aria-activedescendant":r.activeItemIndex.value===null||(u=r.items.value[r.activeItemIndex.value])==null?void 0:u.id,"aria-labelledby":(h=we(r.buttonRef))==null?void 0:h.id,id:p,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:r.itemsRef};return us({ourProps:v,theirProps:m,slot:f,attrs:e,slots:n,features:Pr.RenderStrategy|Pr.Static,visible:c.value,name:"MenuItems"})}}}),wa=dn({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Qr()}`}},setup(t,{slots:e,attrs:n,expose:s}){let r=Do("MenuItem"),i=ve(null);s({el:i,$el:i});let o=_e(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===t.id:!1),a=_e(()=>({disabled:t.disabled,textValue:"",domRef:i}));Nn(()=>{var m,v;let b=(v=(m=we(i))==null?void 0:m.textContent)==null?void 0:v.toLowerCase().trim();b!==void 0&&(a.value.textValue=b)}),Nn(()=>r.registerItem(t.id,a)),Wr(()=>r.unregisterItem(t.id)),Gr(()=>{r.menuState.value===0&&o.value&&r.activationTrigger.value!==0&&nn(()=>{var m,v;return(v=(m=we(i))==null?void 0:m.scrollIntoView)==null?void 0:v.call(m,{block:"nearest"})})});function l(m){if(t.disabled)return m.preventDefault();r.closeMenu(),dp(we(r.buttonRef))}function c(){if(t.disabled)return r.goToItem(vt.Nothing);r.goToItem(vt.Specific,t.id)}let u=E1();function h(m){u.update(m)}function f(m){u.wasMoved(m)&&(t.disabled||o.value||r.goToItem(vt.Specific,t.id,0))}function p(m){u.wasMoved(m)&&(t.disabled||o.value&&r.goToItem(vt.Nothing))}return()=>{let{disabled:m}=t,v={active:o.value,disabled:m,close:r.closeMenu},{id:b,...A}=t;return us({ourProps:{id:b,ref:i,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:c,onPointerenter:h,onMouseenter:h,onPointermove:f,onMousemove:f,onPointerleave:p,onMouseleave:p},theirProps:{...n,...A},slot:v,attrs:n,slots:e,name:"MenuItem"})}}});function R1(t,e){return Le(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function N1(t,e){return Le(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])}function P1(t,e){return Le(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[k("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const O1={class:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"},M1={class:"relative flex h-16 items-center justify-between"},L1={class:"absolute inset-y-0 left-0 flex items-center sm:hidden"},F1=k("span",{class:"sr-only"},"Open main menu",-1),$1={class:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"},B1=k("div",{class:"flex flex-shrink-0 items-center"},[k("img",{class:"block h-8 w-auto lg:hidden",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"}),k("img",{class:"hidden h-8 w-auto lg:block",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"})],-1),U1={class:"hidden sm:ml-6 sm:block"},V1={class:"flex space-x-4"},j1=["href","aria-current"],H1={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},q1={type:"button",class:"rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},z1=k("span",{class:"sr-only"},"View notifications",-1),K1=k("span",{class:"sr-only"},"Open user menu",-1),G1=k("img",{class:"h-8 w-8 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""},null,-1),W1={class:"space-y-1 px-2 pb-3 pt-2"},Q1={__name:"HeaderLayout",setup(t){const e=[{name:"Master Data",href:"",current:!0},{name:"Data Product",href:"/data-product",current:!1},{name:"Master Stock",href:"/master-stock",current:!1},{name:"Calendar",href:"#",current:!1}];return(n,s)=>(Le(),Oi(Ne(I1),{as:"nav",class:"bg-gray-800"},{default:It(({open:r})=>[k("div",O1,[k("div",M1,[k("div",L1,[me(Ne(Ah),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},{default:It(()=>[F1,r?(Le(),Oi(Ne(P1),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(Le(),Oi(Ne(R1),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),k("div",$1,[B1,k("div",U1,[k("div",V1,[(Le(),tt(We,null,Hi(e,i=>k("a",{key:i.name,href:i.href,class:_n([i.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","rounded-md px-3 py-2 text-sm font-medium"]),"aria-current":i.current?"page":void 0},jt(i.name),11,j1)),64))])])]),k("div",H1,[k("button",q1,[z1,me(Ne(N1),{class:"h-6 w-6","aria-hidden":"true"})]),me(Ne(x1),{as:"div",class:"relative ml-3"},{default:It(()=>[k("div",null,[me(Ne(k1),{class:"flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800"},{default:It(()=>[K1,G1]),_:1})]),me(hc,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:It(()=>[me(Ne(D1),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:It(()=>[me(Ne(wa),null,{default:It(({active:i})=>[k("a",{href:"#",class:_n([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profile",2)]),_:1}),me(Ne(wa),null,{default:It(({active:i})=>[k("a",{href:"#",class:_n([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),me(Ne(wa),null,{default:It(({active:i})=>[k("a",{href:"#",class:_n([i?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1})]),_:1})]),_:1})]),_:1})])])]),me(Ne(T1),{class:"sm:hidden"},{default:It(()=>[k("div",W1,[(Le(),tt(We,null,Hi(e,i=>me(Ne(Ah),{key:i.name,as:"a",href:i.href,class:_n([i.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block rounded-md px-3 py-2 text-base font-medium"]),"aria-current":i.current?"page":void 0},{default:It(()=>[lc(jt(i.name),1)]),_:2},1032,["href","class","aria-current"])),64))])]),_:1})]),_:1}))}};const vp=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Y1={name:"Footer"},X1={id:"footer",class:"bg-neutral-200 text-center text-white dark:bg-neutral-600"},J1=Hd('<div class="pt-9"><div class="mb-12 flex justify-center"><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M7 11v2.4h3.97c-.16 1.029-1.2 3.02-3.97 3.02-2.39 0-4.34-1.979-4.34-4.42 0-2.44 1.95-4.42 4.34-4.42 1.36 0 2.27.58 2.79 1.08l1.9-1.83c-1.22-1.14-2.8-1.83-4.69-1.83-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.721-2.84 6.721-6.84 0-.46-.051-.81-.111-1.16h-6.61zm0 0 17 2h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></a><a href="#!" class="mr-9 text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"></path></svg></a><a href="#!" class="text-neutral-800 dark:text-neutral-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></div><div class="bg-neutral-300 p-4 text-center text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200"> \xA9 2023 Copyright: <a class="text-neutral-800 dark:text-neutral-400" href="https://tailwind-elements.com/">Tailwind Elements</a></div>',2),Z1=[J1];function eE(t,e,n,s,r,i){return Le(),tt("div",X1,Z1)}const tE=vp(Y1,[["render",eE]]);const nE={__name:"App",setup(t){return(e,n)=>(Le(),tt(We,null,[me(Q1),me(Ne(rp),{class:"pb-40 mb-5"}),me(tE)],64))}},sE="modulepreload",rE=function(t){return"/arumi-id/"+t},xh={},iE=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=rE(i),i in xh)return;xh[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":sE,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},oE={class:"bg-white"},aE={class:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8"},lE=k("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Customers also purchased",-1),cE={class:"mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8"},uE={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-80"},hE=["src","alt"],fE={class:"mt-4 flex justify-between"},dE={class:"text-sm text-gray-700"},pE=["href"],gE=k("span",{"aria-hidden":"true",class:"absolute inset-0"},null,-1),mE={class:"mt-1 text-sm text-gray-500"},yE={class:"text-sm font-medium text-gray-900"},vE={__name:"DashboardView",setup(t){const e=[{id:1,name:"Basic Tee",href:"#",imageSrc:"https://tailwindui.com/img/ecommerce-images/product-page-01-related-product-01.jpg",imageAlt:"Front of men's Basic Tee in black.",price:"$35",color:"Black"},{id:1,name:"Basic Tee",href:"#",imageSrc:"https://tailwindui.com/img/ecommerce-images/product-page-01-related-product-01.jpg",imageAlt:"Front of men's Basic Tee in black.",price:"$35",color:"Black"},{id:1,name:"Basic Tee",href:"#",imageSrc:"https://tailwindui.com/img/ecommerce-images/product-page-01-related-product-01.jpg",imageAlt:"Front of men's Basic Tee in black.",price:"$35",color:"Black"},{id:1,name:"Basic Tee",href:"#",imageSrc:"https://tailwindui.com/img/ecommerce-images/product-page-01-related-product-01.jpg",imageAlt:"Front of men's Basic Tee in black.",price:"$35",color:"Black"}];return(n,s)=>(Le(),tt("div",oE,[k("div",aE,[lE,k("div",cE,[(Le(),tt(We,null,Hi(e,r=>k("div",{key:r.id,class:"group relative"},[k("div",uE,[k("img",{src:r.imageSrc,alt:r.imageAlt,class:"h-full w-full object-cover object-center lg:h-full lg:w-full"},null,8,hE)]),k("div",fE,[k("div",null,[k("h3",dE,[k("a",{href:r.href},[gE,lc(" "+jt(r.name),1)],8,pE)]),k("p",mE,jt(r.color),1)]),k("p",yE,jt(r.price),1)])])),64))])])]))}},wE={},EE=Hd('<table class="table" style="margin-bottom:10px;"><thead><tr><th><abbr title="Position">Pos</abbr></th><th>Team</th><th><abbr title="Played">Pld</abbr></th><th><abbr title="Won">W</abbr></th><th><abbr title="Drawn">D</abbr></th><th><abbr title="Lost">L</abbr></th><th><abbr title="Goals for">GF</abbr></th><th><abbr title="Goals against">GA</abbr></th><th><abbr title="Goal difference">GD</abbr></th><th><abbr title="Points">Pts</abbr></th><th>Qualification or relegation</th></tr></thead><tfoot><tr><th><abbr title="Position">Pos</abbr></th><th>Team</th><th><abbr title="Played">Pld</abbr></th><th><abbr title="Won">W</abbr></th><th><abbr title="Drawn">D</abbr></th><th><abbr title="Lost">L</abbr></th><th><abbr title="Goals for">GF</abbr></th><th><abbr title="Goals against">GA</abbr></th><th><abbr title="Goal difference">GD</abbr></th><th><abbr title="Points">Pts</abbr></th><th>Qualification or relegation</th></tr></tfoot><tbody><tr><th>1</th><td><a href="https://en.wikipedia.org/wiki/Leicester_City_F.C." title="Leicester City F.C.">Leicester City</a> <strong>(C)</strong></td><td>38</td><td>23</td><td>12</td><td>3</td><td>68</td><td>36</td><td>+32</td><td>81</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr><th>2</th><td><a href="https://en.wikipedia.org/wiki/Arsenal_F.C." title="Arsenal F.C.">Arsenal</a></td><td>38</td><td>20</td><td>11</td><td>7</td><td>65</td><td>36</td><td>+29</td><td>71</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr><th>3</th><td><a href="https://en.wikipedia.org/wiki/Tottenham_Hotspur_F.C." title="Tottenham Hotspur F.C.">Tottenham Hotspur</a></td><td>38</td><td>19</td><td>13</td><td>6</td><td>69</td><td>35</td><td>+34</td><td>70</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Group_stage" title="2016\u201317 UEFA Champions League">Champions League group stage</a></td></tr><tr class="is-selected"><th>4</th><td><a href="https://en.wikipedia.org/wiki/Manchester_City_F.C." title="Manchester City F.C.">Manchester City</a></td><td>38</td><td>19</td><td>9</td><td>10</td><td>71</td><td>41</td><td>+30</td><td>66</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Champions_League#Play-off_round" title="2016\u201317 UEFA Champions League">Champions League play-off round</a></td></tr><tr><th>5</th><td><a href="https://en.wikipedia.org/wiki/Manchester_United_F.C." title="Manchester United F.C.">Manchester United</a></td><td>38</td><td>19</td><td>9</td><td>10</td><td>49</td><td>35</td><td>+14</td><td>66</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Group_stage" title="2016\u201317 UEFA Europa League">Europa League group stage</a></td></tr><tr><th>6</th><td><a href="https://en.wikipedia.org/wiki/Southampton_F.C." title="Southampton F.C.">Southampton</a></td><td>38</td><td>18</td><td>9</td><td>11</td><td>59</td><td>41</td><td>+18</td><td>63</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Group_stage" title="2016\u201317 UEFA Europa League">Europa League group stage</a></td></tr><tr><th>7</th><td><a href="https://en.wikipedia.org/wiki/West_Ham_United_F.C." title="West Ham United F.C.">West Ham United</a></td><td>38</td><td>16</td><td>14</td><td>8</td><td>65</td><td>51</td><td>+14</td><td>62</td><td>Qualification for the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_UEFA_Europa_League#Third_qualifying_round" title="2016\u201317 UEFA Europa League">Europa League third qualifying round</a></td></tr><tr><th>8</th><td><a href="https://en.wikipedia.org/wiki/Liverpool_F.C." title="Liverpool F.C.">Liverpool</a></td><td>38</td><td>16</td><td>12</td><td>10</td><td>63</td><td>50</td><td>+13</td><td>60</td><td></td></tr><tr><th>9</th><td><a href="https://en.wikipedia.org/wiki/Stoke_City_F.C." title="Stoke City F.C.">Stoke City</a></td><td>38</td><td>14</td><td>9</td><td>15</td><td>41</td><td>55</td><td>\u221214</td><td>51</td><td></td></tr><tr><th>10</th><td><a href="https://en.wikipedia.org/wiki/Chelsea_F.C." title="Chelsea F.C.">Chelsea</a></td><td>38</td><td>12</td><td>14</td><td>12</td><td>59</td><td>53</td><td>+6</td><td>50</td><td></td></tr><tr><th>11</th><td><a href="https://en.wikipedia.org/wiki/Everton_F.C." title="Everton F.C.">Everton</a></td><td>38</td><td>11</td><td>14</td><td>13</td><td>59</td><td>55</td><td>+4</td><td>47</td><td></td></tr><tr><th>12</th><td><a href="https://en.wikipedia.org/wiki/Swansea_City_A.F.C." title="Swansea City A.F.C.">Swansea City</a></td><td>38</td><td>12</td><td>11</td><td>15</td><td>42</td><td>52</td><td>\u221210</td><td>47</td><td></td></tr><tr><th>13</th><td><a href="https://en.wikipedia.org/wiki/Watford_F.C." title="Watford F.C.">Watford</a></td><td>38</td><td>12</td><td>9</td><td>17</td><td>40</td><td>50</td><td>\u221210</td><td>45</td><td></td></tr><tr><th>14</th><td><a href="https://en.wikipedia.org/wiki/West_Bromwich_Albion_F.C." title="West Bromwich Albion F.C.">West Bromwich Albion</a></td><td>38</td><td>10</td><td>13</td><td>15</td><td>34</td><td>48</td><td>\u221214</td><td>43</td><td></td></tr><tr><th>15</th><td><a href="https://en.wikipedia.org/wiki/Crystal_Palace_F.C." title="Crystal Palace F.C.">Crystal Palace</a></td><td>38</td><td>11</td><td>9</td><td>18</td><td>39</td><td>51</td><td>\u221212</td><td>42</td><td></td></tr><tr><th>16</th><td><a href="https://en.wikipedia.org/wiki/A.F.C._Bournemouth" title="A.F.C. Bournemouth">AFC Bournemouth</a></td><td>38</td><td>11</td><td>9</td><td>18</td><td>45</td><td>67</td><td>\u221222</td><td>42</td><td></td></tr><tr><th>17</th><td><a href="https://en.wikipedia.org/wiki/Sunderland_A.F.C." title="Sunderland A.F.C.">Sunderland</a></td><td>38</td><td>9</td><td>12</td><td>17</td><td>48</td><td>62</td><td>\u221214</td><td>39</td><td></td></tr><tr><th>18</th><td><a href="https://en.wikipedia.org/wiki/Newcastle_United_F.C." title="Newcastle United F.C.">Newcastle United</a> <strong>(R)</strong></td><td>38</td><td>9</td><td>10</td><td>19</td><td>44</td><td>65</td><td>\u221221</td><td>37</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr><tr><th>19</th><td><a href="https://en.wikipedia.org/wiki/Norwich_City_F.C." title="Norwich City F.C.">Norwich City</a> <strong>(R)</strong></td><td>38</td><td>9</td><td>7</td><td>22</td><td>39</td><td>67</td><td>\u221228</td><td>34</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr><tr><th>20</th><td><a href="https://en.wikipedia.org/wiki/Aston_Villa_F.C." title="Aston Villa F.C.">Aston Villa</a> <strong>(R)</strong></td><td>38</td><td>3</td><td>8</td><td>27</td><td>27</td><td>76</td><td>\u221249</td><td>17</td><td>Relegation to the <a href="https://en.wikipedia.org/wiki/2016%E2%80%9317_Football_League_Championship" title="2016\u201317 Football League Championship">Football League Championship</a></td></tr></tbody></table>',1),bE=[EE];function _E(t,e){return Le(),tt("div",null,bE)}const IE=vp(wE,[["render",_E]]);let wi;const TE=new Uint8Array(16);function CE(){if(!wi&&(wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wi(TE)}const Ke=[];for(let t=0;t<256;++t)Ke.push((t+256).toString(16).slice(1));function SE(t,e=0){return(Ke[t[e+0]]+Ke[t[e+1]]+Ke[t[e+2]]+Ke[t[e+3]]+"-"+Ke[t[e+4]]+Ke[t[e+5]]+"-"+Ke[t[e+6]]+Ke[t[e+7]]+"-"+Ke[t[e+8]]+Ke[t[e+9]]+"-"+Ke[t[e+10]]+Ke[t[e+11]]+Ke[t[e+12]]+Ke[t[e+13]]+Ke[t[e+14]]+Ke[t[e+15]]).toLowerCase()}const AE=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kh={randomUUID:AE};function Dh(t,e,n){if(kh.randomUUID&&!e&&!t)return kh.randomUUID();t=t||{};const s=t.random||(t.rng||CE)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=s[r];return e}return SE(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new kE;const f=i<<2|a>>4;if(s.push(f),c!==64){const p=a<<4&240|c>>2;if(s.push(p),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DE=function(t){const e=wp(t);return Ep.encodeByteArray(e,!0)},Gi=function(t){return DE(t).replace(/\./g,"")},RE=function(t){try{return Ep.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=()=>NE().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ME=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RE(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return PE()||OE()||ME()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LE=t=>{var e,n;return(n=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FE=t=>{const e=LE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_p=()=>{var t;return(t=bp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Gi(JSON.stringify(n)),Gi(JSON.stringify(o)),a].join(".")}function UE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ip(){try{return typeof indexedDB=="object"}catch{return!1}}function Tp(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function VE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="FirebaseError";class $n extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=jE,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?HE(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $n(r,a,s)}}function HE(t,e){return t.replace(qE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const qE=/\{\$([^}]+)}/g;function Wi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Rh(i)&&Rh(o)){if(!Wi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Rh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=1e3,KE=2,GE=4*60*60*1e3,WE=.5;function Nh(t,e=zE,n=KE){const s=e*Math.pow(n,t),r=Math.round(WE*s*(Math.random()-.5)*2);return Math.min(GE,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $E;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XE(e))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zn){return this.instances.has(e)}getOptions(e=zn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zn){return this.component?this.component.multipleInstances?e:zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YE(t){return t===zn?void 0:t}function XE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const ZE={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},eb=ce.INFO,tb={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},nb=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=tb[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vc{constructor(e){this.name=e,this._logLevel=eb,this._logHandler=nb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const sb=(t,e)=>e.some(n=>t instanceof n);let Ph,Oh;function rb(){return Ph||(Ph=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ib(){return Oh||(Oh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cp=new WeakMap,ul=new WeakMap,Sp=new WeakMap,Ea=new WeakMap,wc=new WeakMap;function ob(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(An(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cp.set(n,t)}).catch(()=>{}),wc.set(e,t),e}function ab(t){if(ul.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ul.set(t,e)}let hl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lb(t){hl=t(hl)}function cb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ba(this),e,...n);return Sp.set(s,e.sort?e.sort():[e]),An(s)}:ib().includes(t)?function(...e){return t.apply(ba(this),e),An(Cp.get(this))}:function(...e){return An(t.apply(ba(this),e))}}function ub(t){return typeof t=="function"?cb(t):(t instanceof IDBTransaction&&ab(t),sb(t,rb())?new Proxy(t,hl):t)}function An(t){if(t instanceof IDBRequest)return ob(t);if(Ea.has(t))return Ea.get(t);const e=ub(t);return e!==t&&(Ea.set(t,e),wc.set(e,t)),e}const ba=t=>wc.get(t);function hb(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=An(o);return s&&o.addEventListener("upgradeneeded",l=>{s(An(o.result),l.oldVersion,l.newVersion,An(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fb=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],_a=new Map;function Mh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_a.get(e))return _a.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=db.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||fb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return _a.set(e,i),i}lb(t=>({...t,get:(e,n,s)=>Mh(e,n)||t.get(e,n,s),has:(e,n)=>!!Mh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fl="@firebase/app",Lh="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new vc("@firebase/app"),mb="@firebase/app-compat",yb="@firebase/analytics-compat",vb="@firebase/analytics",wb="@firebase/app-check-compat",Eb="@firebase/app-check",bb="@firebase/auth",_b="@firebase/auth-compat",Ib="@firebase/database",Tb="@firebase/database-compat",Cb="@firebase/functions",Sb="@firebase/functions-compat",Ab="@firebase/installations",xb="@firebase/installations-compat",kb="@firebase/messaging",Db="@firebase/messaging-compat",Rb="@firebase/performance",Nb="@firebase/performance-compat",Pb="@firebase/remote-config",Ob="@firebase/remote-config-compat",Mb="@firebase/storage",Lb="@firebase/storage-compat",Fb="@firebase/firestore",$b="@firebase/firestore-compat",Bb="firebase",Ub="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]",Vb={[fl]:"fire-core",[mb]:"fire-core-compat",[vb]:"fire-analytics",[yb]:"fire-analytics-compat",[Eb]:"fire-app-check",[wb]:"fire-app-check-compat",[bb]:"fire-auth",[_b]:"fire-auth-compat",[Ib]:"fire-rtdb",[Tb]:"fire-rtdb-compat",[Cb]:"fire-fn",[Sb]:"fire-fn-compat",[Ab]:"fire-iid",[xb]:"fire-iid-compat",[kb]:"fire-fcm",[Db]:"fire-fcm-compat",[Rb]:"fire-perf",[Nb]:"fire-perf-compat",[Pb]:"fire-rc",[Ob]:"fire-rc-compat",[Mb]:"fire-gcs",[Lb]:"fire-gcs-compat",[Fb]:"fire-fst",[$b]:"fire-fst-compat","fire-js":"fire-js",[Bb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Map,pl=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(pl.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;pl.set(e,t);for(const n of Qi.values())jb(n,t);return!0}function Yr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xn=new Ro("app","Firebase",Hb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=Ub;function Ap(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dl,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw xn.create("bad-app-name",{appName:String(r)});if(n||(n=_p()),!n)throw xn.create("no-options");const i=Qi.get(r);if(i){if(Wi(n,i.options)&&Wi(s,i.config))return i;throw xn.create("duplicate-app",{appName:r})}const o=new JE(r);for(const l of pl.values())o.addComponent(l);const a=new qb(n,s,o);return Qi.set(r,a),a}function xp(t=dl){const e=Qi.get(t);if(!e&&t===dl&&_p())return Ap();if(!e)throw xn.create("no-app",{appName:t});return e}function Kt(t,e,n){var s;let r=(s=Vb[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}On(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firebase-heartbeat-database",Gb=1,Or="firebase-heartbeat-store";let Ia=null;function kp(){return Ia||(Ia=hb(Kb,Gb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Or)}}}).catch(t=>{throw xn.create("idb-open",{originalErrorMessage:t.message})})),Ia}async function Wb(t){try{return await(await kp()).transaction(Or).objectStore(Or).get(Dp(t))}catch(e){if(e instanceof $n)rs.warn(e.message);else{const n=xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function Fh(t,e){try{const s=(await kp()).transaction(Or,"readwrite");await s.objectStore(Or).put(e,Dp(t)),await s.done}catch(n){if(n instanceof $n)rs.warn(n.message);else{const s=xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(s.message)}}}function Dp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1024,Yb=30*24*60*60*1e3;class Xb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$h();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=Yb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$h(),{heartbeatsToSend:n,unsentEntries:s}=Jb(this._heartbeatsCache.heartbeats),r=Gi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function $h(){return new Date().toISOString().substring(0,10)}function Jb(t,e=Qb){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Bh(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Bh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Zb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ip()?Tp().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Wb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Fh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bh(t){return Gi(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){On(new ln("platform-logger",e=>new pb(e),"PRIVATE")),On(new ln("heartbeat",e=>new Xb(e),"PRIVATE")),Kt(fl,Lh,t),Kt(fl,Lh,"esm2017"),Kt("fire-js","")}e_("");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,Ec=Ec||{},W=t_||self;function Yi(){}function No(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xr(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function n_(t){return Object.prototype.hasOwnProperty.call(t,Ta)&&t[Ta]||(t[Ta]=++s_)}var Ta="closure_uid_"+(1e9*Math.random()>>>0),s_=0;function r_(t,e,n){return t.call.apply(t.bind,arguments)}function i_(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ot=r_:ot=i_,ot.apply(null,arguments)}function Ei(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Bn(){this.s=this.s,this.o=this.o}var o_=0;Bn.prototype.s=!1;Bn.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),o_!=0)&&n_(this)};Bn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bc(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Uh(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(No(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var a_=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",Yi,e),W.removeEventListener("test",Yi,e)}catch{}return t}();function Xi(t){return/^[\s\xa0]*$/.test(t)}var Vh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ca(t,e){return t<e?-1:t>e?1:0}function Po(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function qt(t){return Po().indexOf(t)!=-1}function _c(t){return _c[" "](t),t}_c[" "]=Yi;function Np(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var l_=qt("Opera"),$s=qt("Trident")||qt("MSIE"),Pp=qt("Edge"),gl=Pp||$s,Op=qt("Gecko")&&!(Po().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),c_=Po().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge");function Mp(){var t=W.document;return t?t.documentMode:void 0}var Ji;e:{var Sa="",Aa=function(){var t=Po();if(Op)return/rv:([^\);]+)(\)|;)/.exec(t);if(Pp)return/Edge\/([\d\.]+)/.exec(t);if($s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(c_)return/WebKit\/(\S+)/.exec(t);if(l_)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Aa&&(Sa=Aa?Aa[1]:""),$s){var xa=Mp();if(xa!=null&&xa>parseFloat(Sa)){Ji=String(xa);break e}}Ji=Sa}var u_={};function h_(){return Np(u_,9,function(){let t=0;const e=Vh(String(Ji)).split("."),n=Vh("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=Ca(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||Ca(r[2].length==0,i[2].length==0)||Ca(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var ml;if(W.document&&$s){var jh=Mp();ml=jh||parseInt(Ji,10)||void 0}else ml=void 0;var f_=ml;function Mr(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Op){e:{try{_c(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:d_[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mr.$.h.call(this)}}ze(Mr,at);var d_={2:"touch",3:"pen",4:"mouse"};Mr.prototype.h=function(){Mr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jr="closure_listenable_"+(1e6*Math.random()|0),p_=0;function g_(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=r,this.key=++p_,this.fa=this.ia=!1}function Oo(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ic(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Lp(t){const e={};for(const n in t)e[n]=t[n];return e}const Hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fp(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Hh.length;i++)n=Hh[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Mo(t){this.src=t,this.g={},this.h=0}Mo.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=vl(t,e,s,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new g_(e,this.src,i,!!s,r),e.ia=n,t.push(e)),e};function yl(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Rp(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Oo(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vl(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==s)return r}return-1}var Tc="closure_lm_"+(1e6*Math.random()|0),ka={};function $p(t,e,n,s,r){if(s&&s.once)return Up(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)$p(t,e[i],n,s,r);return null}return n=Ac(n),t&&t[Jr]?t.O(e,n,Xr(s)?!!s.capture:!!s,r):Bp(t,e,n,!1,s,r)}function Bp(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Xr(r)?!!r.capture:!!r,a=Sc(t);if(a||(t[Tc]=a=new Mo(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=m_(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)a_||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(jp(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m_(){function t(n){return e.call(t.src,t.listener,n)}const e=y_;return t}function Up(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Up(t,e[i],n,s,r);return null}return n=Ac(n),t&&t[Jr]?t.P(e,n,Xr(s)?!!s.capture:!!s,r):Bp(t,e,n,!0,s,r)}function Vp(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Vp(t,e[i],n,s,r);else s=Xr(s)?!!s.capture:!!s,n=Ac(n),t&&t[Jr]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=vl(i,n,s,r),-1<n&&(Oo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Sc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vl(e,n,s,r)),(n=-1<t?e[t]:null)&&Cc(n))}function Cc(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jr])yl(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(jp(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Sc(e))?(yl(n,t),n.h==0&&(n.src=null,e[Tc]=null)):Oo(t)}}}function jp(t){return t in ka?ka[t]:ka[t]="on"+t}function y_(t,e){if(t.fa)t=!0;else{e=new Mr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Cc(t),t=n.call(s,e)}return t}function Sc(t){return t=t[Tc],t instanceof Mo?t:null}var Da="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(t){return typeof t=="function"?t:(t[Da]||(t[Da]=function(e){return t.handleEvent(e)}),t[Da])}function qe(){Bn.call(this),this.i=new Mo(this),this.S=this,this.J=null}ze(qe,Bn);qe.prototype[Jr]=!0;qe.prototype.removeEventListener=function(t,e,n,s){Vp(this,t,e,n,s)};function Xe(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var r=e;e=new at(s,t),Fp(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=bi(o,s,!0,e)&&r}if(o=e.g=t,r=bi(o,s,!0,e)&&r,r=bi(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=bi(o,s,!1,e)&&r}qe.prototype.N=function(){if(qe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Oo(n[s]);delete t.g[e],t.h--}}this.J=null};qe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};qe.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function bi(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&yl(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var xc=W.JSON.stringify;function v_(){var t=zp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class w_{constructor(){this.h=this.g=null}add(e,n){const s=Hp.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Hp=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new E_,t=>t.reset());class E_{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function b_(t){W.setTimeout(()=>{throw t},0)}function qp(t,e){wl||__(),El||(wl(),El=!0),zp.add(t,e)}var wl;function __(){var t=W.Promise.resolve(void 0);wl=function(){t.then(I_)}}var El=!1,zp=new w_;function I_(){for(var t;t=v_();){try{t.h.call(t.g)}catch(n){b_(n)}var e=Hp;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}El=!1}function Lo(t,e){qe.call(this),this.h=t||1,this.g=e||W,this.j=ot(this.qb,this),this.l=Date.now()}ze(Lo,qe);P=Lo.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xe(this,"tick"),this.ga&&(kc(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kc(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}P.N=function(){Lo.$.N.call(this),kc(this),delete this.g};function Dc(t,e,n){if(typeof t=="function")n&&(t=ot(t,n));else if(t&&typeof t.handleEvent=="function")t=ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function Kp(t){t.g=Dc(()=>{t.g=null,t.i&&(t.i=!1,Kp(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class T_ extends Bn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kp(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(t){Bn.call(this),this.h=t,this.g={}}ze(Lr,Bn);var qh=[];function Gp(t,e,n,s){Array.isArray(n)||(n&&(qh[0]=n.toString()),n=qh);for(var r=0;r<n.length;r++){var i=$p(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Wp(t){Ic(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cc(e)},t),t.g={}}Lr.prototype.N=function(){Lr.$.N.call(this),Wp(this)};Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fo(){this.g=!0}Fo.prototype.Ea=function(){this.g=!1};function C_(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function S_(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Is(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+x_(t,n)+(s?" "+s:"")})}function A_(t,e){t.info(function(){return"TIMEOUT: "+e})}Fo.prototype.info=function(){};function x_(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return xc(n)}catch{return e}}var hs={},zh=null;function $o(){return zh=zh||new qe}hs.Ta="serverreachability";function Qp(t){at.call(this,hs.Ta,t)}ze(Qp,at);function Fr(t){const e=$o();Xe(e,new Qp(e))}hs.STAT_EVENT="statevent";function Yp(t,e){at.call(this,hs.STAT_EVENT,t),this.stat=e}ze(Yp,at);function ft(t){const e=$o();Xe(e,new Yp(e,t))}hs.Ua="timingevent";function Xp(t,e){at.call(this,hs.Ua,t),this.size=e}ze(Xp,at);function Zr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var Bo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rc(){}Rc.prototype.h=null;function Kh(t){return t.h||(t.h=t.i())}function Zp(){}var ei={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nc(){at.call(this,"d")}ze(Nc,at);function Pc(){at.call(this,"c")}ze(Pc,at);var bl;function Uo(){}ze(Uo,Rc);Uo.prototype.g=function(){return new XMLHttpRequest};Uo.prototype.i=function(){return{}};bl=new Uo;function ti(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Lr(this),this.P=k_,t=gl?125:void 0,this.V=new Lo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new eg}function eg(){this.i=null,this.g="",this.h=!1}var k_=45e3,_l={},Zi={};P=ti.prototype;P.setTimeout=function(t){this.P=t};function Il(t,e,n){t.L=1,t.v=jo(cn(e)),t.s=n,t.S=!0,tg(t,null)}function tg(t,e){t.G=Date.now(),ni(t),t.A=cn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),cg(n.i,"t",s),t.C=0,n=t.l.I,t.h=new eg,t.g=Dg(t.l,n?e:null,!t.s),0<t.O&&(t.M=new T_(ot(t.Pa,t,t.g),t.O)),Gp(t.U,t.g,"readystatechange",t.nb),e=t.I?Lp(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fr(),C_(t.j,t.u,t.A,t.m,t.W,t.s)}P.nb=function(t){t=t.target;const e=this.M;e&&en(t)==3?e.l():this.Pa(t)};P.Pa=function(t){try{if(t==this.g)e:{const u=en(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||gl||this.g&&(this.h.h||this.g.ja()||Yh(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Fr(3):Fr(2)),Vo(this);var n=this.g.da();this.aa=n;t:if(ng(this)){var s=Yh(this.g);t="";var r=s.length,i=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),wr(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,S_(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xi(a)){var c=a;break t}}c=null}if(n=c)Is(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tl(this,n);else{this.i=!1,this.o=3,ft(12),Yn(this),wr(this);break e}}this.S?(sg(this,u,o),gl&&this.i&&u==3&&(Gp(this.U,this.V,"tick",this.mb),this.V.start())):(Is(this.j,this.m,o,null),Tl(this,o)),u==4&&Yn(this),this.i&&!this.J&&(u==4?Sg(this.l,this):(this.i=!1,ni(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Yn(this),wr(this)}}}catch{}finally{}};function ng(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function sg(t,e,n){let s=!0,r;for(;!t.J&&t.C<n.length;)if(r=D_(t,n),r==Zi){e==4&&(t.o=4,ft(14),s=!1),Is(t.j,t.m,null,"[Incomplete Response]");break}else if(r==_l){t.o=4,ft(15),Is(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Is(t.j,t.m,r,null),Tl(t,r);ng(t)&&r!=Zi&&r!=_l&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uc(e),e.L=!0,ft(11))):(Is(t.j,t.m,n,"[Invalid Chunked Response]"),Yn(t),wr(t))}P.mb=function(){if(this.g){var t=en(this.g),e=this.g.ja();this.C<e.length&&(Vo(this),sg(this,t,e),this.i&&t!=4&&ni(this))}};function D_(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Zi:(n=Number(e.substring(n,s)),isNaN(n)?_l:(s+=1,s+n>e.length?Zi:(e=e.substr(s,n),t.C=s+n,e)))}P.cancel=function(){this.J=!0,Yn(this)};function ni(t){t.Y=Date.now()+t.P,rg(t,t.P)}function rg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zr(ot(t.lb,t),e)}function Vo(t){t.B&&(W.clearTimeout(t.B),t.B=null)}P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(A_(this.j,this.A),this.L!=2&&(Fr(),ft(17)),Yn(this),this.o=2,wr(this)):rg(this,this.Y-t)};function wr(t){t.l.H==0||t.J||Sg(t.l,t)}function Yn(t){Vo(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,kc(t.V),Wp(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function Tl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Cl(n.h,t))){if(!t.K&&Cl(n.h,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)no(n),zo(n);else break e;Bc(n),ft(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&n.A==0&&!n.v&&(n.v=Zr(ot(n.ib,n),6e3));if(1>=fg(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Xn(n,11)}else if((t.K||n.g==t)&&no(n),!Xi(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const u=c[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const h=c[4];h!=null&&(n.Ga=h,n.j.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Oc(i,i.h),i.h=null))}if(s.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(s.Da=v,Se(s.G,s.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=kg(s,s.I?s.oa:null,s.Y),o.K){dg(s.h,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(Vo(a),ni(a)),s.g=o}else Tg(s);0<n.i.length&&Ko(n)}else c[0]!="stop"&&c[0]!="close"||Xn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xn(n,7):$c(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Fr(4)}catch{}}function R_(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(No(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function N_(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(No(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function ig(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(No(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=N_(t),s=R_(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var og=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P_(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ns(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ns){this.h=e!==void 0?e:t.h,eo(this,t.j),this.s=t.s,this.g=t.g,to(this,t.m),this.l=t.l,e=t.i;var n=new $r;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gh(this,n),this.o=t.o}else t&&(n=String(t).match(og))?(this.h=!!e,eo(this,n[1]||"",!0),this.s=ur(n[2]||""),this.g=ur(n[3]||"",!0),to(this,n[4]),this.l=ur(n[5]||"",!0),Gh(this,n[6]||"",!0),this.o=ur(n[7]||"")):(this.h=!!e,this.i=new $r(null,this.h))}ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hr(e,Wh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hr(e,Wh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hr(n,n.charAt(0)=="/"?L_:M_,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hr(n,$_)),t.join("")};function cn(t){return new ns(t)}function eo(t,e,n){t.j=n?ur(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function to(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Gh(t,e,n){e instanceof $r?(t.i=e,B_(t.i,t.h)):(n||(e=hr(e,F_)),t.i=new $r(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function jo(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ur(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,O_),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function O_(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Wh=/[#\/\?@]/g,M_=/[#\?:]/g,L_=/[#\?]/g,F_=/[#\?@]/g,$_=/#/g;function $r(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Un(t){t.g||(t.g=new Map,t.h=0,t.i&&P_(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}P=$r.prototype;P.add=function(t,e){Un(this),this.i=null,t=Qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ag(t,e){Un(t),e=Qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lg(t,e){return Un(t),e=Qs(t,e),t.g.has(e)}P.forEach=function(t,e){Un(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};P.sa=function(){Un(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};P.Z=function(t){Un(this);let e=[];if(typeof t=="string")lg(this,t)&&(e=e.concat(this.g.get(Qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};P.set=function(t,e){return Un(this),this.i=null,t=Qs(this,t),lg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};P.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cg(t,e,n){ag(t,e),0<n.length&&(t.i=null,t.g.set(Qs(t,e),bc(n)),t.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function Qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function B_(t,e){e&&!t.j&&(Un(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(ag(this,s),cg(this,r,n))},t)),t.j=e}var U_=class{constructor(t,e){this.h=t,this.g=e}};function ug(t){this.l=t||V_,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var V_=10;function hg(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fg(t){return t.h?1:t.g?t.g.size:0}function Cl(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Oc(t,e){t.g?t.g.add(e):t.h=e}function dg(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ug.prototype.cancel=function(){if(this.i=pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pg(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bc(t.i)}function Mc(){}Mc.prototype.stringify=function(t){return W.JSON.stringify(t,void 0)};Mc.prototype.parse=function(t){return W.JSON.parse(t,void 0)};function j_(){this.g=new Mc}function H_(t,e,n){const s=n||"";try{ig(t,function(r,i){let o=r;Xr(r)&&(o=xc(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function q_(t,e){const n=new Fo;if(W.Image){const s=new Image;s.onload=Ei(_i,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ei(_i,n,s,"TestLoadImage: error",!1,e),s.onabort=Ei(_i,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ei(_i,n,s,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function _i(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function si(t){this.l=t.fc||null,this.j=t.ob||!1}ze(si,Rc);si.prototype.g=function(){return new Ho(this.l,this.j)};si.prototype.i=function(t){return function(){return t}}({});function Ho(t,e){qe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Lc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ze(Ho,qe);var Lc=0;P=Ho.prototype;P.open=function(t,e){if(this.readyState!=Lc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Br(this)};P.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=Lc};P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gg(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gg(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ri(this):Br(this),this.readyState==3&&gg(this)}};P.Za=function(t){this.g&&(this.response=this.responseText=t,ri(this))};P.Ya=function(t){this.g&&(this.response=t,ri(this))};P.ka=function(){this.g&&ri(this)};function ri(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Br(t)}P.setRequestHeader=function(t,e){this.v.append(t,e)};P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Br(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var z_=W.JSON.parse;function De(t){qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mg,this.L=this.M=!1}ze(De,qe);var mg="",K_=/^https?$/i,G_=["POST","PUT"];P=De.prototype;P.Oa=function(t){this.M=t};P.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bl.g(),this.C=this.u?Kh(this.u):Kh(bl),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Qh(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=W.FormData&&t instanceof W.FormData,!(0<=Rp(G_,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wg(this),0<this.B&&((this.L=W_(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=Dc(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Qh(this,i)}};function W_(t){return $s&&h_()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}P.ua=function(){typeof Ec<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))};function Qh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yg(t),qo(t)}function yg(t){t.F||(t.F=!0,Xe(t,"complete"),Xe(t,"error"))}P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xe(this,"complete"),Xe(this,"abort"),qo(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qo(this,!0)),De.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?vg(this):this.kb())};P.kb=function(){vg(this)};function vg(t){if(t.h&&typeof Ec<"u"&&(!t.C[1]||en(t)!=4||t.da()!=2)){if(t.v&&en(t)==4)Dc(t.La,0,t);else if(Xe(t,"readystatechange"),en(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.I).match(og)[1]||null;if(!r&&W.self&&W.self.location){var i=W.self.location.protocol;r=i.substr(0,i.length-1)}s=!K_.test(r?r.toLowerCase():"")}n=s}if(n)Xe(t,"complete"),Xe(t,"success");else{t.m=6;try{var o=2<en(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",yg(t)}}finally{qo(t)}}}}function qo(t,e){if(t.g){wg(t);const n=t.g,s=t.C[0]?Yi:null;t.g=null,t.C=null,e||Xe(t,"ready");try{n.onreadystatechange=s}catch{}}}function wg(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function en(t){return t.g?t.g.readyState:0}P.da=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),z_(e)}};function Yh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mg:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Eg(t){let e="";return Ic(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Fc(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Eg(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function or(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bg(t){this.Ga=0,this.i=[],this.j=new Fo,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=or("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=or("baseRetryDelayMs",5e3,t),this.hb=or("retryDelaySeedMs",1e4,t),this.eb=or("forwardChannelMaxRetries",2,t),this.xa=or("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new ug(t&&t.concurrentRequestLimit),this.Ja=new j_,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}P=bg.prototype;P.qa=8;P.H=1;function $c(t){if(_g(t),t.H==3){var e=t.W++,n=cn(t.G);Se(n,"SID",t.J),Se(n,"RID",e),Se(n,"TYPE","terminate"),ii(t,n),e=new ti(t,t.j,e,void 0),e.L=2,e.v=jo(cn(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&(new Image().src=e.v,n=!0),n||(e.g=Dg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ni(e)}xg(t)}function zo(t){t.g&&(Uc(t),t.g.cancel(),t.g=null)}function _g(t){zo(t),t.u&&(W.clearTimeout(t.u),t.u=null),no(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function Ko(t){hg(t.h)||t.m||(t.m=!0,qp(t.Na,t),t.C=0)}function Q_(t,e){return fg(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zr(ot(t.Na,t,e),Ag(t,t.C)),t.C++,!0)}P.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ti(this,this.j,t,void 0);let i=this.s;if(this.U&&(i?(i=Lp(i),Fp(i,this.U)):i=this.U),this.o!==null||this.O||(r.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ig(this,r,e),n=cn(this.G),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),ii(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Eg(i)))+"&"+e:this.o&&Fc(n,this.o,i)),Oc(this.h,r),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),r.ba=!0,Il(r,n,null)):Il(r,n,e),this.H=2}}else this.H==3&&(t?Xh(this,t):this.i.length==0||hg(this.h)||Xh(this))};function Xh(t,e){var n;e?n=e.m:n=t.W++;const s=cn(t.G);Se(s,"SID",t.J),Se(s,"RID",n),Se(s,"AID",t.V),ii(t,s),t.o&&t.s&&Fc(s,t.o,t.s),n=new ti(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=Ig(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Oc(t.h,n),Il(n,s,e)}function ii(t,e){t.ma&&Ic(t.ma,function(n,s){Se(e,s,n)}),t.l&&ig({},function(n,s){Se(e,s,n)})}function Ig(t,e,n){n=Math.min(t.i.length,n);var s=t.l?ot(t.l.Va,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{H_(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,s}function Tg(t){t.g||t.u||(t.ba=1,qp(t.Ma,t),t.A=0)}function Bc(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zr(ot(t.Ma,t),Ag(t,t.A)),t.A++,!0)}P.Ma=function(){if(this.u=null,Cg(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Zr(ot(this.jb,this),t)}};P.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,ft(10),zo(this),Cg(this))};function Uc(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function Cg(t){t.g=new ti(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cn(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.J),Se(e,"CI",t.M?"0":"1"),Se(e,"AID",t.V),Se(e,"TYPE","xmlhttp"),ii(t,e),t.o&&t.s&&Fc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=jo(cn(e)),n.s=null,n.S=!0,tg(n,t)}P.ib=function(){this.v!=null&&(this.v=null,zo(this),Bc(this),ft(19))};function no(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function Sg(t,e){var n=null;if(t.g==e){no(t),Uc(t),t.g=null;var s=2}else if(Cl(t.h,e))n=e.F,dg(t.h,e),s=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;s=$o(),Xe(s,new Xp(s,n)),Ko(t)}else Tg(t);else if(r=e.o,r==3||r==0&&0<t.ta||!(s==1&&Q_(t,e)||s==2&&Bc(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Xn(t,5);break;case 4:Xn(t,10);break;case 3:Xn(t,6);break;default:Xn(t,2)}}}function Ag(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Xn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=ot(t.pb,t);n||(n=new ns("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||eo(n,"https"),jo(n)),q_(n.toString(),s)}else ft(2);t.H=0,t.l&&t.l.za(e),xg(t),_g(t)}P.pb=function(t){t?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function xg(t){if(t.H=0,t.pa=[],t.l){const e=pg(t.h);(e.length!=0||t.i.length!=0)&&(Uh(t.pa,e),Uh(t.pa,t.i),t.h.i.length=0,bc(t.i),t.i.length=0),t.l.ya()}}function kg(t,e,n){var s=n instanceof ns?cn(n):new ns(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),to(s,s.m);else{var r=W.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new ns(null,void 0);s&&eo(i,s),e&&(i.g=e),r&&to(i,r),n&&(i.l=n),s=i}return n=t.F,e=t.Da,n&&e&&Se(s,n,e),Se(s,"VER",t.qa),ii(t,s),s}function Dg(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new De(new si({ob:!0})):new De(t.va),e.Oa(t.I),e}function Rg(){}P=Rg.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.Va=function(){};function so(){if($s&&!(10<=Number(f_)))throw Error("Environmental error: no available transport.")}so.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){qe.call(this),this.g=new bg(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ys(this)}ze(bt,qe);bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;ft(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=kg(t,null,t.Y),Ko(t)};bt.prototype.close=function(){$c(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=xc(t),t=n);e.i.push(new U_(e.fb++,t)),e.H==3&&Ko(e)};bt.prototype.N=function(){this.g.l=null,delete this.j,$c(this.g),delete this.g,bt.$.N.call(this)};function Ng(t){Nc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ze(Ng,Nc);function Pg(){Pc.call(this),this.status=1}ze(Pg,Pc);function Ys(t){this.g=t}ze(Ys,Rg);Ys.prototype.Ba=function(){Xe(this.g,"a")};Ys.prototype.Aa=function(t){Xe(this.g,new Ng(t))};Ys.prototype.za=function(t){Xe(this.g,new Pg)};Ys.prototype.ya=function(){Xe(this.g,"b")};function Y_(){this.blockSize=-1}function Ft(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ze(Ft,Y_);Ft.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ra(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)s[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)s[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var i=t.g[3],o=e+(i^n&(r^i))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[2]+606105819&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[6]+2821735955&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[10]+4294925233&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(i^n&(r^i))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(r^e&(n^r))+s[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=r+(n^i&(e^n))+s[14]+2792965006&4294967295,r=i+(o<<17&4294967295|o>>>15),o=n+(e^r&(i^e))+s[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^i&(n^r))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[11]+643717713&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[15]+3634488961&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[3]+4107603335&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^i&(n^r))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^r&(e^n))+s[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(i^e))+s[7]+1735328473&4294967295,r=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(r^i))+s[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^i)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[11]+1839030562&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[7]+4139469664&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[3]+3572445317&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^i)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^r)+s[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=r+(i^e^n)+s[15]+530742520&4294967295,r=i+(o<<16&4294967295|o>>>16),o=n+(r^i^e)+s[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~i))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[14]+2878612391&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[10]+4293915773&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[6]+2734768916&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~i))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~r))+s[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=r+(e^(i|~n))+s[2]+718787259&4294967295,r=i+(o<<15&4294967295|o>>>17),o=n+(i^(r|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+i&4294967295}Ft.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,r=this.h,i=0;i<e;){if(r==0)for(;i<=n;)Ra(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(s[r++]=t.charCodeAt(i++),r==this.blockSize){Ra(this,s),r=0;break}}else for(;i<e;)if(s[r++]=t[i++],r==this.blockSize){Ra(this,s),r=0;break}}this.h=r,this.i+=e};Ft.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function fe(t,e){this.h=e;for(var n=[],s=!0,r=t.length-1;0<=r;r--){var i=t[r]|0;s&&i==e||(n[r]=i,s=!1)}this.g=n}var X_={};function Vc(t){return-128<=t&&128>t?Np(X_,t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function zt(t){if(isNaN(t)||!isFinite(t))return xs;if(0>t)return Qe(zt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Sl;return new fe(e,0)}function Og(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qe(Og(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zt(Math.pow(e,8)),s=xs,r=0;r<t.length;r+=8){var i=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+i),e);8>i?(i=zt(Math.pow(e,i)),s=s.R(i).add(zt(o))):(s=s.R(n),s=s.add(zt(o)))}return s}var Sl=4294967296,xs=Vc(0),Al=Vc(1),Jh=Vc(16777216);P=fe.prototype;P.ea=function(){if(Tt(this))return-Qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Sl+s)*e,e*=Sl}return t};P.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(tn(this))return"0";if(Tt(this))return"-"+Qe(this).toString(t);for(var e=zt(Math.pow(t,6)),n=this,s="";;){var r=io(n,e).g;n=ro(n,r.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,tn(n))return i+s;for(;6>i.length;)i="0"+i;s=i+s}};P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function tn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}P.X=function(t){return t=ro(this,t),Tt(t)?-1:tn(t)?0:1};function Qe(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new fe(n,~t.h).add(Al)}P.abs=function(){return Tt(this)?Qe(this):this};P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,r=0;r<=e;r++){var i=s+(this.D(r)&65535)+(t.D(r)&65535),o=(i>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);s=o>>>16,i&=65535,o&=65535,n[r]=o<<16|i}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function ro(t,e){return t.add(Qe(e))}P.R=function(t){if(tn(this)||tn(t))return xs;if(Tt(this))return Tt(t)?Qe(this).R(Qe(t)):Qe(Qe(this).R(t));if(Tt(t))return Qe(this.R(Qe(t)));if(0>this.X(Jh)&&0>t.X(Jh))return zt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var r=0;r<t.g.length;r++){var i=this.D(s)>>>16,o=this.D(s)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*s+2*r]+=o*l,Ii(n,2*s+2*r),n[2*s+2*r+1]+=i*l,Ii(n,2*s+2*r+1),n[2*s+2*r+1]+=o*a,Ii(n,2*s+2*r+1),n[2*s+2*r+2]+=i*a,Ii(n,2*s+2*r+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new fe(n,0)};function Ii(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ar(t,e){this.g=t,this.h=e}function io(t,e){if(tn(e))throw Error("division by zero");if(tn(t))return new ar(xs,xs);if(Tt(t))return e=io(Qe(t),e),new ar(Qe(e.g),Qe(e.h));if(Tt(e))return e=io(t,Qe(e)),new ar(Qe(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Al,s=e;0>=s.X(t);)n=Zh(n),s=Zh(s);var r=vs(n,1),i=vs(s,1);for(s=vs(s,2),n=vs(n,2);!tn(s);){var o=i.add(s);0>=o.X(t)&&(r=r.add(n),i=o),s=vs(s,1),n=vs(n,1)}return e=ro(t,r.R(e)),new ar(r,e)}for(r=xs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),i=zt(n),o=i.R(e);Tt(o)||0<o.X(t);)n-=s,i=zt(n),o=i.R(e);tn(i)&&(i=Al),r=r.add(i),t=ro(t,o)}return new ar(r,t)}P.gb=function(t){return io(this,t).h};P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new fe(n,this.h&t.h)};P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new fe(n,this.h|t.h)};P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new fe(n,this.h^t.h)};function Zh(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new fe(n,t.h)}function vs(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,r=[],i=0;i<s;i++)r[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new fe(r,t.h)}so.prototype.createWebChannel=so.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;Bo.NO_ERROR=0;Bo.TIMEOUT=8;Bo.HTTP_ERROR=6;Jp.COMPLETE="complete";Zp.EventType=ei;ei.OPEN="a";ei.CLOSE="b";ei.ERROR="c";ei.MESSAGE="d";qe.prototype.listen=qe.prototype.O;De.prototype.listenOnce=De.prototype.P;De.prototype.getLastError=De.prototype.Sa;De.prototype.getLastErrorCode=De.prototype.Ia;De.prototype.getStatus=De.prototype.da;De.prototype.getResponseJson=De.prototype.Wa;De.prototype.getResponseText=De.prototype.ja;De.prototype.send=De.prototype.ha;De.prototype.setWithCredentials=De.prototype.Oa;Ft.prototype.digest=Ft.prototype.l;Ft.prototype.reset=Ft.prototype.reset;Ft.prototype.update=Ft.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=zt;fe.fromString=Og;var J_=function(){return new so},Z_=function(){return $o()},Na=Bo,eI=Jp,tI=hs,ef={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nI=si,Ti=Zp,sI=De,rI=Ft,ks=fe;const tf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new vc("@firebase/firestore");function nf(){return is.logLevel}function $(t,...e){if(is.logLevel<=ce.DEBUG){const n=e.map(jc);is.debug(`Firestore (${Xs}): ${t}`,...n)}}function un(t,...e){if(is.logLevel<=ce.ERROR){const n=e.map(jc);is.error(`Firestore (${Xs}): ${t}`,...n)}}function Bs(t,...e){if(is.logLevel<=ce.WARN){const n=e.map(jc);is.warn(`Firestore (${Xs}): ${t}`,...n)}}function jc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+t;throw un(e),new Error(e)}function Ie(t,e){t||G()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends $n{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class oI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ss,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string"),new Mg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new et(e)}}class lI{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cI{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new lI(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?r(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.T=n.token,new uI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=fI(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function oe(t,e){return t<e?-1:t>e?1:0}function Us(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new je(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new je(0,0))}static max(){return new Y(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&G(),s===void 0?s=e.length-n:s>e.length-n&&G(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends Ur{construct(e,n,s){return new Ae(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new q(T.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Ur{construct(e,n,s){return new rt(e,n,s)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new q(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new q(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Ae.fromString(e))}static fromName(e){return new z(Ae.fromString(e).popFirst(5))}static empty(){return new z(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Ae(e.slice()))}}function pI(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(s===1e9?new je(n+1,0):new je(n,s));return new Mn(r,z.empty(),e)}function gI(t){return new Mn(t.readTime,t.key,-1)}class Mn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Mn(Y.min(),z.empty(),-1)}static max(){return new Mn(Y.max(),z.empty(),-1)}}function mI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==yI)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,s)=>{n(e)})}static reject(e){return new S((n,s)=>{s(e)})}static waitFor(e){return new S((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=S.resolve(!1);for(const s of e)n=n.next(r=>r?S.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new S((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new S((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function ai(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Hc.ct=-1;function Go(t){return t==null}function oo(t){return t===0&&1/t==-1/0}function wI(t){return typeof t=="number"&&Number.isInteger(t)&&!oo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ci(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ci(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ci(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ci(this.root,e,this.comparator,!0)}}class Ci{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:Ge.RED,this.left=r!=null?r:Ge.EMPTY,this.right=i!=null?i:Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Ge(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ge.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Ge(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class rf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new lt(rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new $g("Invalid base64 string: "+r):r}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=EI.exec(t);if(Ie(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zc(t){const e=t.mapValue.fields.__previous_value__;return qc(e)?zc(e):e}function Vr(t){const e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,s,r,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qc(t)?4:_I(t)?9007199254740991:10:G()}function Wt(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vr(t).isEqual(Vr(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Ln(s.timestampValue),o=Ln(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return os(s.bytesValue).isEqual(os(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Me(s.geoPointValue.latitude)===Me(r.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Me(s.integerValue)===Me(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Me(s.doubleValue),o=Me(r.doubleValue);return i===o?oo(i)===oo(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Us(t.arrayValue.values||[],e.arrayValue.values||[],Wt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(sf(i)!==sf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Wt(i[a],o[a])))return!1;return!0}(t,e);default:return G()}}function Hr(t,e){return(t.values||[]).find(n=>Wt(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;const n=as(t),s=as(e);if(n!==s)return oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Me(r.integerValue||r.doubleValue),a=Me(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return of(t.timestampValue,e.timestampValue);case 4:return of(Vr(t),Vr(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=os(r),a=os(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=oe(o[l],a[l]);if(c!==0)return c}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=oe(Me(r.latitude),Me(i.latitude));return o!==0?o:oe(Me(r.longitude),Me(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Vs(o[l],a[l]);if(c)return c}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Si.mapValue&&i===Si.mapValue)return 0;if(r===Si.mapValue)return 1;if(i===Si.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=oe(a[u],c[u]);if(h!==0)return h;const f=Vs(o[a[u]],l[c[u]]);if(f!==0)return f}return oe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw G()}}function of(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Ln(t),s=Ln(e),r=oe(n.seconds,s.seconds);return r!==0?r:oe(n.nanos,s.nanos)}function js(t){return xl(t)}function xl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Ln(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=xl(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${xl(s.fields[a])}`;return i+"}"}(t.mapValue):G();var e,n}function kl(t){return!!t&&"integerValue"in t}function Kc(t){return!!t&&"arrayValue"in t}function af(t){return!!t&&"nullValue"in t}function lf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Li(t){return!!t&&"mapValue"in t}function Er(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Er(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Er(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _I(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Li(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Er(n)}setAll(e){let n=rt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Er(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Li(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Li(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Js(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Ct(Er(this.value))}}function Bg(t){const e=[];return Js(t.fields,(n,s)=>{const r=new rt([n]);if(Li(s)){const i=Bg(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,Y.min(),Y.min(),Y.min(),Ct.empty(),0)}static newFoundDocument(e,n,s,r){return new nt(e,1,n,Y.min(),s,r,0)}static newNoDocument(e,n){return new nt(e,2,n,Y.min(),Y.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,Y.min(),Y.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.position=e,this.inclusive=n}}function cf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=z.comparator(z.fromName(o.referenceValue),n.key):s=Vs(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function uf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n="asc"){this.field=e,this.dir=n}}function II(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{}class Ve extends Ug{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CI(e,n,s):n==="array-contains"?new xI(e,s):n==="in"?new kI(e,s):n==="not-in"?new DI(e,s):n==="array-contains-any"?new RI(e,s):new Ve(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SI(e,s):new AI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qt extends Ug{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Qt(e,n)}matches(e){return Vg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vg(t){return t.op==="and"}function jg(t){return TI(t)&&Vg(t)}function TI(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function Dl(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+js(t.value);if(jg(t))return t.filters.map(e=>Dl(e)).join(",");{const e=t.filters.map(n=>Dl(n)).join(",");return`${t.op}(${e})`}}function Hg(t,e){return t instanceof Ve?function(n,s){return s instanceof Ve&&n.op===s.op&&n.field.isEqual(s.field)&&Wt(n.value,s.value)}(t,e):t instanceof Qt?function(n,s){return s instanceof Qt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&Hg(i,s.filters[o]),!0):!1}(t,e):void G()}function qg(t){return t instanceof Ve?function(e){return`${e.field.canonicalString()} ${e.op} ${js(e.value)}`}(t):t instanceof Qt?function(e){return e.op.toString()+" {"+e.getFilters().map(qg).join(" ,")+"}"}(t):"Filter"}class CI extends Ve{constructor(e,n,s){super(e,n,s),this.key=z.fromName(s.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class SI extends Ve{constructor(e,n){super(e,"in",n),this.keys=zg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AI extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=zg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>z.fromName(s.referenceValue))}class xI extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kc(n)&&Hr(n.arrayValue,this.value)}}class kI extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hr(this.value.arrayValue,n)}}class DI extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hr(this.value.arrayValue,n)}}class RI extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Hr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function hf(t,e=null,n=[],s=[],r=null,i=null,o=null){return new NI(t,e,n,s,r,i,o)}function Gc(t){const e=J(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Dl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Go(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>js(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>js(s)).join(",")),e.dt=n}return e.dt}function Wc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!II(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uf(t.startAt,e.startAt)&&uf(t.endAt,e.endAt)}function Rl(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function PI(t,e,n,s,r,i,o,a){return new Wo(t,e,n,s,r,i,o,a)}function Qc(t){return new Wo(t)}function ff(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function MI(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function LI(t){return t.collectionGroup!==null}function Ds(t){const e=J(t);if(e.wt===null){e.wt=[];const n=MI(e),s=OI(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new br(n)),e.wt.push(new br(rt.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new br(rt.keyField(),i))}}}return e.wt}function hn(t){const e=J(t);if(!e._t)if(e.limitType==="F")e._t=hf(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ds(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new br(i.field,o))}const s=e.endAt?new ao(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ao(e.startAt.position,e.startAt.inclusive):null;e._t=hf(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function Nl(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qo(t,e){return Wc(hn(t),hn(e))&&t.limitType===e.limitType}function Kg(t){return`${Gc(hn(t))}|lt:${t.limitType}`}function Pl(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>qg(s)).join(", ")}]`),Go(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>js(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>js(s)).join(",")),`Target(${n})`}(hn(t))}; limitType=${t.limitType})`}function Yo(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Ds(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=cf(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ds(n),s)||n.endAt&&!function(r,i,o){const a=cf(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ds(n),s))}(t,e)}function FI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gg(t){return(e,n)=>{let s=!1;for(const r of Ds(t)){const i=$I(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function $I(t,e,n){const s=t.field.isKeyField()?z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Vs(a,l):G()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Fg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new xe(z.comparator);function fn(){return BI}const Wg=new xe(z.comparator);function fr(...t){let e=Wg;for(const n of t)e=e.insert(n.key,n);return e}function Qg(t){let e=Wg;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Jn(){return _r()}function Yg(){return _r()}function _r(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const UI=new xe(z.comparator),VI=new lt(z.comparator);function te(...t){let e=VI;for(const n of t)e=e.add(n);return e}const jI=new lt(oe);function HI(){return jI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(e)?"-0":e}}function Jg(t){return{integerValue:""+t}}function qI(t,e){return wI(e)?Jg(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this._=void 0}}function zI(t,e,n){return t instanceof lo?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&qc(r)&&(r=zc(r)),r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof qr?em(t,e):t instanceof zr?tm(t,e):function(s,r){const i=Zg(s,r),o=df(i)+df(s.gt);return kl(i)&&kl(s.gt)?Jg(o):Xg(s.serializer,o)}(t,e)}function KI(t,e,n){return t instanceof qr?em(t,e):t instanceof zr?tm(t,e):n}function Zg(t,e){return t instanceof co?kl(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class lo extends Xo{}class qr extends Xo{constructor(e){super(),this.elements=e}}function em(t,e){const n=nm(e);for(const s of t.elements)n.some(r=>Wt(r,s))||n.push(s);return{arrayValue:{values:n}}}class zr extends Xo{constructor(e){super(),this.elements=e}}function tm(t,e){let n=nm(e);for(const s of t.elements)n=n.filter(r=>!Wt(r,s));return{arrayValue:{values:n}}}class co extends Xo{constructor(e,n){super(),this.serializer=e,this.gt=n}}function df(t){return Me(t.integerValue||t.doubleValue)}function nm(t){return Kc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GI(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof qr&&s instanceof qr||n instanceof zr&&s instanceof zr?Us(n.elements,s.elements,Wt):n instanceof co&&s instanceof co?Wt(n.gt,s.gt):n instanceof lo&&s instanceof lo}(t.transform,e.transform)}class WI{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fi(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jo{}function sm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new im(t.key,sn.none()):new li(t.key,t.data,sn.none());{const n=t.data,s=Ct.empty();let r=new lt(rt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new fs(t.key,s,new Pt(r.toArray()),sn.none())}}function QI(t,e,n){t instanceof li?function(s,r,i){const o=s.value.clone(),a=gf(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,r,i){if(!Fi(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=gf(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(rm(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ir(t,e,n,s){return t instanceof li?function(r,i,o,a){if(!Fi(r.precondition,i))return o;const l=r.value.clone(),c=mf(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof fs?function(r,i,o,a){if(!Fi(r.precondition,i))return o;const l=mf(r.fieldTransforms,a,i),c=i.data;return c.setAll(rm(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Fi(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function YI(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Zg(s.transform,r||null);i!=null&&(n===null&&(n=Ct.empty()),n.set(s.field,i))}return n||null}function pf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Us(n,s,(r,i)=>GI(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class li extends Jo{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fs extends Jo{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function gf(t,e,n){const s=new Map;Ie(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,KI(o,a,n[r]))}return s}function mf(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,zI(i,o,e))}return s}class im extends Jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends Jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&QI(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ir(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Yg();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=sm(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>pf(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>pf(n,s))}}class Yc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ie(e.mutations.length===s.length);let r=UI;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Yc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ne;function tT(t){switch(t){default:return G();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function om(t){if(t===void 0)return un("GRPC error has no .code"),T.UNKNOWN;switch(t){case Oe.OK:return T.OK;case Oe.CANCELLED:return T.CANCELLED;case Oe.UNKNOWN:return T.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return T.INTERNAL;case Oe.UNAVAILABLE:return T.UNAVAILABLE;case Oe.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Oe.NOT_FOUND:return T.NOT_FOUND;case Oe.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Oe.ABORTED:return T.ABORTED;case Oe.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Oe.DATA_LOSS:return T.DATA_LOSS;default:return G()}}(ne=Oe||(Oe={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ai}static getOrCreateInstance(){return Ai===null&&(Ai=new Xc),Ai}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ai=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new ks([4294967295,4294967295],0);function yf(t){const e=nT().encode(t),n=new rI;return n.update(e),new Uint8Array(n.digest())}function vf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ks([n,s],0),new ks([r,i],0)]}class Jc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new dr(`Invalid padding: ${n}`);if(s<0)throw new dr(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dr(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new dr(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ks.fromNumber(this.It)}Et(e,n,s){let r=e.add(n.multiply(ks.fromNumber(s)));return r.compare(sT)===1&&(r=new ks([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=yf(e),[s,r]=vf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);if(!this.At(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jc(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=yf(e),[s,r]=vf(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(s,r,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class dr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,ci.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zo(Y.min(),r,new xe(oe),fn(),te())}}class ci{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ci(s,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s,r){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=r}}class am{constructor(e,n){this.targetId=e,this.Vt=n}}class lm{constructor(e,n,s=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class wf{constructor(){this.St=0,this.Dt=bf(),this.Ct=ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=te(),n=te(),s=te();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:G()}}),new ci(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=bf()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fn(),this.zt=Ef(),this.Wt=new xe(oe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,r)=>{this.te(r)&&n(r)})}ne(e){var n;const s=e.targetId,r=e.Vt.count,i=this.se(s);if(i){const o=i.target;if(Rl(o))if(r===0){const a=new z(o.path);this.Yt(s,a,nt.newNoDocument(a,Y.min()))}else Ie(r===1);else{const a=this.ie(s);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(s);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=Xc.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,h){var f,p,m,v,b,A;const N={localCacheCount:u,existenceFilterCount:h.count},V=h.unchangedNames;return V&&(N.bloomFilter={applied:c===0,hashCount:(f=V==null?void 0:V.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(m=(p=V==null?void 0:V.bits)===null||p===void 0?void 0:p.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(A=(b=V==null?void 0:V.bits)===null||b===void 0?void 0:b.padding)!==null&&A!==void 0?A:0}),N}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:r}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=s;let l,c;try{l=os(i).toUint8Array()}catch(u){if(u instanceof $g)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new Jc(l,o,a)}catch(u){return Bs(u instanceof dr?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let r=0;return s.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Rl(a.target)){const l=new z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,nt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let s=te();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const r=new Zo(e,n,this.Wt,this.jt,s);return this.jt=fn(),this.zt=Ef(),this.Wt=new xe(oe),r}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new lt(oe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new xe(z.comparator)}function bf(){return new xe(z.comparator)}const iT=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oT=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),aT=(()=>({and:"AND",or:"OR"}))();class lT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ol(t,e){return t.useProto3Json||Go(e)?e:{value:e}}function uo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cm(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cT(t,e){return uo(t,e.toTimestamp())}function Gt(t){return Ie(!!t),Y.fromTimestamp(function(e){const n=Ln(e);return new je(n.seconds,n.nanos)}(t))}function Zc(t,e){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function um(t){const e=Ae.fromString(t);return Ie(pm(e)),e}function Ml(t,e){return Zc(t.databaseId,e.path)}function Pa(t,e){const n=um(e);if(n.get(1)!==t.databaseId.projectId)throw new q(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(hm(n))}function Ll(t,e){return Zc(t.databaseId,e)}function uT(t){const e=um(t);return e.length===4?Ae.emptyPath():hm(e)}function Fl(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hm(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _f(t,e,n){return{name:Ml(t,e),fields:n.value.mapValue.fields}}function hT(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Ie(c===void 0||typeof c=="string"),ct.fromBase64String(c||"")):(Ie(c===void 0||c instanceof Uint8Array),ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?T.UNKNOWN:om(l.code);return new q(c,l.message||"")}(o);n=new lm(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Pa(t,s.document.name),i=Gt(s.document.updateTime),o=s.document.createTime?Gt(s.document.createTime):Y.min(),a=new Ct({mapValue:{fields:s.document.fields}}),l=nt.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new $i(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Pa(t,s.document),i=s.readTime?Gt(s.readTime):Y.min(),o=nt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new $i([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Pa(t,s.document),i=s.removedTargetIds||[];n=new $i([],i,r,null)}else{if(!("filter"in e))return G();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new eT(r,i),a=s.targetId;n=new am(a,o)}}return n}function fT(t,e){let n;if(e instanceof li)n={update:_f(t,e.key,e.value)};else if(e instanceof im)n={delete:Ml(t,e.key)};else if(e instanceof fs)n={update:_f(t,e.key,e.data),updateMask:bT(e.fieldMask)};else{if(!(e instanceof XI))return G();n={verify:Ml(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof lo)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof co)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw G()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:cT(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:G()}(t,e.precondition)),n}function dT(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Gt(s.updateTime):Gt(r);return i.isEqual(Y.min())&&(i=Gt(r)),new WI(i,s.transformResults||[])}(n,e))):[]}function pT(t,e){return{documents:[Ll(t,e.path)]}}function gT(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ll(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ll(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return dm(Qt.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:bs(u.field),direction:vT(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Ol(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function mT(t){let e=uT(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ie(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=fm(u);return h instanceof Qt&&jg(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new br(_s(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Go(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new ao(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new ao(f,h)}(n.endAt)),PI(e,r,o,i,a,"F",l,c)}function yT(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fm(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_s(e.unaryFilter.field);return Ve.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=_s(e.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_s(e.unaryFilter.field);return Ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_s(e.unaryFilter.field);return Ve.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(e){return Ve.create(_s(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Qt.create(e.compositeFilter.filters.map(n=>fm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(t):G()}function vT(t){return iT[t]}function wT(t){return oT[t]}function ET(t){return aT[t]}function bs(t){return{fieldPath:t.canonicalString()}}function _s(t){return rt.fromServerFormat(t.fieldPath)}function dm(t){return t instanceof Ve?function(e){if(e.op==="=="){if(lf(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NAN"}};if(af(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lf(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NAN"}};if(af(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(e.field),op:wT(e.op),value:e.value}}}(t):t instanceof Qt?function(e){const n=e.getFilters().map(s=>dm(s));return n.length===1?n[0]:{compositeFilter:{op:ET(e.op),filters:n}}}(t):G()}function bT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pm(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,r,i=Y.min(),o=Y.min(),a=ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new In(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new In(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new In(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new In(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.fe=e}}function IT(t){const e=mT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.rn=new CT}addToCollectionParentIndex(e,n){return this.rn.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(Mn.min())}updateCollectionGroup(e,n,s){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class CT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new lt(Ae.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new lt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Hs(0)}static Mn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?S.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ir(s.mutation,r,Pt.empty(),je.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=te()){const r=Jn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=fr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Jn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,te()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=fn();const o=_r(),a=_r();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof fs)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ir(u.mutation,c,u.mutation.getFieldMask(),je.now())):o.set(c.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new AT(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=_r();let r=new xe((o,a)=>o-a),i=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||Pt.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||te()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Yg();u.forEach(f=>{if(!i.has(f)){const p=sm(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return S.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):S.resolve(Jn());let a=-1,l=i;return o.next(c=>S.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?S.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,te())).next(u=>({batchId:a,changes:Qg(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(s=>{let r=fr();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=fr();return this.indexManager.getCollectionParents(e,r).next(o=>S.forEach(o,a=>{const l=function(c,u){return new Wo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,nt.newInvalidDocument(c)))});let o=fr();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Ir(c.mutation,l,Pt.empty(),je.now()),Yo(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return S.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Gt(s.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:IT(s.bundledQuery),readTime:Gt(s.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.overlays=new xe(z.comparator),this.ls=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Jn();return S.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.we(e,n,i)}),S.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ls.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(s)),S.resolve()}getOverlaysForCollection(e,n,s){const r=Jn(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new xe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Jn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Jn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}we(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ls.get(r.largestBatchId).delete(s.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new ZI(n,s));let i=this.ls.get(n);i===void 0&&(i=te(),this.ls.set(n,i)),this.ls.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.fs=new lt(He.ds),this.ws=new lt(He._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new He(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new He(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new z(new Ae([])),s=new He(n,e),r=new He(n,e+1),i=[];return this.ws.forEachInRange([s,r],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new z(new Ae([])),s=new He(n,e),r=new He(n,e+1);let i=te();return this.ws.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new He(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class He{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return z.comparator(e.key,n.key)||oe(e.As,n.As)}static _s(e,n){return oe(e.As,n.As)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new lt(He.ds)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JI(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new He(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.bs(s),i=r<0?0:r;return S.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new He(n,0),r=new He(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([s,r],o=>{const a=this.Ps(o.As);i.push(a)}),S.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new lt(oe);return n.forEach(r=>{const i=new He(r,0),o=new He(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{s=s.add(a.As)})}),S.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;z.isDocumentKey(i)||(i=i.child(""));const o=new He(new z(i),0);let a=new lt(oe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),S.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(s=>{const r=this.Ps(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ie(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return S.forEach(n.mutations,r=>{const i=new He(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new He(n,0),r=this.Rs.firstAfterOrEqual(s);return S.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.Ds=e,this.docs=new xe(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return S.resolve(s?s.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let s=fn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():nt.newInvalidDocument(r))}),S.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=fn();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||mI(gI(u),s)<=0||(r.has(u.key)||Yo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,n,s,r){G()}Cs(e,n){return S.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PT(this)}getSize(e){return S.resolve(this.size)}}class PT extends ST{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(s)}),S.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.persistence=e,this.xs=new Zs(n=>Gc(n),Wc),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new eu,this.targetCount=0,this.Ms=Hs.kn()}forEachTarget(e,n){return this.xs.forEach((s,r)=>n(r)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),S.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Fn(n),S.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),S.waitFor(i).next(()=>r)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return S.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),S.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),S.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),S.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return S.resolve(s)}containsKey(e,n){return S.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Hc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new OT(this),this.indexManager=new TT,this.remoteDocumentCache=function(s){return new NT(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new _T(n),this.qs=new kT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new RT(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){$("MemoryPersistence","Starting transaction:",e);const r=new LT(this.Os.next());return this.referenceDelegate.Us(),s(r).next(i=>this.referenceDelegate.Ks(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Gs(e,n){return S.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class LT extends vI{constructor(e){super(),this.currentSequenceNumber=e}}class tu{constructor(e){this.persistence=e,this.Qs=new eu,this.js=null}static zs(e){return new tu(e)}get Ws(){if(this.js)return this.js;throw G()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),S.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),S.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ws.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ws,s=>{const r=z.fromPath(s);return this.Hs(e,r).next(i=>{i||n.removeEntry(r,Y.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return S.or([()=>S.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=r}static Li(e,n){let s=te(),r=te();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new nu(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ki(e,n).next(i=>i||this.Gi(e,n,r,s)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(ff(n))return S.resolve(null);let s=hn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Nl(n,null,"F"),s=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=te(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Nl(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,s,r){return ff(n)||r.isEqual(Y.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(i=>{const o=this.ji(n,i);return this.zi(n,o,s,r)?this.Qi(e,n):(nf()<=ce.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pl(n)),this.Wi(e,o,n,pI(r,-1)))})}ji(e,n){let s=new lt(Gg(e));return n.forEach((r,i)=>{Yo(e,i)&&(s=s.add(i))}),s}zi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,n){return nf()<=ce.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.Ui.getDocumentsMatchingQuery(e,n,Mn.min())}Wi(e,n,s,r){return this.Ui.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,s,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new xe(oe),this.Yi=new Zs(i=>Gc(i),Wc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function BT(t,e,n,s){return new $T(t,e,n,s)}async function gm(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=te();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function UT(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const v=l.docVersions.get(p);Ie(v!==null),m.version.compareTo(v)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=te();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function mm(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function VT(t,e){const n=J(t),s=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(ct.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,v,b){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,p,u)&&a.push(n.Bs.updateTargetData(i,p))});let l=fn(),c=te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(jT(i,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!s.isEqual(Y.min())){const u=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return S.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=r,i))}function jT(t,e,n){let s=te(),r=te();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=fn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}function HT(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qT(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Bs.getTargetData(s,e).next(i=>i?(r=i,S.resolve(r)):n.Bs.allocateTargetId(s).next(o=>(r=new In(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ji.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function $l(t,e,n){const s=J(t),r=s.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ai(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(r.target)}function If(t,e,n){const s=J(t);let r=Y.min(),i=te();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=J(a),h=u.Yi.get(c);return h!==void 0?S.resolve(u.Ji.get(h)):u.Bs.getTargetData(l,c)}(s,o,hn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?r:Y.min(),n?i:te())).next(a=>(zT(s,FI(e),a),{documents:a,ir:i})))}function zT(t,e,n){let s=t.Xi.get(e)||Y.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Xi.set(e,s)}class Tf{constructor(){this.activeTargetIds=HI()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KT{constructor(){this.Hr=new Tf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Tf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xi=null;function Oa(){return xi===null?xi=268435456+Math.round(2147483648*Math.random()):xi++,"0x"+xi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class YT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,r,i){const o=Oa(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this.Eo(l,r,i),this.Ao(e,a,l,s).then(c=>($("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bs("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}vo(e,n,s,r,i,o){return this.Io(e,n,s,r,i)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}To(e,n){const s=WT[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,r){const i=Oa();return new Promise((o,a)=>{const l=new sI;l.setWithCredentials(!0),l.listenOnce(eI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Na.NO_ERROR:const u=l.getResponseJson();$(Ze,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Na.TIMEOUT:$(Ze,`RPC '${e}' ${i} timed out`),a(new q(T.DEADLINE_EXCEEDED,"Request time out"));break;case Na.HTTP_ERROR:const h=l.getStatus();if($(Ze,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(b)>=0?b:T.UNKNOWN}(p.status);a(new q(m,p.message))}else a(new q(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(T.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{$(Ze,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);$(Ze,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}Ro(e,n,s){const r=Oa(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=J_(),a=Z_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new nI({})),this.Eo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=i.join("");$(Ze,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new QT({ro:b=>{p?$(Ze,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(f||($(Ze,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),$(Ze,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},oo:()=>h.close()}),v=(b,A,N)=>{b.listen(A,V=>{try{N(V)}catch(M){setTimeout(()=>{throw M},0)}})};return v(h,Ti.EventType.OPEN,()=>{p||$(Ze,`RPC '${e}' stream ${r} transport opened.`)}),v(h,Ti.EventType.CLOSE,()=>{p||(p=!0,$(Ze,`RPC '${e}' stream ${r} transport closed`),m.wo())}),v(h,Ti.EventType.ERROR,b=>{p||(p=!0,Bs(Ze,`RPC '${e}' stream ${r} transport errored:`,b),m.wo(new q(T.UNAVAILABLE,"The operation could not be completed")))}),v(h,Ti.EventType.MESSAGE,b=>{var A;if(!p){const N=b.data[0];Ie(!!N);const V=N,M=V.error||((A=V[0])===null||A===void 0?void 0:A.error);if(M){$(Ze,`RPC '${e}' stream ${r} received error:`,M);const ie=M.status;let Ce=function(X){const de=Oe[X];if(de!==void 0)return om(de)}(ie),Be=M.message;Ce===void 0&&(Ce=T.INTERNAL,Be="Unknown error status: "+ie+" with message "+M.message),p=!0,m.wo(new q(Ce,Be)),h.close()}else $(Ze,`RPC '${e}' stream ${r} received:`,N),m._o(N)}}),v(a,tI.STAT_EVENT,b=>{b.stat===ef.PROXY?$(Ze,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===ef.NOPROXY&&$(Ze,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function Ma(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return new lT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,s,r,i,o,a,l){this.ii=e,this.$o=s,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ym(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Fo===n&&this.Zo(s,r)},s=>{e(()=>{const r=new q(T.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(r)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{s(()=>this.tu(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XT extends vm{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=hT(this.serializer,e),s=function(r){if(!("targetChange"in r))return Y.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?Y.min():i.readTime?Gt(i.readTime):Y.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Fl(this.serializer),n.addTarget=function(r,i){let o;const a=i.target;if(o=Rl(a)?{documents:pT(r,a)}:{query:gT(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=cm(r,i.resumeToken);const l=Ol(r,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Y.min())>0){o.readTime=uo(r,i.snapshotVersion.toTimestamp());const l=Ol(r,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const s=yT(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Fl(this.serializer),n.removeTarget=e,this.Wo(n)}}class JT extends vm{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=dT(e.writeResults,e.commitTime),s=Gt(e.commitTime);return this.listener.cu(s,n)}return Ie(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>fT(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new q(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.Io(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(T.UNKNOWN,r.toString())})}vo(e,n,s,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(T.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class eC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(un(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{ds(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=J(a);l.vu.add(4),await ui(l),l.bu.set("Unknown"),l.vu.delete(4),await ta(l)}(this))})}),this.bu=new eC(s,r)}}async function ta(t){if(ds(t))for(const e of t.Ru)await e(!0)}async function ui(t){for(const e of t.Ru)await e(!1)}function wm(t,e){const n=J(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),iu(n)?ru(n):er(n).Ko()&&su(n,e))}function Em(t,e){const n=J(t),s=er(n);n.Au.delete(e),s.Ko()&&bm(n,e),n.Au.size===0&&(s.Ko()?s.jo():ds(n)&&n.bu.set("Unknown"))}function su(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}er(t).su(e)}function bm(t,e){t.Vu.qt(e),er(t).iu(e)}function ru(t){t.Vu=new rT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),er(t).start(),t.bu.gu()}function iu(t){return ds(t)&&!er(t).Uo()&&t.Au.size>0}function ds(t){return J(t).vu.size===0}function _m(t){t.Vu=void 0}async function nC(t){t.Au.forEach((e,n)=>{su(t,e)})}async function sC(t,e){_m(t),iu(t)?(t.bu.Iu(e),ru(t)):t.bu.set("Unknown")}async function rC(t,e,n){if(t.bu.set("Online"),e instanceof lm&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ho(t,s)}else if(e instanceof $i?t.Vu.Ht(e):e instanceof am?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Y.min()))try{const s=await mm(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(ct.EMPTY_BYTE_STRING,c.snapshotVersion)),bm(r,a);const u=new In(c.target,a,l,c.sequenceNumber);su(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){$("RemoteStore","Failed to raise snapshot:",s),await ho(t,s)}}async function ho(t,e,n){if(!ai(e))throw e;t.vu.add(1),await ui(t),t.bu.set("Offline"),n||(n=()=>mm(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ta(t)})}function Im(t,e){return e().catch(n=>ho(t,n,e))}async function na(t){const e=J(t),n=Fn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iC(e);)try{const r=await HT(e.localStore,s);if(r===null){e.Eu.length===0&&n.jo();break}s=r.batchId,oC(e,r)}catch(r){await ho(e,r)}Tm(e)&&Cm(e)}function iC(t){return ds(t)&&t.Eu.length<10}function oC(t,e){t.Eu.push(e);const n=Fn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Tm(t){return ds(t)&&!Fn(t).Uo()&&t.Eu.length>0}function Cm(t){Fn(t).start()}async function aC(t){Fn(t).hu()}async function lC(t){const e=Fn(t);for(const n of t.Eu)e.uu(n.mutations)}async function cC(t,e,n){const s=t.Eu.shift(),r=Yc.from(s,e,n);await Im(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await na(t)}async function uC(t,e){e&&Fn(t).ou&&await async function(n,s){if(r=s.code,tT(r)&&r!==T.ABORTED){const i=n.Eu.shift();Fn(n).Qo(),await Im(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await na(n)}var r}(t,e),Tm(t)&&Cm(t)}async function Sf(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=ds(n);n.vu.add(3),await ui(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ta(n)}async function hC(t,e){const n=J(t);e?(n.vu.delete(2),await ta(n)):e||(n.vu.add(2),await ui(n),n.bu.set("Unknown"))}function er(t){return t.Su||(t.Su=function(e,n,s){const r=J(e);return r.fu(),new XT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:nC.bind(null,t),ao:sC.bind(null,t),nu:rC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),iu(t)?ru(t):t.bu.set("Unknown")):(await t.Su.stop(),_m(t))})),t.Su}function Fn(t){return t.Du||(t.Du=function(e,n,s){const r=J(e);return r.fu(),new JT(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{uo:aC.bind(null,t),ao:uC.bind(null,t),au:lC.bind(null,t),cu:cC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await na(t)):(await t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new ou(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function au(t,e){if(un("AsyncQueue",`${e}: ${t}`),ai(t))return new q(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||z.comparator(n.key,s.key):(n,s)=>z.comparator(n.key,s.key),this.keyedMap=fr(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.Cu=new xe(z.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):G():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class qs{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qs(e,n,Rs.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Nu=void 0,this.listeners=[]}}class dC{constructor(){this.queries=new Zs(e=>Kg(e),Qo),this.onlineState="Unknown",this.ku=new Set}}async function pC(t,e){const n=J(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new fC),r)try{i.Nu=await n.onListen(s)}catch(o){const a=au(o,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&lu(n)}async function gC(t,e){const n=J(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function mC(t,e){const n=J(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(r)&&(s=!0);o.Nu=r}}s&&lu(n)}function yC(t,e,n){const s=J(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function lu(t){t.ku.forEach(e=>{e.next()})}class vC{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.key=e}}class Am{constructor(e){this.key=e}}class wC{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=Gg(e),this.ec=new Rs(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Af,r=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=Yo(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(s.track({type:3,doc:p}),b=!0):this.rc(f,p)||(s.track({type:2,doc:p}),b=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),b=!0):f&&!p&&(s.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return p(h)-p(f)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new qs(this.query,e.ec,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Af,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=te(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Am(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new Sm(s))}),n}hc(e){this.Yu=e.ir,this.Zu=te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return qs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class EC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bC{constructor(e){this.key=e,this.fc=!1}}class _C{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Zs(a=>Kg(a),Qo),this._c=new Map,this.mc=new Set,this.gc=new xe(z.comparator),this.yc=new Map,this.Ic=new eu,this.Tc={},this.Ec=new Map,this.Ac=Hs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function IC(t,e){const n=PC(t);let s,r;const i=n.wc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.lc();else{const o=await qT(n.localStore,hn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await TC(n,e,s,a==="current",o.resumeToken),n.isPrimaryClient&&wm(n.remoteStore,o)}return r}async function TC(t,e,n,s,r){t.Rc=(h,f,p)=>async function(m,v,b,A){let N=v.view.sc(b);N.zi&&(N=await If(m.localStore,v.query,!1).then(({documents:ie})=>v.view.sc(ie,N)));const V=A&&A.targetChanges.get(v.targetId),M=v.view.applyChanges(N,m.isPrimaryClient,V);return kf(m,v.targetId,M.cc),M.snapshot}(t,h,f,p);const i=await If(t.localStore,e,!0),o=new wC(e,i.ir),a=o.sc(i.documents),l=ci.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);kf(t,n,c.cc);const u=new EC(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function CC(t,e){const n=J(t),s=n.wc.get(e),r=n._c.get(s.targetId);if(r.length>1)return n._c.set(s.targetId,r.filter(i=>!Qo(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await $l(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Em(n.remoteStore,s.targetId),Bl(n,s.targetId)}).catch(oi)):(Bl(n,s.targetId),await $l(n.localStore,s.targetId,!0))}async function SC(t,e,n){const s=OC(t);try{const r=await function(i,o){const a=J(i),l=je.now(),c=o.reduce((f,p)=>f.add(p.key),te());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=fn(),m=te();return a.Zi.getEntries(f,c).next(v=>{p=v,p.forEach((b,A)=>{A.isValidDocument()||(m=m.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(v=>{u=v;const b=[];for(const A of o){const N=YI(A,u.get(A.key).overlayedDocument);N!=null&&b.push(new fs(A.key,N,Bg(N.value.mapValue),sn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,b,o)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:Qg(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new xe(oe)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(s,r.batchId,n),await hi(s,r.changes),await na(s.remoteStore)}catch(r){const i=au(r,"Failed to persist write");n.reject(i)}}async function xm(t,e){const n=J(t);try{const s=await VT(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.yc.get(i);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?Ie(o.fc):r.removedDocuments.size>0&&(Ie(o.fc),o.fc=!1))}),await hi(n,s,e)}catch(s){await oi(s)}}function xf(t,e,n){const s=J(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=J(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Mu(o)&&(l=!0)}),l&&lu(a)}(s.eventManager,e),r.length&&s.dc.nu(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AC(t,e,n){const s=J(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.yc.get(e),i=r&&r.key;if(i){let o=new xe(z.comparator);o=o.insert(i,nt.newNoDocument(i,Y.min()));const a=te().add(i),l=new Zo(Y.min(),new Map,new xe(oe),o,a);await xm(s,l),s.gc=s.gc.remove(i),s.yc.delete(e),cu(s)}else await $l(s.localStore,e,!1).then(()=>Bl(s,e,n)).catch(oi)}async function xC(t,e){const n=J(t),s=e.batch.batchId;try{const r=await UT(n.localStore,e);Dm(n,s,null),km(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hi(n,r)}catch(r){await oi(r)}}async function kC(t,e,n){const s=J(t);try{const r=await function(i,o){const a=J(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ie(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);Dm(s,e,n),km(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hi(s,r)}catch(r){await oi(r)}}function km(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Dm(t,e,n){const s=J(t);let r=s.Tc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Tc[s.currentUser.toKey()]=r}}function Bl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Rm(t,s)})}function Rm(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Em(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),cu(t))}function kf(t,e,n){for(const s of n)s instanceof Sm?(t.Ic.addReference(s.key,e),DC(t,s)):s instanceof Am?($("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Rm(t,s.key)):G()}function DC(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||($("SyncEngine","New document in limbo: "+n),t.mc.add(s),cu(t))}function cu(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new z(Ae.fromString(e)),s=t.Ac.next();t.yc.set(s,new bC(n)),t.gc=t.gc.insert(n,s),wm(t.remoteStore,new In(hn(Qc(n.path)),s,"TargetPurposeLimboResolution",Hc.ct))}}async function hi(t,e,n){const s=J(t),r=[],i=[],o=[];s.wc.isEmpty()||(s.wc.forEach((a,l)=>{o.push(s.Rc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=nu.Li(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.dc.nu(r),await async function(a,l){const c=J(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>S.forEach(l,h=>S.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>S.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!ai(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ji.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ji=c.Ji.insert(h,m)}}}(s.localStore,i))}async function RC(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const s=await gm(n.localStore,e);n.currentUser=e,function(r,i){r.Ec.forEach(o=>{o.forEach(a=>{a.reject(new q(T.CANCELLED,i))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hi(n,s.er)}}function NC(t,e){const n=J(t),s=n.yc.get(e);if(s&&s.fc)return te().add(s.key);{let r=te();const i=n._c.get(e);if(!i)return r;for(const o of i){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}function PC(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AC.bind(null,e),e.dc.nu=mC.bind(null,e.eventManager),e.dc.Pc=yC.bind(null,e.eventManager),e}function OC(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,e),e}class Df{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ea(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BT(this.persistence,new FT,e.initialUser,this.serializer)}createPersistence(e){return new MT(tu.zs,this.serializer)}createSharedClientState(e){return new KT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dC}createDatastore(e){const n=ea(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new YT(r));var r;return function(i,o,a,l){return new ZT(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>xf(this.syncEngine,a,0),o=Cf.D()?new Cf:new GT,new tC(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new _C(s,r,i,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=J(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ui(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=et.UNAUTHENTICATED,this.clientId=Lg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=au(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function La(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await gm(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BC(t);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>Sf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Sf(e.remoteStore,i)),t._onlineComponents=e}function $C(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await La(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$C(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await La(t,new Df)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await La(t,new Df);return t._offlineComponents}async function Nm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Rf(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Rf(t,new MC))),t._onlineComponents}function UC(t){return Nm(t).then(e=>e.syncEngine)}async function Nf(t){const e=await Nm(t),n=e.eventManager;return n.onListen=IC.bind(null,e.syncEngine),n.onUnlisten=CC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e,n){if(!n)throw new q(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VC(t,e,n,s){if(e===!0&&s===!0)throw new q(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Of(t){if(!z.isDocumentKey(t))throw new q(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mf(t){if(z.isDocumentKey(t))throw new q(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uu(t);throw new q(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new q(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pm((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(T.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class sa{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iI;switch(n.type){case"firstParty":return new cI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Pf.get(e);n&&($("ComponentProvider","Removing Datastore"),Pf.delete(e),n.terminate())}(this),Promise.resolve()}}function jC(t,e,n,s={}){var r;const i=(t=Tr(t,sa))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=et.MOCK_USER;else{o=BE(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new q(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new et(l)}t._authCredentials=new oI(new Mg(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class kn extends ra{constructor(e,n,s){super(e,n,Qc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new z(e))}withConverter(e){return new kn(this.firestore,e,this._path)}}function Ff(t,e,...n){if(t=Pn(t),Om("collection","path",e),t instanceof sa){const s=Ae.fromString(e,...n);return Mf(s),new kn(t,null,s)}{if(!(t instanceof xt||t instanceof kn))throw new q(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Mf(s),new kn(t.firestore,null,s)}}function HC(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=Lg.A()),Om("doc","path",e),t instanceof sa){const s=Ae.fromString(e,...n);return Of(s),new xt(t,null,new z(s))}{if(!(t instanceof xt||t instanceof kn))throw new q(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ae.fromString(e,...n));return Of(s),new xt(t.firestore,t instanceof kn?t.converter:null,new z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ym(this,"async_queue_retry"),this.Xc=()=>{const n=Ma();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ma();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ma();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ss;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ai(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw un("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=ou.createAndSchedule(this,e,n,s,i=>this.na(i));return this.zc.push(r),r}Zc(){this.Wc&&G()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function $f(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class fo extends sa{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new qC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lm(this),this._firestoreClient.terminate()}}function zC(t,e){const n=typeof t=="object"?t:xp(),s=typeof t=="string"?t:e||"(default)",r=Yr(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=FE("firestore");i&&jC(r,...i)}return r}function Mm(t){return t._firestoreClient||Lm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Lm(t){var e,n,s;const r=t._freezeSettings(),i=function(o,a,l,c){return new bI(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Pm(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new FC(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=r.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((s=r.cache)===null||s===void 0?void 0:s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(ct.fromBase64String(e))}catch(n){throw new q(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^__.*__$/;class GC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new li(e,this.data,n,this.fieldTransforms)}}function $m(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class du{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new du(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.fa(e),r}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:s,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return po(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if($m(this.ca)&&KC.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class WC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ea(e)}ya(e,n,s,r=!1){return new du({ca:e,methodName:n,ga:s,path:rt.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QC(t){const e=t._freezeSettings(),n=ea(t._databaseId);return new WC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YC(t,e,n,s,r,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,r);jm("Data must be an object, but it was:",o,s);const a=Um(s,o);let l,c;if(i.merge)l=new Pt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=XC(e,h,n);if(!o.contains(f))throw new q(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZC(u,f)||u.push(f)}l=new Pt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new GC(new Ct(a),l,c)}function Bm(t,e){if(Vm(t=Pn(t)))return jm("Unsupported field value:",e,t),Um(t,e);if(t instanceof Fm)return function(n,s){if(!$m(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Bm(o,s.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Pn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=je.fromDate(n);return{timestampValue:uo(s.serializer,r)}}if(n instanceof je){const r=new je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uo(s.serializer,r)}}if(n instanceof fu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zs)return{bytesValue:cm(s.serializer,n._byteString)};if(n instanceof xt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Zc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${uu(n)}`)}(t,e)}function Um(t,e){const n={};return Fg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(s,r)=>{const i=Bm(r,e.ha(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Vm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof fu||t instanceof zs||t instanceof xt||t instanceof Fm)}function jm(t,e,n){if(!Vm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=uu(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function XC(t,e,n){if((e=Pn(e))instanceof hu)return e._internalPath;if(typeof e=="string")return Hm(t,e);throw po("Field path arguments must be of type string or ",t,!1,void 0,n)}const JC=new RegExp("[~\\*/\\[\\]]");function Hm(t,e,n){if(e.search(JC)>=0)throw po(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hu(...e.split("."))._internalPath}catch{throw po(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function po(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new q(T.INVALID_ARGUMENT,a+t+l)}function ZC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eS extends qm{data(){return super.data()}}function zm(t,e){return typeof e=="string"?Hm(t,e):e instanceof hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nS{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Js(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new fu(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zc(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vr(e));default:return null}}convertTimestamp(e){const n=Ln(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ae.fromString(e);Ie(pm(s));const r=new jr(s.get(1),s.get(3)),i=new z(s.popFirst(5));return r.isEqual(n)||un(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Km extends qm{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bi extends Km{data(e={}){return super.data(e)}}class rS{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new pr(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bi(this._firestore,this._userDataWriter,s.key,s,new pr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new Bi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Bi(s._firestore,s._userDataWriter,o.doc.key,o.doc,new pr(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:iS(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Gm extends nS{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function oS(t,e){const n=Tr(t.firestore,fo),s=HC(t),r=sS(t.converter,e);return lS(n,[YC(QC(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,sn.exists(!1))]).then(()=>s)}function aS(t,...e){var n,s,r;t=Pn(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||$f(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if($f(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof xt)c=Tr(t.firestore,fo),u=Qc(t._key.path),l={next:h=>{e[o]&&e[o](cS(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Tr(t,ra);c=Tr(h.firestore,fo),u=h._query;const f=new Gm(c);l={next:p=>{e[o]&&e[o](new rS(c,f,h,p))},error:e[o+1],complete:e[o+2]},tS(t._query)}return function(h,f,p,m){const v=new LC(m),b=new vC(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>pC(await Nf(h),b)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>gC(await Nf(h),b))}}(Mm(c),u,a,l)}function lS(t,e){return function(n,s){const r=new ss;return n.asyncQueue.enqueueAndForget(async()=>SC(await UC(n),s,r)),r.promise}(Mm(t),e)}function cS(t,e,n){const s=n.docs.get(e._key),r=new Gm(t);return new Km(t,r,e._key,s,new pr(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Xs=n})(zb),On(new ln("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new fo(new aI(n.getProvider("auth-internal")),new hI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jr(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Kt(tf,"3.12.0",t),Kt(tf,"3.12.0","esm2017")})();var uS="firebase",hS="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(uS,hS,"app");const fS=(t,e)=>e.some(n=>t instanceof n);let Bf,Uf;function dS(){return Bf||(Bf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return Uf||(Uf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wm=new WeakMap,Ul=new WeakMap,Qm=new WeakMap,Fa=new WeakMap,pu=new WeakMap;function gS(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Dn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wm.set(n,t)}).catch(()=>{}),pu.set(e,t),e}function mS(t){if(Ul.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ul.set(t,e)}let Vl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ul.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yS(t){Vl=t(Vl)}function vS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call($a(this),e,...n);return Qm.set(s,e.sort?e.sort():[e]),Dn(s)}:pS().includes(t)?function(...e){return t.apply($a(this),e),Dn(Wm.get(this))}:function(...e){return Dn(t.apply($a(this),e))}}function wS(t){return typeof t=="function"?vS(t):(t instanceof IDBTransaction&&mS(t),fS(t,dS())?new Proxy(t,Vl):t)}function Dn(t){if(t instanceof IDBRequest)return gS(t);if(Fa.has(t))return Fa.get(t);const e=wS(t);return e!==t&&(Fa.set(t,e),pu.set(e,t)),e}const $a=t=>pu.get(t);function ES(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Dn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Dn(o.result),l.oldVersion,l.newVersion,Dn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const bS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],Ba=new Map;function Vf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ba.get(e))return Ba.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=_S.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||bS.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Ba.set(e,i),i}yS(t=>({...t,get:(e,n,s)=>Vf(e,n)||t.get(e,n,s),has:(e,n)=>!!Vf(e,n)||t.has(e,n)}));const Ym="@firebase/installations",gu="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=1e4,Jm=`w:${gu}`,Zm="FIS_v2",IS="https://firebaseinstallations.googleapis.com/v1",TS=60*60*1e3,CS="installations",SS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ls=new Ro(CS,SS,AS);function ey(t){return t instanceof $n&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty({projectId:t}){return`${IS}/projects/${t}/installations`}function ny(t){return{token:t.token,requestStatus:2,expiresIn:kS(t.expiresIn),creationTime:Date.now()}}async function sy(t,e){const s=(await e.json()).error;return ls.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ry({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xS(t,{refreshToken:e}){const n=ry(t);return n.append("Authorization",DS(e)),n}async function iy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kS(t){return Number(t.replace("s","000"))}function DS(t){return`${Zm} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=ty(t),r=ry(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:Zm,appId:t.appId,sdkVersion:Jm},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await iy(()=>fetch(s,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ny(c.authToken)}}else throw await sy("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=/^[cdef][\w-]{21}$/,jl="";function OS(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=MS(t);return PS.test(n)?n:jl}catch{return jl}}function MS(t){return NS(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map;function ly(t,e){const n=ia(t);cy(n,e),LS(n,e)}function cy(t,e){const n=ay.get(t);if(!!n)for(const s of n)s(e)}function LS(t,e){const n=FS();n&&n.postMessage({key:t,fid:e}),$S()}let Zn=null;function FS(){return!Zn&&"BroadcastChannel"in self&&(Zn=new BroadcastChannel("[Firebase] FID Change"),Zn.onmessage=t=>{cy(t.data.key,t.data.fid)}),Zn}function $S(){ay.size===0&&Zn&&(Zn.close(),Zn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-installations-database",US=1,cs="firebase-installations-store";let Ua=null;function mu(){return Ua||(Ua=ES(BS,US,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cs)}}})),Ua}async function go(t,e){const n=ia(t),r=(await mu()).transaction(cs,"readwrite"),i=r.objectStore(cs),o=await i.get(n);return await i.put(e,n),await r.done,(!o||o.fid!==e.fid)&&ly(t,e.fid),e}async function uy(t){const e=ia(t),s=(await mu()).transaction(cs,"readwrite");await s.objectStore(cs).delete(e),await s.done}async function oa(t,e){const n=ia(t),r=(await mu()).transaction(cs,"readwrite"),i=r.objectStore(cs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&ly(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){let e;const n=await oa(t.appConfig,s=>{const r=VS(s),i=jS(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===jl?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VS(t){const e=t||{fid:OS(),registrationStatus:0};return hy(e)}function jS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ls.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=HS(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qS(t)}:{installationEntry:e}}async function HS(t,e){try{const n=await RS(t,e);return go(t.appConfig,n)}catch(n){throw ey(n)&&n.customData.serverCode===409?await uy(t.appConfig):await go(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function qS(t){let e=await jf(t.appConfig);for(;e.registrationStatus===1;)await oy(100),e=await jf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await yu(t);return s||n}return e}function jf(t){return oa(t,e=>{if(!e)throw ls.create("installation-not-found");return hy(e)})}function hy(t){return zS(t)?{fid:t.fid,registrationStatus:0}:t}function zS(t){return t.registrationStatus===1&&t.registrationTime+Xm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS({appConfig:t,heartbeatServiceProvider:e},n){const s=GS(t,n),r=xS(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Jm,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await iy(()=>fetch(s,a));if(l.ok){const c=await l.json();return ny(c)}else throw await sy("Generate Auth Token",l)}function GS(t,{fid:e}){return`${ty(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e=!1){let n;const s=await oa(t.appConfig,i=>{if(!fy(i))throw ls.create("not-registered");const o=i.authToken;if(!e&&YS(o))return i;if(o.requestStatus===1)return n=WS(t,e),i;{if(!navigator.onLine)throw ls.create("app-offline");const a=JS(i);return n=QS(t,a),a}});return n?await n:s.authToken}async function WS(t,e){let n=await Hf(t.appConfig);for(;n.authToken.requestStatus===1;)await oy(100),n=await Hf(t.appConfig);const s=n.authToken;return s.requestStatus===0?vu(t,e):s}function Hf(t){return oa(t,e=>{if(!fy(e))throw ls.create("not-registered");const n=e.authToken;return ZS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QS(t,e){try{const n=await KS(t,e),s=Object.assign(Object.assign({},e),{authToken:n});return await go(t.appConfig,s),n}catch(n){if(ey(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uy(t.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await go(t.appConfig,s)}throw n}}function fy(t){return t!==void 0&&t.registrationStatus===2}function YS(t){return t.requestStatus===2&&!XS(t)}function XS(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TS}function JS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZS(t){return t.requestStatus===1&&t.requestTime+Xm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t){const e=t,{installationEntry:n,registrationPromise:s}=await yu(e);return s?s.catch(console.error):vu(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e=!1){const n=t;return await n2(n),(await vu(n,e)).token}async function n2(t){const{registrationPromise:e}=await yu(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){if(!t||!t.options)throw Va("App Configuration");if(!t.name)throw Va("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Va(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Va(t){return ls.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="installations",r2="installations-internal",i2=t=>{const e=t.getProvider("app").getImmediate(),n=s2(e),s=Yr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},o2=t=>{const e=t.getProvider("app").getImmediate(),n=Yr(e,dy).getImmediate();return{getId:()=>e2(n),getToken:r=>t2(n,r)}};function a2(){On(new ln(dy,i2,"PUBLIC")),On(new ln(r2,o2,"PRIVATE"))}a2();Kt(Ym,gu);Kt(Ym,gu,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="analytics",l2="firebase_id",c2="origin",u2=60*1e3,h2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new vc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Et=new Ro("analytics","Analytics",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){if(!t.startsWith(wu)){const e=Et.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function py(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function p2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function g2(t,e){const n=p2("firebase-js-sdk-policy",{createScriptURL:d2}),s=document.createElement("script"),r=`${wu}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function m2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y2(t,e,n,s,r,i){const o=s[r];try{if(o)await e[o];else{const l=(await py(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(a){gt.error(a)}t("config",r,i)}async function v2(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await py(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&e[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){gt.error(i)}}function w2(t,e,n,s){async function r(i,...o){try{if(i==="event"){const[a,l]=o;await v2(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await y2(t,e,n,s,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){gt.error(a)}}return r}function E2(t,e,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=w2(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function b2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wu)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=30,I2=1e3;class T2{constructor(e={},n=I2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gy=new T2;function C2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function S2(t){var e;const{appId:n,apiKey:s}=t,r={method:"GET",headers:C2(s)},i=h2.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Et.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function A2(t,e=gy,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Et.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Et.create("no-api-key")}const o=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new D2;return setTimeout(async()=>{a.abort()},n!==void 0?n:u2),my({appId:s,apiKey:r,measurementId:i},o,a,e)}async function my(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=gy){var i;const{appId:o,measurementId:a}=t;try{await x2(s,e)}catch(l){if(a)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await S2(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!k2(c)){if(r.deleteThrottleMetadata(o),a)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Nh(n,r.intervalMillis,_2):Nh(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),gt.debug(`Calling attemptFetch again in ${u} millis`),my(t,h,s,r)}}function x2(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Et.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k2(t){if(!(t instanceof $n)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class D2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function R2(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,o=Object.assign(Object.assign({},s),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(){if(Ip())try{await Tp()}catch(t){return gt.warn(Et.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(Et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function P2(t,e,n,s,r,i,o){var a;const l=A2(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>gt.error(p)),e.push(l);const c=N2().then(p=>{if(p)return s.getId()}),[u,h]=await Promise.all([l,c]);b2(i)||g2(i,u.measurementId),r("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[c2]="firebase",f.update=!0,h!=null&&(f[l2]=h),r("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.app=e}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},qf=[];const zf={};let ja="dataLayer",M2="gtag",Kf,yy,Gf=!1;function L2(){const t=[];if(UE()&&t.push("This is a browser extension environment."),VE()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Et.create("invalid-analytics-context",{errorInfo:e});gt.warn(n.message)}}function F2(t,e,n){L2();const s=t.options.appId;if(!s)throw Et.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Et.create("no-api-key");if(Cr[s]!=null)throw Et.create("already-exists",{id:s});if(!Gf){m2(ja);const{wrappedGtag:i,gtagCore:o}=E2(Cr,qf,zf,ja,M2);yy=i,Kf=o,Gf=!0}return Cr[s]=P2(t,qf,zf,e,Kf,ja,n),new O2(t)}function $2(t=xp()){t=Pn(t);const e=Yr(t,mo);return e.isInitialized()?e.getImmediate():B2(t)}function B2(t,e={}){const n=Yr(t,mo);if(n.isInitialized()){const r=n.getImmediate();if(Wi(e,n.getOptions()))return r;throw Et.create("already-initialized")}return n.initialize({options:e})}function U2(t,e,n,s){t=Pn(t),R2(yy,Cr[t.app.options.appId],e,n,s).catch(r=>gt.error(r))}const Wf="@firebase/analytics",Qf="0.10.0";function V2(){On(new ln(mo,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return F2(s,r,n)},"PUBLIC")),On(new ln("analytics-internal",t,"PRIVATE")),Kt(Wf,Qf),Kt(Wf,Qf,"esm2017");function t(e){try{const n=e.getProvider(mo).getImmediate();return{logEvent:(s,r,i)=>U2(n,s,r,i)}}catch(n){throw Et.create("interop-component-reg-failed",{reason:n})}}}V2();const j2={apiKey:"AIzaSyDjuq_ZyNu-pbMbPLa994mJlD1aviZvHsw",authDomain:"arumi-id.firebaseapp.com",projectId:"arumi-id",storageBucket:"arumi-id.appspot.com",messagingSenderId:"722517493716",appId:"1:722517493716:web:e93db33e4eb2c980b17841",measurementId:"G-G4M626TSQ5"},vy=Ap(j2);$2(vy);const Yf=zC(vy);const H2=["onSubmit"],q2={key:0,class:"add-product"},z2={class:"field"},K2=k("label",{class:"label"},"Jenis Product",-1),G2={class:"control"},W2={class:"field"},Q2=k("label",{class:"label"},"Nama Product",-1),Y2={class:"control"},X2={class:"field"},J2=k("label",{class:"label"},"Warna Product",-1),Z2={class:"control"},eA={class:"field"},tA=k("label",{class:"label"},"Quantity Product",-1),nA={class:"control"},sA={class:"field"},rA=k("label",{class:"label"},"Harga Product",-1),iA={class:"control"},oA={class:"field is-grouped pt-4"},aA={class:"control"},lA=["disabled"],cA={class:"control"},uA={key:1,class:"add-product"},hA={class:"field is-grouped pl-20 pt-4"},fA={class:"control"},dA={key:0,class:"data-product"},pA={class:"table",style:{margin:"0 auto","background-color":"#f3e8dc","border-radius":"5px"}},gA=k("thead",null,[k("tr",null,[k("th",null,"Jenis Barang"),k("th",null,"Nama Barang"),k("th",null,"Warna Barang"),k("th",null,"Quantity"),k("th",null,"Harga Barang")])],-1),mA={__name:"DataProduct",setup(t){const e=ve(!1),n=ve(""),s=ve(""),r=ve(""),i=ve(""),o=ve("");let a=ve([]);Nn(async()=>{aS(Ff(Yf,"stockBarang"),c=>{let u=[];c.forEach(h=>{let f={id:h.id,varian:h.data().varian,nama:h.data().nama,warna:h.data().warna,qty:h.data().qty,harga:h.data().harga};u.push(f)}),a.value=u})});const l=async()=>{console.log("asd",{id:Dh(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});const c=await oS(Ff(Yf,"stockBarang"),{id:Dh(),varian:n.value,nama:s.value,warna:r.value,qty:i.value,harga:o.value});console.log("Document written with ID: ",c.id)};return(c,u)=>(Le(),tt(We,null,[k("form",{onSubmit:q0(l,["prevent"])},[e.value?(Le(),tt("div",q2,[k("div",z2,[K2,k("div",G2,[nr(k("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>n.value=h),class:"input",type:"text",placeholder:"Jenis Product"},null,512),[[rr,n.value]])])]),k("div",W2,[Q2,k("div",Y2,[nr(k("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>s.value=h),class:"input",type:"text",placeholder:"Nama Product"},null,512),[[rr,s.value]])])]),k("div",X2,[J2,k("div",Z2,[nr(k("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>r.value=h),class:"input",type:"text",placeholder:"warna Product"},null,512),[[rr,r.value]])])]),k("div",eA,[tA,k("div",nA,[nr(k("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h),class:"input",type:"text",placeholder:"Quantity Product"},null,512),[[rr,i.value]])])]),k("div",sA,[rA,k("div",iA,[nr(k("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>o.value=h),class:"input",type:"text",placeholder:"Harga Product"},null,512),[[rr,o.value]])])]),k("div",oA,[k("div",aA,[k("button",{disabled:!n.value||!s.value||!o.value,class:"button is-link"},"Submit",8,lA)]),k("div",cA,[k("button",{onClick:u[5]||(u[5]=h=>e.value=!1),class:"button is-danger"},"Cancel")])])])):(Le(),tt("div",uA,[k("div",hA,[k("div",fA,[k("button",{class:"button is-link",onClick:u[6]||(u[6]=h=>e.value=!0)},"Tambah Data")])])]))],40,H2),e.value?o0("",!0):(Le(),tt("div",dA,[k("table",pA,[gA,k("tbody",null,[(Le(!0),tt(We,null,Hi(Ne(a),h=>(Le(),tt("tr",{key:h.id},[k("th",null,jt(h.varian),1),k("th",null,jt(h.nama),1),k("th",null,jt(h.warna),1),k("th",null,jt(h.qty)+" pcs",1),k("th",null,jt(h.harga),1)]))),128))])])]))],64))}},yA=Jw({history:gw("/arumi-id/"),routes:[{path:"/",name:"home",component:vE},{path:"/master-stock",name:"master stock",component:IE},{path:"/data-product",name:"data product",component:mA},{path:"/about",name:"about",component:()=>iE(()=>import("./About.e6860421.js"),[])}]});const Eu=G0(nE);Eu.use(X0());Eu.use(yA);Eu.mount("#app");export{We as F,k as a,Hd as b,tt as c,Le as o,Hi as r,jt as t};
